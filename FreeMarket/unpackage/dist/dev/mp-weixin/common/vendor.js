"use strict";function kt(e,t){const n=Object.create(null),r=e.split(",");for(let o=0;o<r.length;o++)n[r[o]]=!0;return t?o=>!!n[o.toLowerCase()]:o=>!!n[o]}function ri(e){if(M(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],o=Z(r)?Ya(r):ri(r);if(o)for(const s in o)t[s]=o[s]}return t}else{if(Z(e))return e;if(X(e))return e}}const Va=/;(?![^(]*\))/g,Wa=/:([^]+)/,za=/\/\*.*?\*\//gs;function Ya(e){const t={};return e.replace(za,"").split(Va).forEach(n=>{if(n){const r=n.split(Wa);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function oi(e){let t="";if(Z(e))t=e;else if(M(e))for(let n=0;n<e.length;n++){const r=oi(e[n]);r&&(t+=r+" ")}else if(X(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}const Ja=e=>Z(e)?e:e==null?"":M(e)||X(e)&&(e.toString===ui||!$(e.toString))?JSON.stringify(e,si,2):String(e),si=(e,t)=>t&&t.__v_isRef?si(e,t.value):tt(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,o])=>(n[`${r} =>`]=o,n),{})}:ai(t)?{[`Set(${t.size})`]:[...t.values()]}:X(t)&&!M(t)&&!oe(t)?String(t):t,re=Object.freeze({}),Do=Object.freeze([]),ue=()=>{},ii=()=>!1,Ga=/^on[^a-z]/,ci=e=>Ga.test(e),Bo=e=>e.startsWith("onUpdate:"),Q=Object.assign,Nn=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Xa=Object.prototype.hasOwnProperty,U=(e,t)=>Xa.call(e,t),M=Array.isArray,tt=e=>ke(e)==="[object Map]",ai=e=>ke(e)==="[object Set]",$=e=>typeof e=="function",Z=e=>typeof e=="string",eo=e=>typeof e=="symbol",X=e=>e!==null&&typeof e=="object",Zt=e=>X(e)&&$(e.then)&&$(e.catch),ui=Object.prototype.toString,ke=e=>ui.call(e),Dn=e=>ke(e).slice(8,-1),oe=e=>ke(e)==="[object Object]",to=e=>Z(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Qa=kt(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Za=kt("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),Bn=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},eu=/-(\w)/g,Ie=Bn(e=>e.replace(eu,(t,n)=>n?n.toUpperCase():"")),tu=/\B([A-Z])/g,ct=Bn(e=>e.replace(tu,"-$1").toLowerCase()),at=Bn(e=>e.charAt(0).toUpperCase()+e.slice(1)),Ge=Bn(e=>e?`on${at(e)}`:""),Ht=(e,t)=>!Object.is(e,t),wn=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},nu=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},ru=e=>{const t=parseFloat(e);return isNaN(t)?e:t},ou=e=>e!==null&&typeof e=="object",su=["{","}"];class iu{constructor(){this._caches=Object.create(null)}interpolate(t,n,r=su){if(!n)return[t];let o=this._caches[t];return o||(o=uu(t,r),this._caches[t]=o),lu(o,n)}}const cu=/^(?:\d)+/,au=/^(?:\w)+/;function uu(e,[t,n]){const r=[];let o=0,s="";for(;o<e.length;){let i=e[o++];if(i===t){s&&r.push({type:"text",value:s}),s="";let u="";for(i=e[o++];i!==void 0&&i!==n;)u+=i,i=e[o++];const l=i===n,c=cu.test(u)?"list":l&&au.test(u)?"named":"unknown";r.push({value:u,type:c})}else s+=i}return s&&r.push({type:"text",value:s}),r}function lu(e,t){const n=[];let r=0;const o=Array.isArray(t)?"list":ou(t)?"named":"unknown";if(o==="unknown")return n;for(;r<e.length;){const s=e[r];switch(s.type){case"text":n.push(s.value);break;case"list":n.push(t[parseInt(s.value,10)]);break;case"named":o==="named"?n.push(t[s.value]):console.warn(`Type of token '${s.type}' and format of value '${o}' don't match!`);break;case"unknown":console.warn("Detect 'unknown' type of token!");break}r++}return n}const Zn="zh-Hans",jo="zh-Hant",qe="en",fu="fr",hu="es",pu=Object.prototype.hasOwnProperty,Mo=(e,t)=>pu.call(e,t),du=new iu;function gu(e,t){return!!t.find(n=>e.indexOf(n)!==-1)}function mu(e,t){return t.find(n=>e.indexOf(n)===0)}function vn(e,t){if(!e)return;if(e=e.trim().replace(/_/g,"-"),t&&t[e])return e;if(e=e.toLowerCase(),e==="chinese")return Zn;if(e.indexOf("zh")===0)return e.indexOf("-hans")>-1?Zn:e.indexOf("-hant")>-1||gu(e,["-tw","-hk","-mo","-cht"])?jo:Zn;const n=mu(e,[qe,fu,hu]);if(n)return n}class yu{constructor({locale:t,fallbackLocale:n,messages:r,watcher:o,formater:s}){this.locale=qe,this.fallbackLocale=qe,this.message={},this.messages={},this.watchers=[],n&&(this.fallbackLocale=n),this.formater=s||du,this.messages=r||{},this.setLocale(t||qe),o&&this.watchLocale(o)}setLocale(t){const n=this.locale;this.locale=vn(t,this.messages)||this.fallbackLocale,this.messages[this.locale]||(this.messages[this.locale]={}),this.message=this.messages[this.locale],n!==this.locale&&this.watchers.forEach(r=>{r(this.locale,n)})}getLocale(){return this.locale}watchLocale(t){const n=this.watchers.push(t)-1;return()=>{this.watchers.splice(n,1)}}add(t,n,r=!0){const o=this.messages[t];o?r?Object.assign(o,n):Object.keys(n).forEach(s=>{Mo(o,s)||(o[s]=n[s])}):this.messages[t]=n}f(t,n,r){return this.formater.interpolate(t,n,r).join("")}t(t,n,r){let o=this.message;return typeof n=="string"?(n=vn(n,this.messages),n&&(o=this.messages[n])):r=n,Mo(o,t)?this.formater.interpolate(o[t],r).join(""):(console.warn(`Cannot translate the value of keypath ${t}. Use the value of keypath as default.`),t)}}function _u(e,t){e.$watchLocale?e.$watchLocale(n=>{t.setLocale(n)}):e.$watch(()=>e.$locale,n=>{t.setLocale(n)})}function wu(){return typeof z<"u"&&z.getLocale?z.getLocale():typeof global<"u"&&global.getLocale?global.getLocale():qe}function bu(e,t={},n,r){typeof e!="string"&&([e,t]=[t,e]),typeof e!="string"&&(e=wu()),typeof n!="string"&&(n=typeof __uniConfig<"u"&&__uniConfig.fallbackLocale||qe);const o=new yu({locale:e,fallbackLocale:n,messages:t,watcher:r});let s=(i,u)=>{if(typeof getApp!="function")s=function(l,c){return o.t(l,c)};else{let l=!1;s=function(c,f){const a=getApp().$vm;return a&&(a.$locale,l||(l=!0,_u(a,o))),o.t(c,f)}}return s(i,u)};return{i18n:o,f(i,u,l){return o.f(i,u,l)},t(i,u){return s(i,u)},add(i,u,l=!0){return o.add(i,u,l)},watch(i){return o.watchLocale(i)},getLocale(){return o.getLocale()},setLocale(i){return o.setLocale(i)}}}const vu=`
`,Tu="d",en="onShow",tn="onHide",li="onLaunch",jn="onError",fi="onThemeChange",hi="onPageNotFound",pi="onUnhandledRejection",Ot="onLoad",no="onReady",ro="onUnload",di="onInit",gi="onSaveExitState",mi="onResize",yi="onBackPress",_i="onPageScroll",oo="onTabItemTap",Mn="onReachBottom",Un="onPullDownRefresh",wi="onShareTimeline",so="onAddToFavorites",bi="onShareAppMessage",vi="onNavigationBarButtonTap",Ti="onNavigationBarSearchInputClicked",Si="onNavigationBarSearchInputChanged",Ei="onNavigationBarSearchInputConfirmed",Pi="onNavigationBarSearchInputFocusChanged",Su=/:/g;function Eu(e){return Ie(e.replace(Su,"-"))}function Pu(e){return e.indexOf("/")===0}function Au(e){return Pu(e)?e:"/"+e}const xu=(e,t)=>{let n;for(let r=0;r<e.length;r++)n=e[r](t);return n};function Ai(e,t=null){let n;return(...r)=>(e&&(n=e.apply(t,r),e=null),n)}function xi(e,t){if(!Z(t))return;t=t.replace(/\[(\d+)\]/g,".$1");const n=t.split(".");let r=n[0];return e||(e={}),n.length===1?e[r]:xi(e[r],n.slice(1).join("."))}function io(e){let t={};return oe(e)&&Object.keys(e).sort().forEach(n=>{const r=n;t[r]=e[r]}),Object.keys(t)?t:e}const ku=encodeURIComponent;function Ou(e,t=ku){const n=e?Object.keys(e).map(r=>{let o=e[r];return typeof o===void 0||o===null?o="":oe(o)&&(o=JSON.stringify(o)),t(r)+"="+t(o)}).filter(r=>r.length>0).join("&"):null;return n?`?${n}`:""}const Cu=[di,Ot,en,tn,ro,yi,_i,oo,Mn,Un,wi,bi,so,gi,vi,Ti,Si,Ei,Pi];function Iu(e){return Cu.indexOf(e)>-1}const ki=[en,tn,li,jn,fi,hi,pi,di,Ot,no,ro,mi,yi,_i,oo,Mn,Un,wi,so,bi,gi,vi,Ti,Si,Ei,Pi],br=(()=>({onPageScroll:1,onShareAppMessage:1<<1,onShareTimeline:1<<2}))();function Oi(e,t,n=!0){return n&&!$(t)?!1:ki.indexOf(e)>-1?!0:e.indexOf("on")===0}let vr;const Ci=[];function Ru(e){if(vr)return e(vr);Ci.push(e)}function Lu(e){vr=e,Ci.forEach(t=>t(e))}const $u=Ai((e,t)=>{if($(e._component.onError))return t(e)}),Ii=function(){};Ii.prototype={on:function(e,t,n){var r=this.e||(this.e={});return(r[e]||(r[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){var r=this;function o(){r.off(e,o),t.apply(n,arguments)}return o._=t,this.on(e,o,n)},emit:function(e){var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),r=0,o=n.length;for(r;r<o;r++)n[r].fn.apply(n[r].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),r=n[e],o=[];if(r&&t)for(var s=0,i=r.length;s<i;s++)r[s].fn!==t&&r[s].fn._!==t&&o.push(r[s]);return o.length?n[e]=o:delete n[e],this}};var Nu=Ii;function Du(){return wx.getSystemInfoSync()}function Bu(e,t){console.warn(`${e}: ${t}`)}function Uo(e,t,n,r){r||(r=Bu);for(const o in n){const s=Mu(o,t[o],n[o],!U(t,o));Z(s)&&r(e,s)}}function ju(e,t,n,r){if(!n)return;if(!M(n))return Uo(e,t[0]||Object.create(null),n,r);const o=n.length,s=t.length;for(let i=0;i<o;i++){const u=n[i],l=Object.create(null);s>i&&(l[u.name]=t[i]),Uo(e,l,{[u.name]:u},r)}}function Mu(e,t,n,r){oe(n)||(n={type:n});const{type:o,required:s,validator:i}=n;if(s&&r)return'Missing required args: "'+e+'"';if(!(t==null&&!s)){if(o!=null){let u=!1;const l=M(o)?o:[o],c=[];for(let f=0;f<l.length&&!u;f++){const{valid:a,expectedType:d}=Fu(t,l[f]);c.push(d||""),u=a}if(!u)return qu(e,t,c)}if(i)return i(t)}}const Uu=kt("String,Number,Boolean,Function,Symbol");function Fu(e,t){let n;const r=Hu(t);if(Uu(r)){const o=typeof e;n=o===r.toLowerCase(),!n&&o==="object"&&(n=e instanceof t)}else r==="Object"?n=X(e):r==="Array"?n=M(e):n=e instanceof t;return{valid:n,expectedType:r}}function qu(e,t,n){let r=`Invalid args: type check failed for args "${e}". Expected ${n.map(at).join(", ")}`;const o=n[0],s=Dn(t),i=Fo(t,o),u=Fo(t,s);return n.length===1&&qo(o)&&!Ku(o,s)&&(r+=` with value ${i}`),r+=`, got ${s} `,qo(s)&&(r+=`with value ${u}.`),r}function Hu(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:""}function Fo(e,t){return t==="String"?`"${e}"`:t==="Number"?`${Number(e)}`:`${e}`}function qo(e){return["string","number","boolean"].some(n=>e.toLowerCase()===n)}function Ku(...e){return e.some(t=>t.toLowerCase()==="boolean")}function Vu(e){return function(){try{return e.apply(e,arguments)}catch(t){console.error(t)}}}let Wu=1;const Tr={};function zu(e,t,n,r=!1){return Tr[e]={name:t,keepAlive:r,callback:n},e}function Ri(e,t,n){if(typeof e=="number"){const r=Tr[e];if(r)return r.keepAlive||delete Tr[e],r.callback(t,n)}return t}const Yu="success",Ju="fail",Gu="complete";function Xu(e){const t={};for(const n in e){const r=e[n];$(r)&&(t[n]=Vu(r),delete e[n])}return t}function Qu(e,t){return!e||e.indexOf(":fail")===-1?t+":ok":t+e.substring(e.indexOf(":fail"))}function Zu(e,t={},{beforeAll:n,beforeSuccess:r}={}){oe(t)||(t={});const{success:o,fail:s,complete:i}=Xu(t),u=$(o),l=$(s),c=$(i),f=Wu++;return zu(f,e,a=>{a=a||{},a.errMsg=Qu(a.errMsg,e),$(n)&&n(a),a.errMsg===e+":ok"?($(r)&&r(a,t),u&&o(a)):l&&s(a),c&&i(a)}),f}const el="success",tl="fail",nl="complete",wt={},bt={};function rl(e,t){return function(n){return e(n,t)||n}}function Li(e,t,n){let r=!1;for(let o=0;o<e.length;o++){const s=e[o];if(r)r=Promise.resolve(rl(s,n));else{const i=s(t,n);if(Zt(i)&&(r=Promise.resolve(i)),i===!1)return{then(){},catch(){}}}}return r||{then(o){return o(t)},catch(){}}}function Ho(e,t={}){return[el,tl,nl].forEach(n=>{const r=e[n];if(!M(r))return;const o=t[n];t[n]=function(i){Li(r,i,t).then(u=>$(o)&&o(u)||u)}}),t}function Tn(e,t){const n=[];M(wt.returnValue)&&n.push(...wt.returnValue);const r=bt[e];return r&&M(r.returnValue)&&n.push(...r.returnValue),n.forEach(o=>{t=o(t)||t}),t}function Ko(e){const t=Object.create(null);Object.keys(wt).forEach(r=>{r!=="returnValue"&&(t[r]=wt[r].slice())});const n=bt[e];return n&&Object.keys(n).forEach(r=>{r!=="returnValue"&&(t[r]=(t[r]||[]).concat(n[r]))}),t}function Sn(e,t,n,r){const o=Ko(e);return o&&Object.keys(o).length?M(o.invoke)?Li(o.invoke,n).then(i=>t(Ho(Ko(e),i),...r)):t(Ho(o,n),...r):t(n,...r)}function ol(e){return!!(oe(e)&&[Yu,Ju,Gu].find(t=>$(e[t])))}function sl(e,t){return(n={},...r)=>ol(n)?Tn(e,Sn(e,t,n,r)):Tn(e,new Promise((o,s)=>{Sn(e,t,Q(n,{success:o,fail:s}),r)}))}function il(e,t){const n=e[0];if(!t||!oe(t.formatArgs)&&oe(n))return;const r=t.formatArgs,o=Object.keys(r);for(let s=0;s<o.length;s++){const i=o[s],u=r[i];if($(u)){const l=u(e[0][i],n);if(Z(l))return l}else U(n,i)||(n[i]=u)}}function cl(e,t,n){return Ri(e,Q(n||{},{errMsg:t+":ok"}))}function Vo(e,t,n,r){return Ri(e,Q({errMsg:t+":fail"+(n?" "+n:"")},r))}function $i(e,t,n,r){if(ju(e,t,n),r&&r.beforeInvoke){const s=r.beforeInvoke(t);if(Z(s))return s}const o=il(t,r);if(o)return o}function al(e){return!e||Z(e)?e:e.stack?(console.error(e.message+vu+e.stack),e.message):e}function ul(e,t,n,r){return o=>{const s=Zu(e,o,r),i=$i(e,[o],n,r);return i?Vo(s,e,i):t(o,{resolve:u=>cl(s,e,u),reject:(u,l)=>Vo(s,e,al(u),l)})}}function ll(e,t,n,r){return(...o)=>{const s=$i(e,o,n,r);if(s)throw new Error(s);return t.apply(null,o)}}function fl(e,t,n,r){return ul(e,t,n,r)}function ft(e,t,n,r){return ll(e,t,n,r)}function hl(e,t,n,r){return sl(e,fl(e,t,n,r))}const pl="upx2px",dl=[{name:"upx",type:[Number,String],required:!0}],gl=1e-4,ml=750;let Ni=!1,Sr=0,Di=0;function yl(){const{platform:e,pixelRatio:t,windowWidth:n}=Du();Sr=n,Di=t,Ni=e==="ios"}const _l=ft(pl,(e,t)=>{if(Sr===0&&yl(),e=Number(e),e===0)return 0;let n=t||Sr,r=e/ml*n;return r<0&&(r=-r),r=Math.floor(r+gl),r===0&&(Di===1||!Ni?r=1:r=.5),e<0?-r:r},dl),wl="addInterceptor",bl="removeInterceptor",Bi=[{name:"method",type:[String,Object],required:!0}],vl=Bi;function Wo(e,t){Object.keys(t).forEach(n=>{$(t[n])&&(e[n]=Tl(e[n],t[n]))})}function zo(e,t){!e||!t||Object.keys(t).forEach(n=>{const r=e[n],o=t[n];M(r)&&$(o)&&Nn(r,o)})}function Tl(e,t){const n=t?e?e.concat(t):M(t)?t:[t]:e;return n&&Sl(n)}function Sl(e){const t=[];for(let n=0;n<e.length;n++)t.indexOf(e[n])===-1&&t.push(e[n]);return t}const El=ft(wl,(e,t)=>{Z(e)&&oe(t)?Wo(bt[e]||(bt[e]={}),t):oe(e)&&Wo(wt,e)},Bi),Pl=ft(bl,(e,t)=>{Z(e)?oe(t)?zo(bt[e],t):delete bt[e]:oe(e)&&zo(wt,e)},vl),Al={},xl="$on",ji=[{name:"event",type:String,required:!0},{name:"callback",type:Function,required:!0}],kl="$once",Ol=ji,Cl="$off",Il=[{name:"event",type:[String,Array]},{name:"callback",type:Function}],Rl="$emit",Ll=[{name:"event",type:String,required:!0}],ut=new Nu,$l=ft(xl,(e,t)=>(ut.on(e,t),()=>ut.off(e,t)),ji),Nl=ft(kl,(e,t)=>(ut.once(e,t),()=>ut.off(e,t)),Ol),Dl=ft(Cl,(e,t)=>{if(!e){ut.e={};return}M(e)||(e=[e]),e.forEach(n=>ut.off(n,t))},Il),Bl=ft(Rl,(e,...t)=>{ut.emit(e,...t)},Ll);let Ft,Er,Pr;function Yo(e){try{return JSON.parse(e)}catch{}return e}function jl(e){if(e.type==="enabled")Pr=!0;else if(e.type==="clientId")Ft=e.cid,Er=e.errMsg,Mi(Ft,e.errMsg);else if(e.type==="pushMsg"){const t={type:"receive",data:Yo(e.message)};for(let n=0;n<He.length;n++){const r=He[n];if(r(t),t.stopped)break}}else e.type==="click"&&He.forEach(t=>{t({type:"click",data:Yo(e.message)})})}const Ar=[];function Mi(e,t){Ar.forEach(n=>{n(e,t)}),Ar.length=0}const Ml="getPushClientId",Ul=hl(Ml,(e,{resolve:t,reject:n})=>{Promise.resolve().then(()=>{typeof Pr>"u"&&(Pr=!1,Ft="",Er="uniPush is not enabled"),Ar.push((r,o)=>{r?t({cid:r}):n(o)}),typeof Ft<"u"&&Mi(Ft,Er)})}),He=[],Fl=e=>{He.indexOf(e)===-1&&He.push(e)},ql=e=>{if(!e)He.length=0;else{const t=He.indexOf(e);t>-1&&He.splice(t,1)}},Hl=/^\$|getLocale|setLocale|sendNativeEvent|restoreGlobal|requireGlobal|getCurrentSubNVue|getMenuButtonBoundingClientRect|^report|interceptors|Interceptor$|getSubNVueById|requireNativePlugin|upx2px|hideKeyboard|canIUse|^create|Sync$|Manager$|base64ToArrayBuffer|arrayBufferToBase64|getDeviceInfo|getAppBaseInfo|getWindowInfo|getSystemSetting|getAppAuthorizeSetting/,Kl=/^create|Manager$/,Vl=["createBLEConnection"],Wl=["createBLEConnection"],zl=/^on|^off/;function Ui(e){return Kl.test(e)&&Vl.indexOf(e)===-1}function Fi(e){return Hl.test(e)&&Wl.indexOf(e)===-1}function Yl(e){return zl.test(e)&&e!=="onPush"}function Jl(e){return!(Ui(e)||Fi(e)||Yl(e))}Promise.prototype.finally||(Promise.prototype.finally=function(e){const t=this.constructor;return this.then(n=>t.resolve(e&&e()).then(()=>n),n=>t.resolve(e&&e()).then(()=>{throw n}))});function er(e,t){return!Jl(e)||!$(t)?t:function(r={},...o){return $(r.success)||$(r.fail)||$(r.complete)?Tn(e,Sn(e,t,r,o)):Tn(e,new Promise((s,i)=>{Sn(e,t,Q({},r,{success:s,fail:i}),o)}))}}const Gl=["success","fail","cancel","complete"];function Xl(e){function t(o,s,i){return function(u){return s(r(o,u,i))}}function n(o,s,i={},u={},l=!1){if(oe(s)){const c=l===!0?s:{};$(i)&&(i=i(s,c)||{});for(const f in s)if(U(i,f)){let a=i[f];$(a)&&(a=a(s[f],s,c)),a?Z(a)?c[a]=s[f]:oe(a)&&(c[a.name?a.name:f]=a.value):console.warn(`微信小程序 ${o} 暂不支持 ${f}`)}else if(Gl.indexOf(f)!==-1){const a=s[f];$(a)&&(c[f]=t(o,a,u))}else!l&&!U(c,f)&&(c[f]=s[f]);return c}else $(s)&&(s=t(o,s,u));return s}function r(o,s,i,u=!1){return $(e.returnValue)&&(s=e.returnValue(o,s)),n(o,s,i,{},u)}return function(s,i){if(!U(e,s))return i;const u=e[s];return u?function(l,c){let f=u;$(u)&&(f=u(l)),l=n(s,l,f.args,f.returnValue);const a=[l];typeof c<"u"&&a.push(c);const d=wx[f.name||s].apply(wx,a);return Fi(s)?r(s,d,f.returnValue,Ui(s)):d}:function(){console.error(`微信小程序 暂不支持${s}`)}}}const En=()=>{const e=$(getApp)&&getApp({allowDefault:!0});return e&&e.$vm?e.$vm.$locale:vn(wx.getSystemInfoSync().language)||qe},Ql=e=>{const t=$(getApp)&&getApp();return t&&t.$vm.$locale!==e?(t.$vm.$locale=e,xr.forEach(r=>r({locale:e})),!0):!1},xr=[],Zl=e=>{xr.indexOf(e)===-1&&xr.push(e)};typeof global<"u"&&(global.getLocale=En);const Jo="__DC_STAT_UUID";let ht;function qi(e=wx){return function(n,r){ht=ht||e.getStorageSync(Jo),ht||(ht=Date.now()+""+Math.floor(Math.random()*1e7),wx.setStorage({key:Jo,data:ht})),r.deviceId=ht}}function Hi(e,t){if(e.safeArea){const n=e.safeArea;t.safeAreaInsets={top:n.top,left:n.left,right:e.windowWidth-n.right,bottom:e.screenHeight-n.bottom}}}function ef(e,t){const{brand:n="",model:r="",system:o="",language:s="",theme:i,version:u,platform:l,fontSizeSetting:c,SDKVersion:f,pixelRatio:a,deviceOrientation:d}=e;let h="",m="";h=o.split(" ")[0]||"",m=o.split(" ")[1]||"";let _=u,w=Ki(e,r),v=Vi(n),P=zi(e),b=d,T=a,x=f;const k=s.replace(/_/g,"-"),N={appId:"__UNI__DB81A15",appName:"FreeMarket",appVersion:"1.0.0",appVersionCode:"100",appLanguage:Wi(k),uniCompileVersion:"3.7.9",uniRuntimeVersion:"3.7.9",uniPlatform:"mp-weixin",deviceBrand:v,deviceModel:r,deviceType:w,devicePixelRatio:T,deviceOrientation:b,osName:h.toLocaleLowerCase(),osVersion:m,hostTheme:i,hostVersion:_,hostLanguage:k,hostName:P,hostSDKVersion:x,hostFontSizeSetting:c,windowTop:0,windowBottom:0,osLanguage:void 0,osTheme:void 0,ua:void 0,hostPackageName:void 0,browserName:void 0,browserVersion:void 0};Q(t,N)}function Ki(e,t){let n=e.deviceType||"phone";{const r={ipad:"pad",windows:"pc",mac:"pc"},o=Object.keys(r),s=t.toLocaleLowerCase();for(let i=0;i<o.length;i++){const u=o[i];if(s.indexOf(u)!==-1){n=r[u];break}}}return n}function Vi(e){let t=e;return t&&(t=t.toLocaleLowerCase()),t}function Wi(e){return En?En():e}function zi(e){const t="WeChat";let n=e.hostName||t;return e.environment?n=e.environment:e.host&&e.host.env&&(n=e.host.env),n}const Yi={returnValue:(e,t)=>{Hi(e,t),qi()(e,t),ef(e,t)}},tf=Yi,nf={},rf={args(e,t){let n=parseInt(e.current);if(isNaN(n))return;const r=e.urls;if(!M(r))return;const o=r.length;if(o)return n<0?n=0:n>=o&&(n=o-1),n>0?(t.current=r[n],t.urls=r.filter((s,i)=>i<n?s!==r[n]:!0)):t.current=r[0],{indicator:!1,loop:!1}}},of={args(e,t){t.alertText=e.title}},sf={returnValue:(e,t)=>{const{brand:n,model:r}=e;let o=Ki(e,r),s=Vi(n);qi()(e,t),t=io(Q(t,{deviceType:o,deviceBrand:s,deviceModel:r}))}},cf={returnValue:(e,t)=>{const{version:n,language:r,SDKVersion:o,theme:s}=e;let i=zi(e),u=r.replace(/_/g,"-");t=io(Q(t,{hostVersion:n,hostLanguage:u,hostName:i,hostSDKVersion:o,hostTheme:s,appId:"__UNI__DB81A15",appName:"FreeMarket",appVersion:"1.0.0",appVersionCode:"100",appLanguage:Wi(u)}))}},af={returnValue:(e,t)=>{Hi(e,t),t=io(Q(t,{windowTop:0,windowBottom:0}))}},uf={returnValue:function(e,t){const{locationReducedAccuracy:n}=e;t.locationAccuracy="unsupported",n===!0?t.locationAccuracy="reduced":n===!1&&(t.locationAccuracy="full")}},Go={$on:$l,$off:Dl,$once:Nl,$emit:Bl,upx2px:_l,interceptors:Al,addInterceptor:El,removeInterceptor:Pl,onCreateVueApp:Ru,invokeCreateVueAppHook:Lu,getLocale:En,setLocale:Ql,onLocaleChange:Zl,getPushClientId:Ul,onPushMessage:Fl,offPushMessage:ql,invokePushCallback:jl};function lf(e,t,n=wx){const r=Xl(t),o={get(s,i){return U(s,i)?s[i]:U(e,i)?er(i,e[i]):U(Go,i)?er(i,Go[i]):er(i,r(i,n[i]))}};return new Proxy({},o)}function ff(e){return function({service:n,success:r,fail:o,complete:s}){let i;e[n]?(i={errMsg:"getProvider:ok",service:n,provider:e[n]},$(r)&&r(i)):(i={errMsg:"getProvider:fail:服务["+n+"]不存在"},$(o)&&o(i)),$(s)&&s(i)}}const hf=["qy","env","error","version","lanDebug","cloud","serviceMarket","router","worklet"],pf=["lanDebug","router","worklet"],Xo=wx.getLaunchOptionsSync?wx.getLaunchOptionsSync():null;function df(e){return Xo&&Xo.scene===1154&&pf.includes(e)?!1:hf.indexOf(e)>-1||typeof wx[e]=="function"}function Ji(){const e={};for(const t in wx)df(t)&&(e[t]=wx[t]);return typeof globalThis<"u"&&(globalThis.wx=e),e}const gf=["__route__","__wxExparserNodeId__","__wxWebviewId__"],mf=ff({oauth:["weixin"],share:["weixin"],payment:["wxpay"],push:["weixin"]});function yf(e){const t=Object.create(null);return gf.forEach(n=>{t[n]=e[n]}),t}function _f(){const e=vt.createSelectorQuery(),t=e.in;return e.in=function(r){return t.call(this,yf(r))},e}const vt=Ji();let Pn=vt.getAppBaseInfo&&vt.getAppBaseInfo();Pn||(Pn=vt.getSystemInfoSync());const Qo=Pn?Pn.host:null,wf=Qo&&Qo.env==="SAAASDK"?vt.miniapp.shareVideoMessage:vt.shareVideoMessage;var bf=Object.freeze({__proto__:null,createSelectorQuery:_f,getProvider:mf,shareVideoMessage:wf});const vf={args(e,t){e.compressedHeight&&!t.compressHeight&&(t.compressHeight=e.compressedHeight),e.compressedWidth&&!t.compressWidth&&(t.compressWidth=e.compressedWidth)}};var Tf=Object.freeze({__proto__:null,compressImage:vf,getAppAuthorizeSetting:uf,getAppBaseInfo:cf,getDeviceInfo:sf,getSystemInfo:Yi,getSystemInfoSync:tf,getWindowInfo:af,previewImage:rf,redirectTo:nf,showActionSheet:of});const mt=Ji();var z=lf(bf,Tf,mt);function Gi(){if(typeof window<"u")return window;if(typeof globalThis<"u")return globalThis;if(typeof global<"u")return global;if(typeof my<"u")return my}class Sf{constructor(t){this.sid="",this.ackTimeout=5e3,this.closed=!1,this._ackTimer=0,this._onCallbacks={},this.host=t,setTimeout(()=>{this.connect()},50)}connect(){this._socket=z.connectSocket({url:`ws://${this.host}/socket.io/?EIO=4&transport=websocket`,multiple:!0,complete(t){}}),this._socket.onOpen(t=>{}),this._socket.onMessage(({data:t})=>{if(typeof my<"u"&&(t=t.data),typeof t=="string")if(t[0]==="0"){this._send("40");const n=JSON.parse(t.slice(1));this.sid=n.sid}else if(t[0]+t[1]==="40")this.sid=JSON.parse(t.slice(2)).sid,this._trigger("connect");else if(t==="3")this._send("2");else if(t==="2")this._send("3");else{const n=/\[.*\]/.exec(t);if(!n)return;try{const[r,o]=JSON.parse(n[0]);this._trigger(r,o)}catch(r){console.error("Vue DevTools onMessage: ",r)}}}),this._socket.onClose(t=>{this.closed=!0,this._trigger("disconnect",t)}),this._socket.onError(t=>{console.error(t.errMsg)})}on(t,n){(this._onCallbacks[t]||(this._onCallbacks[t]=[])).push(n)}emit(t,n){this.closed||(this._heartbeat(),this._send(`42${JSON.stringify(typeof n<"u"?[t,n]:[t])}`))}disconnect(){clearTimeout(this._ackTimer),this._socket&&!this.closed&&(this._send("41"),this._socket.close({}))}_heartbeat(){clearTimeout(this._ackTimer),this._ackTimer=setTimeout(()=>{this._socket&&this._socket.send({data:"3"})},this.ackTimeout)}_send(t){this._socket&&this._socket.send({data:t})}_trigger(t,n){const r=this._onCallbacks[t];r&&r.forEach(o=>{o(n)})}}let Xi;Gi().__VUE_DEVTOOLS_ON_SOCKET_READY__=e=>{Xi=e};let pt="";const kr="192.168.233.1,192.168.119.1,192.168.1.195,172.25.0.1,172.18.96.1".split(",");setTimeout(()=>{z.request({url:`http://localhost:${9501}`,timeout:1e3,success(){pt="localhost",Zo()},fail(){!pt&&kr.length&&kr.forEach(e=>{z.request({url:`http://${e}:${9501}`,timeout:1e3,success(){pt||(pt=e,Zo())}})})}})},0);Ef();function Ef(){setTimeout(()=>{if(!pt)throw new Error("未能获取局域网地址，本地调试服务不可用")},(kr.length+1)*1100)}function Zo(){Gi().__VUE_DEVTOOLS_SOCKET__=new Sf(pt+":"+8098),Xi()}const Pf=(e,t)=>{const n=e.__vccOpts||e;for(const[r,o]of t)n[r]=o;return n};function Or(e,...t){console.warn(`[Vue warn] ${e}`,...t)}let Ee;class Af{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Ee,!t&&Ee&&(this.index=(Ee.scopes||(Ee.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=Ee;try{return Ee=this,t()}finally{Ee=n}}else Or("cannot run an inactive effect scope.")}on(){Ee=this}off(){Ee=this.parent}stop(t){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const o=this.parent.scopes.pop();o&&o!==this&&(this.parent.scopes[this.index]=o,o.index=this.index)}this.parent=void 0,this._active=!1}}}function xf(e,t=Ee){t&&t.active&&t.effects.push(e)}function kf(){return Ee}const co=e=>{const t=new Set(e);return t.w=0,t.n=0,t},Qi=e=>(e.w&We)>0,Zi=e=>(e.n&We)>0,Of=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=We},Cf=e=>{const{deps:t}=e;if(t.length){let n=0;for(let r=0;r<t.length;r++){const o=t[r];Qi(o)&&!Zi(o)?o.delete(e):t[n++]=o,o.w&=~We,o.n&=~We}t.length=n}},Cr=new WeakMap;let jt=0,We=1;const Ir=30;let fe;const nt=Symbol("iterate"),Rr=Symbol("Map key iterate");class ao{constructor(t,n=null,r){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,xf(this,r)}run(){if(!this.active)return this.fn();let t=fe,n=Ke;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=fe,fe=this,Ke=!0,We=1<<++jt,jt<=Ir?Of(this):es(this),this.fn()}finally{jt<=Ir&&Cf(this),We=1<<--jt,fe=this.parent,Ke=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){fe===this?this.deferStop=!0:this.active&&(es(this),this.onStop&&this.onStop(),this.active=!1)}}function es(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let Ke=!0;const ec=[];function Ct(){ec.push(Ke),Ke=!1}function It(){const e=ec.pop();Ke=e===void 0?!0:e}function ye(e,t,n){if(Ke&&fe){let r=Cr.get(e);r||Cr.set(e,r=new Map);let o=r.get(n);o||r.set(n,o=co()),tc(o,{effect:fe,target:e,type:t,key:n})}}function tc(e,t){let n=!1;jt<=Ir?Zi(e)||(e.n|=We,n=!Qi(e)):n=!e.has(fe),n&&(e.add(fe),fe.deps.push(e),fe.onTrack&&fe.onTrack(Object.assign({effect:fe},t)))}function Le(e,t,n,r,o,s){const i=Cr.get(e);if(!i)return;let u=[];if(t==="clear")u=[...i.values()];else if(n==="length"&&M(e)){const c=Number(r);i.forEach((f,a)=>{(a==="length"||a>=c)&&u.push(f)})}else switch(n!==void 0&&u.push(i.get(n)),t){case"add":M(e)?to(n)&&u.push(i.get("length")):(u.push(i.get(nt)),tt(e)&&u.push(i.get(Rr)));break;case"delete":M(e)||(u.push(i.get(nt)),tt(e)&&u.push(i.get(Rr)));break;case"set":tt(e)&&u.push(i.get(nt));break}const l={target:e,type:t,key:n,newValue:r,oldValue:o,oldTarget:s};if(u.length===1)u[0]&&Lr(u[0],l);else{const c=[];for(const f of u)f&&c.push(...f);Lr(co(c),l)}}function Lr(e,t){const n=M(e)?e:[...e];for(const r of n)r.computed&&ts(r,t);for(const r of n)r.computed||ts(r,t)}function ts(e,t){(e!==fe||e.allowRecurse)&&(e.onTrigger&&e.onTrigger(Q({effect:e},t)),e.scheduler?e.scheduler():e.run())}const If=kt("__proto__,__v_isRef,__isVue"),nc=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(eo)),Rf=Fn(),Lf=Fn(!1,!0),$f=Fn(!0),Nf=Fn(!0,!0),ns=Df();function Df(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const r=W(this);for(let s=0,i=this.length;s<i;s++)ye(r,"get",s+"");const o=r[t](...n);return o===-1||o===!1?r[t](...n.map(W)):o}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){Ct();const r=W(this)[t].apply(this,n);return It(),r}}),e}function Bf(e){const t=W(this);return ye(t,"has",e),t.hasOwnProperty(e)}function Fn(e=!1,t=!1){return function(r,o,s){if(o==="__v_isReactive")return!e;if(o==="__v_isReadonly")return e;if(o==="__v_isShallow")return t;if(o==="__v_raw"&&s===(e?t?lc:uc:t?ac:cc).get(r))return r;const i=M(r);if(!e){if(i&&U(ns,o))return Reflect.get(ns,o,s);if(o==="hasOwnProperty")return Bf}const u=Reflect.get(r,o,s);return(eo(o)?nc.has(o):If(o))||(e||ye(r,"get",o),t)?u:ae(u)?i&&to(o)?u:u.value:X(u)?e?fc(u):Kn(u):u}}const jf=rc(),Mf=rc(!0);function rc(e=!1){return function(n,r,o,s){let i=n[r];if(Tt(i)&&ae(i)&&!ae(o))return!1;if(!e&&(!An(o)&&!Tt(o)&&(i=W(i),o=W(o)),!M(n)&&ae(i)&&!ae(o)))return i.value=o,!0;const u=M(n)&&to(r)?Number(r)<n.length:U(n,r),l=Reflect.set(n,r,o,s);return n===W(s)&&(u?Ht(o,i)&&Le(n,"set",r,o,i):Le(n,"add",r,o)),l}}function Uf(e,t){const n=U(e,t),r=e[t],o=Reflect.deleteProperty(e,t);return o&&n&&Le(e,"delete",t,void 0,r),o}function Ff(e,t){const n=Reflect.has(e,t);return(!eo(t)||!nc.has(t))&&ye(e,"has",t),n}function qf(e){return ye(e,"iterate",M(e)?"length":nt),Reflect.ownKeys(e)}const oc={get:Rf,set:jf,deleteProperty:Uf,has:Ff,ownKeys:qf},sc={get:$f,set(e,t){return Or(`Set operation on key "${String(t)}" failed: target is readonly.`,e),!0},deleteProperty(e,t){return Or(`Delete operation on key "${String(t)}" failed: target is readonly.`,e),!0}},Hf=Q({},oc,{get:Lf,set:Mf}),Kf=Q({},sc,{get:Nf}),uo=e=>e,qn=e=>Reflect.getPrototypeOf(e);function un(e,t,n=!1,r=!1){e=e.__v_raw;const o=W(e),s=W(t);n||(t!==s&&ye(o,"get",t),ye(o,"get",s));const{has:i}=qn(o),u=r?uo:n?fo:Kt;if(i.call(o,t))return u(e.get(t));if(i.call(o,s))return u(e.get(s));e!==o&&e.get(t)}function ln(e,t=!1){const n=this.__v_raw,r=W(n),o=W(e);return t||(e!==o&&ye(r,"has",e),ye(r,"has",o)),e===o?n.has(e):n.has(e)||n.has(o)}function fn(e,t=!1){return e=e.__v_raw,!t&&ye(W(e),"iterate",nt),Reflect.get(e,"size",e)}function rs(e){e=W(e);const t=W(this);return qn(t).has.call(t,e)||(t.add(e),Le(t,"add",e,e)),this}function os(e,t){t=W(t);const n=W(this),{has:r,get:o}=qn(n);let s=r.call(n,e);s?ic(n,r,e):(e=W(e),s=r.call(n,e));const i=o.call(n,e);return n.set(e,t),s?Ht(t,i)&&Le(n,"set",e,t,i):Le(n,"add",e,t),this}function ss(e){const t=W(this),{has:n,get:r}=qn(t);let o=n.call(t,e);o?ic(t,n,e):(e=W(e),o=n.call(t,e));const s=r?r.call(t,e):void 0,i=t.delete(e);return o&&Le(t,"delete",e,void 0,s),i}function is(){const e=W(this),t=e.size!==0,n=tt(e)?new Map(e):new Set(e),r=e.clear();return t&&Le(e,"clear",void 0,void 0,n),r}function hn(e,t){return function(r,o){const s=this,i=s.__v_raw,u=W(i),l=t?uo:e?fo:Kt;return!e&&ye(u,"iterate",nt),i.forEach((c,f)=>r.call(o,l(c),l(f),s))}}function pn(e,t,n){return function(...r){const o=this.__v_raw,s=W(o),i=tt(s),u=e==="entries"||e===Symbol.iterator&&i,l=e==="keys"&&i,c=o[e](...r),f=n?uo:t?fo:Kt;return!t&&ye(s,"iterate",l?Rr:nt),{next(){const{value:a,done:d}=c.next();return d?{value:a,done:d}:{value:u?[f(a[0]),f(a[1])]:f(a),done:d}},[Symbol.iterator](){return this}}}}function Be(e){return function(...t){{const n=t[0]?`on key "${t[0]}" `:"";console.warn(`${at(e)} operation ${n}failed: target is readonly.`,W(this))}return e==="delete"?!1:this}}function Vf(){const e={get(s){return un(this,s)},get size(){return fn(this)},has:ln,add:rs,set:os,delete:ss,clear:is,forEach:hn(!1,!1)},t={get(s){return un(this,s,!1,!0)},get size(){return fn(this)},has:ln,add:rs,set:os,delete:ss,clear:is,forEach:hn(!1,!0)},n={get(s){return un(this,s,!0)},get size(){return fn(this,!0)},has(s){return ln.call(this,s,!0)},add:Be("add"),set:Be("set"),delete:Be("delete"),clear:Be("clear"),forEach:hn(!0,!1)},r={get(s){return un(this,s,!0,!0)},get size(){return fn(this,!0)},has(s){return ln.call(this,s,!0)},add:Be("add"),set:Be("set"),delete:Be("delete"),clear:Be("clear"),forEach:hn(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{e[s]=pn(s,!1,!1),n[s]=pn(s,!0,!1),t[s]=pn(s,!1,!0),r[s]=pn(s,!0,!0)}),[e,n,t,r]}const[Wf,zf,Yf,Jf]=Vf();function Hn(e,t){const n=t?e?Jf:Yf:e?zf:Wf;return(r,o,s)=>o==="__v_isReactive"?!e:o==="__v_isReadonly"?e:o==="__v_raw"?r:Reflect.get(U(n,o)&&o in r?n:r,o,s)}const Gf={get:Hn(!1,!1)},Xf={get:Hn(!1,!0)},Qf={get:Hn(!0,!1)},Zf={get:Hn(!0,!0)};function ic(e,t,n){const r=W(n);if(r!==n&&t.call(e,r)){const o=Dn(e);console.warn(`Reactive ${o} contains both the raw and reactive versions of the same object${o==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}const cc=new WeakMap,ac=new WeakMap,uc=new WeakMap,lc=new WeakMap;function eh(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function th(e){return e.__v_skip||!Object.isExtensible(e)?0:eh(Dn(e))}function Kn(e){return Tt(e)?e:Vn(e,!1,oc,Gf,cc)}function nh(e){return Vn(e,!1,Hf,Xf,ac)}function fc(e){return Vn(e,!0,sc,Qf,uc)}function dt(e){return Vn(e,!0,Kf,Zf,lc)}function Vn(e,t,n,r,o){if(!X(e))return console.warn(`value cannot be made reactive: ${String(e)}`),e;if(e.__v_raw&&!(t&&e.__v_isReactive))return e;const s=o.get(e);if(s)return s;const i=th(e);if(i===0)return e;const u=new Proxy(e,i===2?r:n);return o.set(e,u),u}function yt(e){return Tt(e)?yt(e.__v_raw):!!(e&&e.__v_isReactive)}function Tt(e){return!!(e&&e.__v_isReadonly)}function An(e){return!!(e&&e.__v_isShallow)}function rh(e){return yt(e)||Tt(e)}function W(e){const t=e&&e.__v_raw;return t?W(t):e}function lo(e){return nu(e,"__v_skip",!0),e}const Kt=e=>X(e)?Kn(e):e,fo=e=>X(e)?fc(e):e;function hc(e){Ke&&fe&&(e=W(e),tc(e.dep||(e.dep=co()),{target:e,type:"get",key:"value"}))}function pc(e,t){e=W(e);const n=e.dep;n&&Lr(n,{target:e,type:"set",key:"value",newValue:t})}function ae(e){return!!(e&&e.__v_isRef===!0)}function dc(e){return oh(e,!1)}function oh(e,t){return ae(e)?e:new sh(e,t)}class sh{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:W(t),this._value=n?t:Kt(t)}get value(){return hc(this),this._value}set value(t){const n=this.__v_isShallow||An(t)||Tt(t);t=n?t:W(t),Ht(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:Kt(t),pc(this,t))}}function ho(e){return ae(e)?e.value:e}const ih={get:(e,t,n)=>ho(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const o=e[t];return ae(o)&&!ae(n)?(o.value=n,!0):Reflect.set(e,t,n,r)}};function gc(e){return yt(e)?e:new Proxy(e,ih)}var mc;class ch{constructor(t,n,r,o){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this[mc]=!1,this._dirty=!0,this.effect=new ao(t,()=>{this._dirty||(this._dirty=!0,pc(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=r}get value(){const t=W(this);return hc(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}mc="__v_isReadonly";function ah(e,t,n=!1){let r,o;const s=$(e);s?(r=e,o=()=>{console.warn("Write operation failed: computed value is readonly")}):(r=e.get,o=e.set);const i=new ch(r,o,s||!o,n);return t&&!n&&(i.effect.onTrack=t.onTrack,i.effect.onTrigger=t.onTrigger),i}const rt=[];function po(e){rt.push(e)}function go(){rt.pop()}function B(e,...t){Ct();const n=rt.length?rt[rt.length-1].component:null,r=n&&n.appContext.config.warnHandler,o=uh();if(r)Re(r,n,11,[e+t.join(""),n&&n.proxy,o.map(({vnode:s})=>`at <${Jn(n,s.type)}>`).join(`
`),o]);else{const s=[`[Vue warn]: ${e}`,...t];o.length&&s.push(`
`,...lh(o)),console.warn(...s)}It()}function uh(){let e=rt[rt.length-1];if(!e)return[];const t=[];for(;e;){const n=t[0];n&&n.vnode===e?n.recurseCount++:t.push({vnode:e,recurseCount:0});const r=e.component&&e.component.parent;e=r&&r.vnode}return t}function lh(e){const t=[];return e.forEach((n,r)=>{t.push(...r===0?[]:[`
`],...fh(n))}),t}function fh({vnode:e,recurseCount:t}){const n=t>0?`... (${t} recursive calls)`:"",r=e.component?e.component.parent==null:!1,o=` at <${Jn(e.component,e.type,r)}`,s=">"+n;return e.props?[o,...hh(e.props),s]:[o+s]}function hh(e){const t=[],n=Object.keys(e);return n.slice(0,3).forEach(r=>{t.push(...yc(r,e[r]))}),n.length>3&&t.push(" ..."),t}function yc(e,t,n){return Z(t)?(t=JSON.stringify(t),n?t:[`${e}=${t}`]):typeof t=="number"||typeof t=="boolean"||t==null?n?t:[`${e}=${t}`]:ae(t)?(t=yc(e,W(t.value),!0),n?t:[`${e}=Ref<`,t,">"]):$(t)?[`${e}=fn${t.name?`<${t.name}>`:""}`]:(t=W(t),n?t:[`${e}=`,t])}const mo={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",[0]:"setup function",[1]:"render function",[2]:"watcher getter",[3]:"watcher callback",[4]:"watcher cleanup function",[5]:"native event handler",[6]:"component event handler",[7]:"vnode hook",[8]:"directive hook",[9]:"transition hook",[10]:"app errorHandler",[11]:"app warnHandler",[12]:"ref function",[13]:"async component loader",[14]:"scheduler flush. This is likely a Vue internals bug. Please open an issue at https://new-issue.vuejs.org/?repo=vuejs/core"};function Re(e,t,n,r){let o;try{o=r?e(...r):e()}catch(s){yo(s,t,n)}return o}function ze(e,t,n,r){if($(e)){const s=Re(e,t,n,r);return s&&Zt(s)&&s.catch(i=>{yo(i,t,n)}),s}const o=[];for(let s=0;s<e.length;s++)o.push(ze(e[s],t,n,r));return o}function yo(e,t,n,r=!0){const o=t?t.vnode:null;if(t){let s=t.parent;const i=t.proxy,u=mo[n]||n;for(;s;){const c=s.ec;if(c){for(let f=0;f<c.length;f++)if(c[f](e,i,u)===!1)return}s=s.parent}const l=t.appContext.config.errorHandler;if(l){Re(l,null,10,[e,i,u]);return}}ph(e,n,o,r)}function ph(e,t,n,r=!0){{const o=mo[t]||t;n&&po(n),B(`Unhandled error${o?` during execution of ${o}`:""}`),n&&go(),console.error(e)}}let Vt=!1,$r=!1;const ie=[];let Ae=0;const _t=[];let Pe=null,Ue=0;const _c=Promise.resolve();let _o=null;const dh=100;function wc(e){const t=_o||_c;return e?t.then(this?e.bind(this):e):t}function gh(e){let t=Ae+1,n=ie.length;for(;t<n;){const r=t+n>>>1;Wt(ie[r])<e?t=r+1:n=r}return t}function xn(e){(!ie.length||!ie.includes(e,Vt&&e.allowRecurse?Ae+1:Ae))&&(e.id==null?ie.push(e):ie.splice(gh(e.id),0,e),bc())}function bc(){!Vt&&!$r&&($r=!0,_o=_c.then(Sc))}function mh(e){return ie.indexOf(e)>-1}function yh(e){const t=ie.indexOf(e);t>Ae&&ie.splice(t,1)}function vc(e){M(e)?_t.push(...e):(!Pe||!Pe.includes(e,e.allowRecurse?Ue+1:Ue))&&_t.push(e),bc()}function Tc(e,t=Vt?Ae+1:0){for(e=e||new Map;t<ie.length;t++){const n=ie[t];if(n&&n.pre){if(wo(e,n))continue;ie.splice(t,1),t--,n()}}}function _h(e){if(_t.length){const t=[...new Set(_t)];if(_t.length=0,Pe){Pe.push(...t);return}for(Pe=t,e=e||new Map,Pe.sort((n,r)=>Wt(n)-Wt(r)),Ue=0;Ue<Pe.length;Ue++)wo(e,Pe[Ue])||Pe[Ue]();Pe=null,Ue=0}}const Wt=e=>e.id==null?1/0:e.id,wh=(e,t)=>{const n=Wt(e)-Wt(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function Sc(e){$r=!1,Vt=!0,e=e||new Map,ie.sort(wh);const t=n=>wo(e,n);try{for(Ae=0;Ae<ie.length;Ae++){const n=ie[Ae];if(n&&n.active!==!1){if(t(n))continue;Re(n,null,14)}}}finally{Ae=0,ie.length=0,_h(e),Vt=!1,_o=null,(ie.length||_t.length)&&Sc(e)}}function wo(e,t){if(!e.has(t))e.set(t,1);else{const n=e.get(t);if(n>dh){const r=t.ownerInstance,o=r&&So(r.type);return B(`Maximum recursive updates exceeded${o?` in component <${o}>`:""}. This means you have a reactive effect that is mutating its own dependencies and thus recursively triggering itself. Possible sources include component template, render function, updated hook or watcher source function.`),!0}else e.set(t,n+1)}}let xe,Mt=[],Nr=!1;function Wn(e,...t){xe?xe.emit(e,...t):Nr||Mt.push({event:e,args:t})}function Ec(e,t){var n,r;xe=e,xe?(xe.enabled=!0,Mt.forEach(({event:o,args:s})=>xe.emit(o,...s)),Mt=[]):typeof window<"u"&&window.HTMLElement&&!(!((r=(n=window.navigator)===null||n===void 0?void 0:n.userAgent)===null||r===void 0)&&r.includes("jsdom"))?((t.__VUE_DEVTOOLS_HOOK_REPLAY__=t.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(s=>{Ec(s,t)}),setTimeout(()=>{xe||(t.__VUE_DEVTOOLS_HOOK_REPLAY__=null,Nr=!0,Mt=[])},3e3)):(Nr=!0,Mt=[])}function bh(e,t){Wn("app:init",e,t,{Fragment:lp,Text:fp,Comment:hp,Static:pp})}const Pc=bo("component:added"),vh=bo("component:updated"),Th=bo("component:removed"),Sh=e=>{xe&&typeof xe.cleanupBuffer=="function"&&!xe.cleanupBuffer(e)&&Th(e)};function bo(e){return t=>{Wn(e,t.appContext.app,t.uid,t.uid===0?void 0:t.parent?t.parent.uid:0,t)}}const Eh=Ac("perf:start"),Ph=Ac("perf:end");function Ac(e){return(t,n,r)=>{Wn(e,t.appContext.app,t.uid,t,n,r)}}function Ah(e,t,n){Wn("component:emit",e.appContext.app,e,t,n)}function xh(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||re;{const{emitsOptions:f,propsOptions:[a]}=e;if(f)if(!(t in f))(!a||!(Ge(t)in a))&&B(`Component emitted event "${t}" but it is neither declared in the emits option nor as an "${Ge(t)}" prop.`);else{const d=f[t];$(d)&&(d(...n)||B(`Invalid event arguments: event validation failed for event "${t}".`))}}let o=n;const s=t.startsWith("update:"),i=s&&t.slice(7);if(i&&i in r){const f=`${i==="modelValue"?"model":i}Modifiers`,{number:a,trim:d}=r[f]||re;d&&(o=n.map(h=>Z(h)?h.trim():h)),a&&(o=n.map(ru))}Ah(e,t,o);{const f=t.toLowerCase();f!==t&&r[Ge(f)]&&B(`Event "${f}" is emitted in component ${Jn(e,e.type)} but the handler is registered for "${t}". Note that HTML attributes are case-insensitive and you cannot use v-on to listen to camelCase events when using in-DOM templates. You should probably use "${ct(t)}" instead of "${t}".`)}let u,l=r[u=Ge(t)]||r[u=Ge(Ie(t))];!l&&s&&(l=r[u=Ge(ct(t))]),l&&ze(l,e,6,o);const c=r[u+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[u])return;e.emitted[u]=!0,ze(c,e,6,o)}}function xc(e,t,n=!1){const r=t.emitsCache,o=r.get(e);if(o!==void 0)return o;const s=e.emits;let i={},u=!1;if(!$(e)){const l=c=>{const f=xc(c,t,!0);f&&(u=!0,Q(i,f))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!s&&!u?(X(e)&&r.set(e,null),null):(M(s)?s.forEach(l=>i[l]=null):Q(i,s),X(e)&&r.set(e,i),i)}function kc(e,t){return!e||!ci(t)?!1:(t=t.slice(2).replace(/Once$/,""),U(e,t[0].toLowerCase()+t.slice(1))||U(e,ct(t))||U(e,t))}let lt=null;function cs(e){const t=lt;return lt=e,e&&e.type.__scopeId,t}function kh(e,t){if(!te)B("provide() can only be used inside setup().");else{let n=te.provides;const r=te.parent&&te.parent.provides;r===n&&(n=te.provides=Object.create(r)),n[e]=t,te.type.mpType==="app"&&te.appContext.app.provide(e,t)}}function tr(e,t,n=!1){const r=te||lt;if(r){const o=r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides;if(o&&e in o)return o[e];if(arguments.length>1)return n&&$(t)?t.call(r.proxy):t;B(`injection "${String(e)}" not found.`)}else B("inject() can only be used inside setup() or functional components.")}const dn={};function nr(e,t,n){return $(t)||B("`watch(fn, options?)` signature has been moved to a separate API. Use `watchEffect(fn, options?)` instead. `watch` now only supports `watch(source, cb, options?) signature."),Oc(e,t,n)}function Oc(e,t,{immediate:n,deep:r,flush:o,onTrack:s,onTrigger:i}=re){t||(n!==void 0&&B('watch() "immediate" option is only respected when using the watch(source, callback, options?) signature.'),r!==void 0&&B('watch() "deep" option is only respected when using the watch(source, callback, options?) signature.'));const u=b=>{B("Invalid watch source: ",b,"A watch source can only be a getter/effect function, a ref, a reactive object, or an array of these types.")},l=kf()===(te==null?void 0:te.scope)?te:null;let c,f=!1,a=!1;if(ae(e)?(c=()=>e.value,f=An(e)):yt(e)?(c=()=>e,r=!0):M(e)?(a=!0,f=e.some(b=>yt(b)||An(b)),c=()=>e.map(b=>{if(ae(b))return b.value;if(yt(b))return gt(b);if($(b))return Re(b,l,2);u(b)})):$(e)?t?c=()=>Re(e,l,2):c=()=>{if(!(l&&l.isUnmounted))return d&&d(),ze(e,l,3,[h])}:(c=ue,u(e)),t&&r){const b=c;c=()=>gt(b())}let d,h=b=>{d=v.onStop=()=>{Re(b,l,4)}},m=a?new Array(e.length).fill(dn):dn;const _=()=>{if(v.active)if(t){const b=v.run();(r||f||(a?b.some((T,x)=>Ht(T,m[x])):Ht(b,m)))&&(d&&d(),ze(t,l,3,[b,m===dn?void 0:a&&m[0]===dn?[]:m,h]),m=b)}else v.run()};_.allowRecurse=!!t;let w;o==="sync"?w=_:o==="post"?w=()=>ms(_,l&&l.suspense):(_.pre=!0,l&&(_.id=l.uid),w=()=>xn(_));const v=new ao(c,w);return v.onTrack=s,v.onTrigger=i,t?n?_():m=v.run():o==="post"?ms(v.run.bind(v),l&&l.suspense):v.run(),()=>{v.stop(),l&&l.scope&&Nn(l.scope.effects,v)}}function Oh(e,t,n){const r=this.proxy,o=Z(e)?e.includes(".")?Cc(r,e):()=>r[e]:e.bind(r,r);let s;$(t)?s=t:(s=t.handler,n=t);const i=te;St(this);const u=Oc(o,s.bind(r),n);return i?St(i):ot(),u}function Cc(e,t){const n=t.split(".");return()=>{let r=e;for(let o=0;o<n.length&&r;o++)r=r[n[o]];return r}}function gt(e,t){if(!X(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),ae(e))gt(e.value,t);else if(M(e))for(let n=0;n<e.length;n++)gt(e[n],t);else if(ai(e)||tt(e))e.forEach(n=>{gt(n,t)});else if(oe(e))for(const n in e)gt(e[n],t);return e}function Ch(e){return $(e)?{setup:e,name:e.name}:e}const Ih=e=>e.type.__isKeepAlive;function Rh(e,t){Ic(e,"a",t)}function Lh(e,t){Ic(e,"da",t)}function Ic(e,t,n=te){const r=e.__wdc||(e.__wdc=()=>{let o=n;for(;o;){if(o.isDeactivated)return;o=o.parent}return e()});if(Rt(t,r,n),n){let o=n.parent;for(;o&&o.parent;)Ih(o.parent.vnode)&&$h(r,t,n,o),o=o.parent}}function $h(e,t,n,r){const o=Rt(t,e,r,!0);Rc(()=>{Nn(r[t],o)},n)}function Rt(e,t,n=te,r=!1){if(n){Iu(e)&&(n=n.root);const o=n[e]||(n[e]=[]),s=t.__weh||(t.__weh=(...i)=>{if(n.isUnmounted)return;Ct(),St(n);const u=ze(t,n,e,i);return ot(),It(),u});return r?o.unshift(s):o.push(s),s}else{const o=Ge((mo[e]||e.replace(/^on/,"")).replace(/ hook$/,""));B(`${o} is called when there is no active component instance to be associated with. Lifecycle injection APIs can only be used during execution of setup().`)}}const $e=e=>(t,n=te)=>(!Yt||e==="sp")&&Rt(e,(...r)=>t(...r),n),Nh=$e("bm"),Dh=$e("m"),Bh=$e("bu"),jh=$e("u"),vo=$e("bum"),Rc=$e("um"),Mh=$e("sp"),Uh=$e("rtg"),Fh=$e("rtc");function qh(e,t=te){Rt("ec",e,t)}function Lc(e){Za(e)&&B("Do not use built-in directive ids as custom directive id: "+e)}const Dr="components";function Hh(e,t){return Kh(Dr,e,!0,t)||e}function Kh(e,t,n=!0,r=!1){const o=lt||te;if(o){const s=o.type;if(e===Dr){const u=So(s,!1);if(u&&(u===t||u===Ie(t)||u===at(Ie(t))))return s}const i=as(o[e]||s[e],t)||as(o.appContext[e],t);if(!i&&r)return s;if(n&&!i){const u=e===Dr?`
If this is a native custom element, make sure to exclude it from component resolution via compilerOptions.isCustomElement.`:"";B(`Failed to resolve ${e.slice(0,-1)}: ${t}${u}`)}return i}else B(`resolve${at(e.slice(0,-1))} can only be used in render() or setup().`)}function as(e,t){return e&&(e[t]||e[Ie(t)]||e[at(Ie(t))])}const Br=e=>e?Fc(e)?Yn(e)||e.proxy:Br(e.parent):null,zt=Q(Object.create(null),{$:e=>e,$el:e=>e.__$el||(e.__$el={}),$data:e=>e.data,$props:e=>dt(e.props),$attrs:e=>dt(e.attrs),$slots:e=>dt(e.slots),$refs:e=>dt(e.refs),$parent:e=>Br(e.parent),$root:e=>Br(e.root),$emit:e=>e.emit,$options:e=>Dc(e),$forceUpdate:e=>e.f||(e.f=()=>xn(e.update)),$watch:e=>Oh.bind(e)}),To=e=>e==="_"||e==="$",rr=(e,t)=>e!==re&&!e.__isScriptSetup&&U(e,t),$c={get({_:e},t){const{ctx:n,setupState:r,data:o,props:s,accessCache:i,type:u,appContext:l}=e;if(t==="__isVue")return!0;let c;if(t[0]!=="$"){const h=i[t];if(h!==void 0)switch(h){case 1:return r[t];case 2:return o[t];case 4:return n[t];case 3:return s[t]}else{if(rr(r,t))return i[t]=1,r[t];if(o!==re&&U(o,t))return i[t]=2,o[t];if((c=e.propsOptions[0])&&U(c,t))return i[t]=3,s[t];if(n!==re&&U(n,t))return i[t]=4,n[t];jr&&(i[t]=0)}}const f=zt[t];let a,d;if(f)return t==="$attrs"&&ye(e,"get",t),f(e);if((a=u.__cssModules)&&(a=a[t]))return a;if(n!==re&&U(n,t))return i[t]=4,n[t];if(d=l.config.globalProperties,U(d,t))return d[t];lt&&(!Z(t)||t.indexOf("__v")!==0)&&(o!==re&&To(t[0])&&U(o,t)?B(`Property ${JSON.stringify(t)} must be accessed via $data because it starts with a reserved character ("$" or "_") and is not proxied on the render context.`):e===lt&&B(`Property ${JSON.stringify(t)} was accessed during render but is not defined on instance.`))},set({_:e},t,n){const{data:r,setupState:o,ctx:s}=e;return rr(o,t)?(o[t]=n,!0):o.__isScriptSetup&&U(o,t)?(B(`Cannot mutate <script setup> binding "${t}" from Options API.`),!1):r!==re&&U(r,t)?(r[t]=n,!0):U(e.props,t)?(B(`Attempting to mutate prop "${t}". Props are readonly.`),!1):t[0]==="$"&&t.slice(1)in e?(B(`Attempting to mutate public property "${t}". Properties starting with $ are reserved and readonly.`),!1):(t in e.appContext.config.globalProperties?Object.defineProperty(s,t,{enumerable:!0,configurable:!0,value:n}):s[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:o,propsOptions:s}},i){let u;return!!n[i]||e!==re&&U(e,i)||rr(t,i)||(u=s[0])&&U(u,i)||U(r,i)||U(zt,i)||U(o.config.globalProperties,i)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:U(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};$c.ownKeys=e=>(B("Avoid app logic that relies on enumerating keys on a component instance. The keys will be empty in production mode to avoid performance overhead."),Reflect.ownKeys(e));function Vh(e){const t={};return Object.defineProperty(t,"_",{configurable:!0,enumerable:!1,get:()=>e}),Object.keys(zt).forEach(n=>{Object.defineProperty(t,n,{configurable:!0,enumerable:!1,get:()=>zt[n](e),set:ue})}),t}function Wh(e){const{ctx:t,propsOptions:[n]}=e;n&&Object.keys(n).forEach(r=>{Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>e.props[r],set:ue})})}function zh(e){const{ctx:t,setupState:n}=e;Object.keys(W(n)).forEach(r=>{if(!n.__isScriptSetup){if(To(r[0])){B(`setup() return property ${JSON.stringify(r)} should not start with "$" or "_" which are reserved prefixes for Vue internals.`);return}Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>n[r],set:ue})}})}function Yh(){const e=Object.create(null);return(t,n)=>{e[n]?B(`${t} property "${n}" is already defined in ${e[n]}.`):e[n]=t}}let jr=!0;function Jh(e){const t=Dc(e),n=e.proxy,r=e.ctx;jr=!1,t.beforeCreate&&us(t.beforeCreate,e,"bc");const{data:o,computed:s,methods:i,watch:u,provide:l,inject:c,created:f,beforeMount:a,mounted:d,beforeUpdate:h,updated:m,activated:_,deactivated:w,beforeDestroy:v,beforeUnmount:P,destroyed:b,unmounted:T,render:x,renderTracked:k,renderTriggered:N,errorCaptured:L,serverPrefetch:q,expose:H,inheritAttrs:J,components:_e,directives:we,filters:Ye}=t,be=Yh();{const[K]=e.propsOptions;if(K)for(const j in K)be("Props",j)}if(c&&Gh(c,r,be,e.appContext.config.unwrapInjectedRef),i)for(const K in i){const j=i[K];$(j)?(Object.defineProperty(r,K,{value:j.bind(n),configurable:!0,enumerable:!0,writable:!0}),be("Methods",K)):B(`Method "${K}" has type "${typeof j}" in the component definition. Did you reference the function correctly?`)}if(o){$(o)||B("The data option must be a function. Plain object usage is no longer supported.");const K=o.call(n,n);if(Zt(K)&&B("data() returned a Promise - note data() cannot be async; If you intend to perform data fetching before component renders, use async setup() + <Suspense>."),!X(K))B("data() should return an object.");else{e.data=Kn(K);for(const j in K)be("Data",j),To(j[0])||Object.defineProperty(r,j,{configurable:!0,enumerable:!0,get:()=>K[j],set:ue})}}if(jr=!0,s)for(const K in s){const j=s[K],G=$(j)?j.bind(n,n):$(j.get)?j.get.bind(n,n):ue;G===ue&&B(`Computed property "${K}" has no getter.`);const Te=!$(j)&&$(j.set)?j.set.bind(n):()=>{B(`Write operation failed: computed property "${K}" is readonly.`)},O=Cp({get:G,set:Te});Object.defineProperty(r,K,{enumerable:!0,configurable:!0,get:()=>O.value,set:R=>O.value=R}),be("Computed",K)}if(u)for(const K in u)Nc(u[K],r,n,K);if(l){const K=$(l)?l.call(n):l;Reflect.ownKeys(K).forEach(j=>{kh(j,K[j])})}f&&us(f,e,"c");function se(K,j){M(j)?j.forEach(G=>K(G.bind(n))):j&&K(j.bind(n))}if(se(Nh,a),se(Dh,d),se(Bh,h),se(jh,m),se(Rh,_),se(Lh,w),se(qh,L),se(Fh,k),se(Uh,N),se(vo,P),se(Rc,T),se(Mh,q),M(H))if(H.length){const K=e.exposed||(e.exposed={});H.forEach(j=>{Object.defineProperty(K,j,{get:()=>n[j],set:G=>n[j]=G})})}else e.exposed||(e.exposed={});x&&e.render===ue&&(e.render=x),J!=null&&(e.inheritAttrs=J),_e&&(e.components=_e),we&&(e.directives=we),e.ctx.$onApplyOptions&&e.ctx.$onApplyOptions(t,e,n)}function Gh(e,t,n=ue,r=!1){M(e)&&(e=Mr(e));for(const o in e){const s=e[o];let i;X(s)?"default"in s?i=tr(s.from||o,s.default,!0):i=tr(s.from||o):i=tr(s),ae(i)?r?Object.defineProperty(t,o,{enumerable:!0,configurable:!0,get:()=>i.value,set:u=>i.value=u}):(B(`injected property "${o}" is a ref and will be auto-unwrapped and no longer needs \`.value\` in the next minor release. To opt-in to the new behavior now, set \`app.config.unwrapInjectedRef = true\` (this config is temporary and will not be needed in the future.)`),t[o]=i):t[o]=i,n("Inject",o)}}function us(e,t,n){ze(M(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function Nc(e,t,n,r){const o=r.includes(".")?Cc(n,r):()=>n[r];if(Z(e)){const s=t[e];$(s)?nr(o,s):B(`Invalid watch handler specified by key "${e}"`,s)}else if($(e))nr(o,e.bind(n));else if(X(e))if(M(e))e.forEach(s=>Nc(s,t,n,r));else{const s=$(e.handler)?e.handler.bind(n):t[e.handler];$(s)?nr(o,s,e):B(`Invalid watch handler specified by key "${e.handler}"`,s)}else B(`Invalid watch option: "${r}"`,e)}function Dc(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:o,optionsCache:s,config:{optionMergeStrategies:i}}=e.appContext,u=s.get(t);let l;return u?l=u:!o.length&&!n&&!r?l=t:(l={},o.length&&o.forEach(c=>kn(l,c,i,!0)),kn(l,t,i)),X(t)&&s.set(t,l),l}function kn(e,t,n,r=!1){const{mixins:o,extends:s}=t;s&&kn(e,s,n,!0),o&&o.forEach(i=>kn(e,i,n,!0));for(const i in t)if(r&&i==="expose")B('"expose" option is ignored when declared in mixins or extends. It should only be declared in the base component itself.');else{const u=Xh[i]||n&&n[i];e[i]=u?u(e[i],t[i]):t[i]}return e}const Xh={data:ls,props:Xe,emits:Xe,methods:Xe,computed:Xe,beforeCreate:le,created:le,beforeMount:le,mounted:le,beforeUpdate:le,updated:le,beforeDestroy:le,beforeUnmount:le,destroyed:le,unmounted:le,activated:le,deactivated:le,errorCaptured:le,serverPrefetch:le,components:Xe,directives:Xe,watch:Zh,provide:ls,inject:Qh};function ls(e,t){return t?e?function(){return Q($(e)?e.call(this,this):e,$(t)?t.call(this,this):t)}:t:e}function Qh(e,t){return Xe(Mr(e),Mr(t))}function Mr(e){if(M(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function le(e,t){return e?[...new Set([].concat(e,t))]:t}function Xe(e,t){return e?Q(Q(Object.create(null),e),t):t}function Zh(e,t){if(!e)return t;if(!t)return e;const n=Q(Object.create(null),e);for(const r in t)n[r]=le(e[r],t[r]);return n}function ep(e,t,n,r=!1){const o={},s={};e.propsDefaults=Object.create(null),Bc(e,t,o,s);for(const i in e.propsOptions[0])i in o||(o[i]=void 0);Mc(t||{},o,e),n?e.props=r?o:nh(o):e.type.props?e.props=o:e.props=s,e.attrs=s}function tp(e){for(;e;){if(e.type.__hmrId)return!0;e=e.parent}}function np(e,t,n,r){const{props:o,attrs:s,vnode:{patchFlag:i}}=e,u=W(o),[l]=e.propsOptions;let c=!1;if(!tp(e)&&(r||i>0)&&!(i&16)){if(i&8){const f=e.vnode.dynamicProps;for(let a=0;a<f.length;a++){let d=f[a];if(kc(e.emitsOptions,d))continue;const h=t[d];if(l)if(U(s,d))h!==s[d]&&(s[d]=h,c=!0);else{const m=Ie(d);o[m]=Ur(l,u,m,h,e,!1)}else h!==s[d]&&(s[d]=h,c=!0)}}}else{Bc(e,t,o,s)&&(c=!0);let f;for(const a in u)(!t||!U(t,a)&&((f=ct(a))===a||!U(t,f)))&&(l?n&&(n[a]!==void 0||n[f]!==void 0)&&(o[a]=Ur(l,u,a,void 0,e,!0)):delete o[a]);if(s!==u)for(const a in s)(!t||!U(t,a))&&(delete s[a],c=!0)}c&&Le(e,"set","$attrs"),Mc(t||{},o,e)}function Bc(e,t,n,r){const[o,s]=e.propsOptions;let i=!1,u;if(t)for(let l in t){if(Qa(l))continue;const c=t[l];let f;o&&U(o,f=Ie(l))?!s||!s.includes(f)?n[f]=c:(u||(u={}))[f]=c:kc(e.emitsOptions,l)||(!(l in r)||c!==r[l])&&(r[l]=c,i=!0)}if(s){const l=W(n),c=u||re;for(let f=0;f<s.length;f++){const a=s[f];n[a]=Ur(o,l,a,c[a],e,!U(c,a))}}return i}function Ur(e,t,n,r,o,s){const i=e[n];if(i!=null){const u=U(i,"default");if(u&&r===void 0){const l=i.default;if(i.type!==Function&&$(l)){const{propsDefaults:c}=o;n in c?r=c[n]:(St(o),r=c[n]=l.call(null,t),ot())}else r=l}i[0]&&(s&&!u?r=!1:i[1]&&(r===""||r===ct(n))&&(r=!0))}return r}function jc(e,t,n=!1){const r=t.propsCache,o=r.get(e);if(o)return o;const s=e.props,i={},u=[];let l=!1;if(!$(e)){const f=a=>{l=!0;const[d,h]=jc(a,t,!0);Q(i,d),h&&u.push(...h)};!n&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}if(!s&&!l)return X(e)&&r.set(e,Do),Do;if(M(s))for(let f=0;f<s.length;f++){Z(s[f])||B("props must be strings when using array syntax.",s[f]);const a=Ie(s[f]);fs(a)&&(i[a]=re)}else if(s){X(s)||B("invalid props options",s);for(const f in s){const a=Ie(f);if(fs(a)){const d=s[f],h=i[a]=M(d)||$(d)?{type:d}:Object.assign({},d);if(h){const m=ps(Boolean,h.type),_=ps(String,h.type);h[0]=m>-1,h[1]=_<0||m<_,(m>-1||U(h,"default"))&&u.push(a)}}}}const c=[i,u];return X(e)&&r.set(e,c),c}function fs(e){return e[0]!=="$"?!0:(B(`Invalid prop name: "${e}" is a reserved property.`),!1)}function Fr(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function hs(e,t){return Fr(e)===Fr(t)}function ps(e,t){return M(t)?t.findIndex(n=>hs(n,e)):$(t)&&hs(t,e)?0:-1}function Mc(e,t,n){const r=W(t),o=n.propsOptions[0];for(const s in o){let i=o[s];i!=null&&rp(s,r[s],i,!U(e,s)&&!U(e,ct(s)))}}function rp(e,t,n,r){const{type:o,required:s,validator:i}=n;if(s&&r){B('Missing required prop: "'+e+'"');return}if(!(t==null&&!n.required)){if(o!=null&&o!==!0){let u=!1;const l=M(o)?o:[o],c=[];for(let f=0;f<l.length&&!u;f++){const{valid:a,expectedType:d}=sp(t,l[f]);c.push(d||""),u=a}if(!u){B(ip(e,t,c));return}}i&&!i(t)&&B('Invalid prop: custom validator check failed for prop "'+e+'".')}}const op=kt("String,Number,Boolean,Function,Symbol,BigInt");function sp(e,t){let n;const r=Fr(t);if(op(r)){const o=typeof e;n=o===r.toLowerCase(),!n&&o==="object"&&(n=e instanceof t)}else r==="Object"?n=X(e):r==="Array"?n=M(e):r==="null"?n=e===null:n=e instanceof t;return{valid:n,expectedType:r}}function ip(e,t,n){let r=`Invalid prop: type check failed for prop "${e}". Expected ${n.map(at).join(" | ")}`;const o=n[0],s=Dn(t),i=ds(t,o),u=ds(t,s);return n.length===1&&gs(o)&&!cp(o,s)&&(r+=` with value ${i}`),r+=`, got ${s} `,gs(s)&&(r+=`with value ${u}.`),r}function ds(e,t){return t==="String"?`"${e}"`:t==="Number"?`${Number(e)}`:`${e}`}function gs(e){return["string","number","boolean"].some(n=>e.toLowerCase()===n)}function cp(...e){return e.some(t=>t.toLowerCase()==="boolean")}function Uc(){return{app:null,config:{isNativeTag:ii,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let ap=0;function up(e,t){return function(r,o=null){$(r)||(r=Object.assign({},r)),o!=null&&!X(o)&&(B("root props passed to app.mount() must be an object."),o=null);const s=Uc(),i=new Set,u=s.app={_uid:ap++,_component:r,_props:o,_container:null,_context:s,_instance:null,version:Hc,get config(){return s.config},set config(l){B("app.config cannot be replaced. Modify individual options instead.")},use(l,...c){return i.has(l)?B("Plugin has already been applied to target app."):l&&$(l.install)?(i.add(l),l.install(u,...c)):$(l)?(i.add(l),l(u,...c)):B('A plugin must either be a function or an object with an "install" function.'),u},mixin(l){return s.mixins.includes(l)?B("Mixin has already been applied to target app"+(l.name?`: ${l.name}`:"")):s.mixins.push(l),u},component(l,c){return qr(l,s.config),c?(s.components[l]&&B(`Component "${l}" has already been registered in target app.`),s.components[l]=c,u):s.components[l]},directive(l,c){return Lc(l),c?(s.directives[l]&&B(`Directive "${l}" has already been registered in target app.`),s.directives[l]=c,u):s.directives[l]},mount(){},unmount(){},provide(l,c){return l in s.provides&&B(`App already provides property with key "${String(l)}". It will be overwritten with the new value.`),s.provides[l]=c,u}};return u}}let Dt,Fe;function On(e,t){e.appContext.config.performance&&In()&&Fe.mark(`vue-${t}-${e.uid}`),Eh(e,t,In()?Fe.now():Date.now())}function Cn(e,t){if(e.appContext.config.performance&&In()){const n=`vue-${t}-${e.uid}`,r=n+":end";Fe.mark(r),Fe.measure(`<${Jn(e,e.type)}> ${t}`,n,r),Fe.clearMarks(n),Fe.clearMarks(r)}Ph(e,t,In()?Fe.now():Date.now())}function In(){return Dt!==void 0||(typeof window<"u"&&window.performance?(Dt=!0,Fe=window.performance):Dt=!1),Dt}const ms=vc,lp=Symbol("Fragment"),fp=Symbol("Text"),hp=Symbol("Comment"),pp=Symbol("Static");function dp(e){return e?e.__v_isVNode===!0:!1}const gp="__vInternal";function mp(e){return e?rh(e)||gp in e?Q({},e):e:null}const yp=Uc();let _p=0;function wp(e,t,n){const r=e.type,o=(t?t.appContext:e.appContext)||yp,s={uid:_p++,vnode:e,type:r,parent:t,appContext:o,root:null,next:null,subTree:null,effect:null,update:null,scope:new Af(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(o.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:jc(r,o),emitsOptions:xc(r,o),emit:null,emitted:null,propsDefaults:re,inheritAttrs:r.inheritAttrs,ctx:re,data:re,props:re,attrs:re,slots:re,refs:re,setupState:re,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx=Vh(s),s.root=t?t.root:s,s.emit=xh.bind(null,s),e.ce&&e.ce(s),s}let te=null;const zn=()=>te||lt,St=e=>{te=e,e.scope.on()},ot=()=>{te&&te.scope.off(),te=null},bp=kt("slot,component");function qr(e,t){const n=t.isNativeTag||ii;(bp(e)||n(e))&&B("Do not use built-in or reserved HTML elements as component id: "+e)}function Fc(e){return e.vnode.shapeFlag&4}let Yt=!1;function vp(e,t=!1){Yt=t;const{props:n}=e.vnode,r=Fc(e);ep(e,n,r,t);const o=r?Tp(e,t):void 0;return Yt=!1,o}function Tp(e,t){const n=e.type;{if(n.name&&qr(n.name,e.appContext.config),n.components){const o=Object.keys(n.components);for(let s=0;s<o.length;s++)qr(o[s],e.appContext.config)}if(n.directives){const o=Object.keys(n.directives);for(let s=0;s<o.length;s++)Lc(o[s])}n.compilerOptions&&Pp()&&B('"compilerOptions" is only supported when using a build of Vue that includes the runtime compiler. Since you are using a runtime-only build, the options should be passed via your build tool config instead.')}e.accessCache=Object.create(null),e.proxy=lo(new Proxy(e.ctx,$c)),Wh(e);const{setup:r}=n;if(r){const o=e.setupContext=r.length>1?xp(e):null;St(e),Ct();const s=Re(r,e,0,[dt(e.props),o]);It(),ot(),Zt(s)?(s.then(ot,ot),B("setup() returned a Promise, but the version of Vue you are using does not support it yet.")):Sp(e,s,t)}else qc(e,t)}function Sp(e,t,n){$(t)?e.render=t:X(t)?(dp(t)&&B("setup() should not return VNodes directly - return a render function instead."),e.devtoolsRawSetupState=t,e.setupState=gc(t),zh(e)):t!==void 0&&B(`setup() should return an object. Received: ${t===null?"null":typeof t}`),qc(e,n)}let Ep;const Pp=()=>!Ep;function qc(e,t,n){const r=e.type;e.render||(e.render=r.render||ue),St(e),Ct(),Jh(e),It(),ot(),!r.render&&e.render===ue&&!t&&(r.template?B('Component provided template option but runtime compilation is not supported in this build of Vue. Configure your bundler to alias "vue" to "vue/dist/vue.esm-bundler.js".'):B("Component is missing template or render function."))}function Ap(e){return new Proxy(e.attrs,{get(t,n){return ye(e,"get","$attrs"),t[n]},set(){return B("setupContext.attrs is readonly."),!1},deleteProperty(){return B("setupContext.attrs is readonly."),!1}})}function xp(e){const t=r=>{if(e.exposed&&B("expose() should be called only once per setup()."),r!=null){let o=typeof r;o==="object"&&(M(r)?o="array":ae(r)&&(o="ref")),o!=="object"&&B(`expose() should be passed a plain object, received ${o}.`)}e.exposed=r||{}};let n;return Object.freeze({get attrs(){return n||(n=Ap(e))},get slots(){return dt(e.slots)},get emit(){return(r,...o)=>e.emit(r,...o)},expose:t})}function Yn(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(gc(lo(e.exposed)),{get(t,n){return n in t?t[n]:e.proxy[n]},has(t,n){return n in t||n in zt}}))}const kp=/(?:^|[-_])(\w)/g,Op=e=>e.replace(kp,t=>t.toUpperCase()).replace(/[-_]/g,"");function So(e,t=!0){return $(e)?e.displayName||e.name:e.name||t&&e.__name}function Jn(e,t,n=!1){let r=So(t);if(!r&&t.__file){const o=t.__file.match(/([^/\\]+)\.\w+$/);o&&(r=o[1])}if(!r&&e&&e.parent){const o=s=>{for(const i in s)if(s[i]===t)return i};r=o(e.components||e.parent.type.components)||o(e.appContext.components)}return r?Op(r):n?"App":"Anonymous"}const Cp=(e,t)=>ah(e,t,Yt),Hc="3.2.47";function Rn(e){return ho(e)}const Qe="[object Array]",Ze="[object Object]";function Kc(e,t){const n={};return Hr(e,t),bn(e,t,"",n),n}function Hr(e,t){if(e=Rn(e),e===t)return;const n=ke(e),r=ke(t);if(n==Ze&&r==Ze)for(let o in t){const s=e[o];s===void 0?e[o]=null:Hr(s,t[o])}else n==Qe&&r==Qe&&e.length>=t.length&&t.forEach((o,s)=>{Hr(e[s],o)})}function bn(e,t,n,r){if(e=Rn(e),e===t)return;const o=ke(e),s=ke(t);if(o==Ze)if(s!=Ze||Object.keys(e).length<Object.keys(t).length)je(r,n,e);else for(let i in e){const u=Rn(e[i]),l=t[i],c=ke(u),f=ke(l);if(c!=Qe&&c!=Ze)u!=l&&je(r,(n==""?"":n+".")+i,u);else if(c==Qe)f!=Qe||u.length<l.length?je(r,(n==""?"":n+".")+i,u):u.forEach((a,d)=>{bn(a,l[d],(n==""?"":n+".")+i+"["+d+"]",r)});else if(c==Ze)if(f!=Ze||Object.keys(u).length<Object.keys(l).length)je(r,(n==""?"":n+".")+i,u);else for(let a in u)bn(u[a],l[a],(n==""?"":n+".")+i+"."+a,r)}else o==Qe?s!=Qe||e.length<t.length?je(r,n,e):e.forEach((i,u)=>{bn(i,t[u],n+"["+u+"]",r)}):je(r,n,e)}function je(e,t,n){e[t]=n}function Ip(e){return ie.includes(e.update)}function ys(e){const n=e.ctx.__next_tick_callbacks;if(n&&n.length){const r=n.slice(0);n.length=0;for(let o=0;o<r.length;o++)r[o]()}}function Vc(e,t){const n=e.ctx;if(!n.__next_tick_pending&&!Ip(e))return wc(t&&t.bind(e.proxy));let r;return n.__next_tick_callbacks||(n.__next_tick_callbacks=[]),n.__next_tick_callbacks.push(()=>{t?Re(t.bind(e.proxy),e,14):r&&r(e.proxy)}),new Promise(o=>{r=o})}function Kr(e,t){e=Rn(e);const n=typeof e;if(n==="object"&&e!==null){let r=t.get(e);if(typeof r<"u")return r;if(M(e)){const o=e.length;r=new Array(o),t.set(e,r);for(let s=0;s<o;s++)r[s]=Kr(e[s],t)}else{r={},t.set(e,r);for(const o in e)U(e,o)&&(r[o]=Kr(e[o],t))}return r}if(n!=="symbol")return e}function Rp(e){return Kr(e,typeof WeakMap<"u"?new WeakMap:new Map)}function Lp(e,t){const n=e.data,r=Object.create(null);return t.forEach(o=>{r[o]=n[o]}),r}function _s(e,t,n){if(!t)return;t=Rp(t);const r=e.ctx,o=r.mpType;if(o==="page"||o==="component"){t.r0=1;const s=r.$scope,i=Object.keys(t),u=Kc(t,n||Lp(s,i));Object.keys(u).length?(r.__next_tick_pending=!0,s.setData(u,()=>{r.__next_tick_pending=!1,ys(e)}),Tc()):ys(e)}}function $p(e){e.globalProperties.$nextTick=function(n){return Vc(this.$,n)}}function Np(e,t,n){t.appContext.config.globalProperties.$applyOptions(e,t,n);const r=e.computed;if(r){const o=Object.keys(r);if(o.length){const s=t.ctx;s.$computedKeys||(s.$computedKeys=[]),s.$computedKeys.push(...o)}}delete t.ctx.$onApplyOptions}function Wc(e,t=!1){const{setupState:n,$templateRefs:r,ctx:{$scope:o,$mpPlatform:s}}=e;if(s==="mp-alipay"||!r||!o)return;if(t)return r.forEach(c=>ws(c,null,n));const i=s==="mp-baidu"||s==="mp-toutiao",u=c=>{const f=(o.selectAllComponents(".r")||[]).concat(o.selectAllComponents(".r-i-f")||[]);return c.filter(a=>{const d=Bp(f,a.i);return i&&d===null?!0:(ws(a,d,n),!1)})},l=()=>{const c=u(r);c.length&&e.proxy&&e.proxy.$scope&&e.proxy.$scope.setData({r1:1},()=>{u(c)})};o._$setRef?o._$setRef(l):Vc(e,l)}function Dp(e){return X(e)&&lo(e),e}function Bp(e,t){const n=e.find(r=>r&&(r.properties||r.props).uI===t);if(n){const r=n.$vm;return r?Yn(r.$)||r:Dp(n)}return null}function ws({r:e,f:t},n,r){if($(e))e(n,{});else{const o=Z(e),s=ae(e);if(o||s)if(t){if(!s)return;M(e.value)||(e.value=[]);const i=e.value;if(i.indexOf(n)===-1){if(i.push(n),!n)return;vo(()=>Nn(i,n),n.$)}}else o?U(r,e)&&(r[e]=n):ae(e)?e.value=n:bs(e);else bs(e)}}function bs(e){B("Invalid template ref type:",e,`(${typeof e})`)}var Vr;(function(e){e.APP="app",e.PAGE="page",e.COMPONENT="component"})(Vr||(Vr={}));const Wr=vc;function vs(e,t){const n=e.component=wp(e,t.parentComponent,null);return n.ctx.$onApplyOptions=Np,n.ctx.$children=[],t.mpType==="app"&&(n.render=ue),t.onBeforeSetup&&t.onBeforeSetup(n,t),po(e),On(n,"mount"),On(n,"init"),vp(n),Cn(n,"init"),t.parentComponent&&n.proxy&&t.parentComponent.ctx.$children.push(Yn(n)||n.proxy),Fp(n),go(),Cn(n,"mount"),n.proxy}const jp=e=>{let t;for(const n in e)(n==="class"||n==="style"||ci(n))&&((t||(t={}))[n]=e[n]);return t};function Ts(e){const{type:t,vnode:n,proxy:r,withProxy:o,props:s,propsOptions:[i],slots:u,attrs:l,emit:c,render:f,renderCache:a,data:d,setupState:h,ctx:m,uid:_,appContext:{app:{config:{globalProperties:{pruneComponentPropsCache:w}}}},inheritAttrs:v}=e;e.$templateRefs=[],e.$ei=0,w(_),e.__counter=e.__counter===0?1:0;let P;const b=cs(e);try{if(n.shapeFlag&4){Ss(v,s,i,l);const T=o||r;P=f.call(T,T,a,s,h,d,m)}else{Ss(v,s,i,t.props?l:jp(l));const T=t;P=T.length>1?T(s,{attrs:l,slots:u,emit:c}):T(s,null)}}catch(T){yo(T,e,1),P=!1}return Wc(e),cs(b),P}function Ss(e,t,n,r){if(t&&r&&e!==!1){const o=Object.keys(r).filter(s=>s!=="class"&&s!=="style");if(!o.length)return;n&&o.some(Bo)?o.forEach(s=>{(!Bo(s)||!(s.slice(9)in n))&&(t[s]=r[s])}):o.forEach(s=>t[s]=r[s])}}const Mp=e=>{Ct(),Tc(),It()};function Up(){const e=this.$scopedSlotsData;if(!e||e.length===0)return;const t=this.ctx.$scope,n=t.data,r=Object.create(null);e.forEach(({path:o,index:s,data:i})=>{const u=xi(n,o),l=Z(s)?`${o}.${s}`:`${o}[${s}]`;if(typeof u>"u"||typeof u[s]>"u")r[l]=i;else{const c=Kc(i,u[s]);Object.keys(c).forEach(f=>{r[l+"."+f]=c[f]})}}),e.length=0,Object.keys(r).length&&t.setData(r)}function or({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function Fp(e){const t=Up.bind(e);e.$updateScopedSlots=()=>wc(()=>xn(t));const n=()=>{if(!e.isMounted)vo(()=>{Wc(e,!0)},e),On(e,"patch"),_s(e,Ts(e)),Cn(e,"patch"),Pc(e);else{const{next:s,bu:i,u}=e;po(s||e.vnode),or(e,!1),Mp(),i&&wn(i),or(e,!0),On(e,"patch"),_s(e,Ts(e)),Cn(e,"patch"),u&&Wr(u),vh(e),go()}},r=e.effect=new ao(n,()=>xn(e.update),e.scope),o=e.update=r.run.bind(r);o.id=e.uid,or(e,!0),r.onTrack=e.rtc?s=>wn(e.rtc,s):void 0,r.onTrigger=e.rtg?s=>wn(e.rtg,s):void 0,o.ownerInstance=e,o()}function qp(e){const{bum:t,scope:n,update:r,um:o}=e;t&&wn(t),n.stop(),r&&(r.active=!1),o&&Wr(o),Wr(()=>{e.isUnmounted=!0}),Sh(e)}const Hp=up();function Kp(){if(typeof window<"u")return window;if(typeof globalThis<"u")return globalThis;if(typeof global<"u")return global;if(typeof my<"u")return my}function Vp(e,t=null){const n=Kp();n.__VUE__=!0,Ec(n.__VUE_DEVTOOLS_GLOBAL_HOOK__,n);const r=Hp(e,t),o=r._context;$p(o.config);const s=l=>(l.appContext=o,l.shapeFlag=6,l),i=function(c,f){return vs(s(c),f)},u=function(c){return c&&qp(c.$)};return r.mount=function(){e.render=ue;const c=vs(s({type:e}),{mpType:Vr.APP,mpInstance:null,parentComponent:null,slots:[],props:null});return r._instance=c.$,bh(r,Hc),c.$app=r,c.$createComponent=i,c.$destroyComponent=u,o.$appInstance=c,c},r.unmount=function(){B("Cannot unmount an app.")},r}function Es(e,t,n,r){$(t)&&Rt(e,t.bind(n),r)}function Wp(e,t,n){const r=e.mpType||n.$mpType;!r||r==="component"||Object.keys(e).forEach(o=>{if(Oi(o,e[o],!1)){const s=e[o];M(s)?s.forEach(i=>Es(o,i,n,t)):Es(o,s,n,t)}})}function zp(e,t,n){Wp(e,t,n)}function Yp(e,t,n){return e[t]=n}function Jp(e){return function(n,r,o){if(!r)throw n;const s=e._instance;if(!s||!s.proxy)throw n;s.proxy.$callHook(jn,n)}}function Gp(e,t){return e?[...new Set([].concat(e,t))]:t}function Xp(e){ki.forEach(t=>{e[t]=Gp})}let zr;const gn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Qp=/^(?:[A-Za-z\d+/]{4})*?(?:[A-Za-z\d+/]{2}(?:==)?|[A-Za-z\d+/]{3}=?)?$/;typeof atob!="function"?zr=function(e){if(e=String(e).replace(/[\t\n\f\r ]+/g,""),!Qp.test(e))throw new Error("Failed to execute 'atob' on 'Window': The string to be decoded is not correctly encoded.");e+="==".slice(2-(e.length&3));for(var t,n="",r,o,s=0;s<e.length;)t=gn.indexOf(e.charAt(s++))<<18|gn.indexOf(e.charAt(s++))<<12|(r=gn.indexOf(e.charAt(s++)))<<6|(o=gn.indexOf(e.charAt(s++))),n+=r===64?String.fromCharCode(t>>16&255):o===64?String.fromCharCode(t>>16&255,t>>8&255):String.fromCharCode(t>>16&255,t>>8&255,t&255);return n}:zr=atob;function Zp(e){return decodeURIComponent(zr(e).split("").map(function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)}).join(""))}function sr(){const e=z.getStorageSync("uni_id_token")||"",t=e.split(".");if(!e||t.length!==3)return{uid:null,role:[],permission:[],tokenExpired:0};let n;try{n=JSON.parse(Zp(t[1]))}catch(r){throw new Error("获取当前用户信息出错，详细错误信息为："+r.message)}return n.tokenExpired=n.exp*1e3,delete n.exp,delete n.iat,n}function ed(e){e.uniIDHasRole=function(t){const{role:n}=sr();return n.indexOf(t)>-1},e.uniIDHasPermission=function(t){const{permission:n}=sr();return this.uniIDHasRole("admin")||n.indexOf(t)>-1},e.uniIDTokenValid=function(){const{tokenExpired:t}=sr();return t>Date.now()}}function td(e){const t=e._context.config;t.errorHandler=$u(e,Jp),Xp(t.optionMergeStrategies);const n=t.globalProperties;ed(n),n.$set=Yp,n.$applyOptions=zp,z.invokeCreateVueAppHook(e)}const Jt=Object.create(null);function nd(e){const{uid:t,__counter:n}=zn(),r=(Jt[t]||(Jt[t]=[])).push(mp(e))-1;return t+","+r+","+n}function zc(e){delete Jt[e]}function Eo(e){if(!e)return;const[t,n]=e.split(",");if(Jt[t])return Jt[t][parseInt(n)]}var rd={install(e){td(e),e.config.globalProperties.pruneComponentPropsCache=zc;const t=e.mount;e.mount=function(r){const o=t.call(e,r),s=od();return s?s(o):typeof createMiniProgramApp<"u"&&createMiniProgramApp(o),o}}};function od(){const e="createApp";if(typeof global<"u")return global[e];if(typeof my<"u")return my[e]}function sd(e,t){const n=zn(),r=n.ctx,o=typeof t<"u"&&(r.$mpPlatform==="mp-weixin"||r.$mpPlatform==="mp-qq")&&(Z(t)||typeof t=="number")?"_"+t:"",s="e"+n.$ei+++o,i=r.$scope;if(!e)return delete i[s],s;const u=i[s];return u?u.value=e:i[s]=id(e,n),s}function id(e,t){const n=r=>{ad(r);let o=[r];r.detail&&r.detail.__args__&&(o=r.detail.__args__);const s=n.value,i=()=>ze(ud(r,s),t,5,o),u=r.target,l=u&&u.dataset?u.dataset.eventsync==="true":!1;if(cd.includes(r.type)&&!l)setTimeout(i);else{const c=i();return r.type==="input"&&(M(c)||Zt(c))?void 0:c}};return n.value=e,n}const cd=["tap","longpress","longtap","transitionend","animationstart","animationiteration","animationend","touchforcechange"];function ad(e){e.type&&e.target&&(e.preventDefault=ue,e.stopPropagation=ue,e.stopImmediatePropagation=ue,U(e,"detail")||(e.detail={}),U(e,"markerId")&&(e.detail=typeof e.detail=="object"?e.detail:{},e.detail.markerId=e.markerId),oe(e.detail)&&U(e.detail,"checked")&&!U(e.detail,"value")&&(e.detail.value=e.detail.checked),oe(e.detail)&&(e.target=Q({},e.target,e.detail)))}function ud(e,t){if(M(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n&&n.call(e),e._stopped=!0},t.map(r=>o=>!o._stopped&&r(o))}else return t}function ld(e,t){let n;if(M(e)||Z(e)){n=new Array(e.length);for(let r=0,o=e.length;r<o;r++)n[r]=t(e[r],r,r)}else if(typeof e=="number"){if(!Number.isInteger(e))return B(`The v-for range expect an integer value but got ${e}.`),[];n=new Array(e);for(let r=0;r<e;r++)n[r]=t(r+1,r,r)}else if(X(e))if(e[Symbol.iterator])n=Array.from(e,(r,o)=>t(r,o,o));else{const r=Object.keys(e);n=new Array(r.length);for(let o=0,s=r.length;o<s;o++){const i=r[o];n[o]=t(e[i],i,o)}}else n=[];return n}function fd(e){return Z(e)?e:hd(ri(e))}function hd(e){let t="";if(!e||Z(e))return t;for(const n in e)t+=`${n.startsWith("--")?n:ct(n)}:${e[n]};`;return t}function pd(e,t,n={}){const{$templateRefs:r}=zn();r.push({i:t,r:e,k:n.k,f:n.f})}const dd=(e,t)=>sd(e,t),gd=(e,t)=>ld(e,t),md=e=>fd(e),yd=(e,...t)=>Q(e,...t),_d=e=>oi(e),wd=e=>Ja(e),bd=e=>nd(e),vd=(e,t,n)=>pd(e,t,n);function Td(e,t=null){return e&&(e.mpType="app"),Vp(e,t).use(rd)}const Sd=Td,Ed=["createSelectorQuery","createIntersectionObserver","selectAllComponents","selectComponent"];function Pd(e,t){return function(r,...o){const s=t.$scope;if(s&&r){const i={__args__:o};s.triggerEvent(r,i)}return e.apply(this,[r,...o])}}function Yc(e,t){const n=e.ctx;n.mpType=t.mpType,n.$mpType=t.mpType,n.$mpPlatform="mp-weixin",n.$scope=t.mpInstance,n.$mp={},n._self={},e.slots={},M(t.slots)&&t.slots.length&&(t.slots.forEach(r=>{e.slots[r]=!0}),e.slots[Tu]&&(e.slots.default=!0)),n.getOpenerEventChannel=function(){return t.mpInstance.getOpenerEventChannel()},n.$hasHook=kd,n.$callHook=Jc,e.emit=Pd(e.emit,n)}function Ad(e,t){Yc(e,t);const n=e.ctx;Ed.forEach(r=>{n[r]=function(...o){const s=n.$scope;if(s&&s[r])return s[r].apply(s,o)}})}function xd(e,t,n){const r=e.ctx;n.forEach(o=>{U(t,o)&&(e[o]=r[o]=t[o])})}function kd(e){const t=this.$[e];return!!(t&&t.length)}function Jc(e,t){e==="mounted"&&(Jc.call(this,"bm"),this.$.isMounted=!0,e="m");const n=this.$[e];return n&&xu(n,t)}const Od=[Ot,en,tn,ro,mi,oo,Mn,Un,so];function Yr(e,t=new Set){if(e){Object.keys(e).forEach(n=>{Oi(n,e[n])&&t.add(n)});{const{extends:n,mixins:r}=e;r&&r.forEach(o=>Yr(o,t)),n&&Yr(n,t)}}return t}function Po(e,t,n){n.indexOf(t)===-1&&!U(e,t)&&(e[t]=function(r){return this.$vm&&this.$vm.$callHook(t,r)})}const Gc=[no];function Ao(e,t,n=Gc){t.forEach(r=>Po(e,r,n))}function Xc(e,t,n=Gc){Yr(t).forEach(r=>Po(e,r,n))}function Cd(e,t){if(!t)return;Object.keys(br).forEach(r=>{t&br[r]&&Po(e,r,[])})}const Id=Ai(()=>{const e=[],t=$(getApp)&&getApp({allowDefault:!0});if(t&&t.$vm&&t.$vm.$){const n=t.$vm.$.appContext.mixins;if(M(n)){const r=Object.keys(br);n.forEach(o=>{r.forEach(s=>{U(o,s)&&!e.includes(s)&&e.push(s)})})}}return e});function Rd(e){Ao(e,Id())}const Ld=[en,tn,jn,fi,hi,pi];function xo(e,t){const n=e.$;Object.defineProperty(n.ctx,"$children",{get(){return getCurrentPages().map(s=>s.$vm)}});const r={globalData:e.$options&&e.$options.globalData||{},$vm:e,onLaunch(s){this.$vm=e;const i=n.ctx;this.$vm&&i.$scope||(Yc(n,{mpType:"app",mpInstance:this,slots:[]}),i.globalData=this.globalData,e.$callHook(li,s))}};Dd(e);const o=e.$.type;Ao(r,Ld),Xc(r,o);{const s=o.methods;s&&Q(r,s)}return t&&t.parse(r),r}function $d(e){return function(n){return App(xo(n,e))}}function Nd(e){return function(n){const r=xo(n,e),o=$(getApp)&&getApp({allowDefault:!0});if(!o)return;n.$.ctx.$scope=o;const s=o.globalData;s&&Object.keys(r.globalData).forEach(i=>{U(s,i)||(s[i]=r.globalData[i])}),Object.keys(r).forEach(i=>{U(o,i)||(o[i]=r[i])}),Qc(r,n)}}function Qc(e,t){if($(e.onLaunch)){const n=wx.getLaunchOptionsSync&&wx.getLaunchOptionsSync();e.onLaunch(n)}$(e.onShow)&&wx.onAppShow&&wx.onAppShow(n=>{t.$callHook("onShow",n)}),$(e.onHide)&&wx.onAppHide&&wx.onAppHide(n=>{t.$callHook("onHide",n)})}function Dd(e){const t=dc(vn(wx.getSystemInfoSync().language)||qe);Object.defineProperty(e,"$locale",{get(){return t.value},set(n){t.value=n}})}function Bd(e,t){if(!e)return;const n=e.split(","),r=n.length;r===1?t._$vueId=n[0]:r===2&&(t._$vueId=n[0],t._$vuePid=n[1])}const jd=["externalClasses"];function Md(e,t){jd.forEach(n=>{U(t,n)&&(e[n]=t[n])})}const Ud=/_(.*)_worklet_factory_/;function Fd(e,t){t&&Object.keys(t).forEach(n=>{const r=n.match(Ud);if(r){const o=r[1];e[n]=t[n],e[o]=t[o]}})}function qd(e,t){M(t)&&t.forEach(n=>{e[n]=function(r){return this.$vm[n](r)}})}function Hd(e,t,n){e.selectAllComponents(t).forEach(o=>{const s=o.properties.uR;n[s]=o.$vm||o})}function Kd(e,t){Object.defineProperty(e,"refs",{get(){const n={};return Hd(t,".r",n),t.selectAllComponents(".r-i-f").forEach(o=>{const s=o.properties.uR;s&&(n[s]||(n[s]=[]),n[s].push(o.$vm||o))}),n}})}function Zc(e,t){const n=e.$children;for(let o=n.length-1;o>=0;o--){const s=n[o];if(s.$scope._$vueId===t)return s}let r;for(let o=n.length-1;o>=0;o--)if(r=Zc(n[o],t),r)return r}const ea=["eO","uR","uRIF","uI","uT","uP","uS"];function Vd(e,t=!1){const n={};return t||(ea.forEach(r=>{n[r]={type:null,value:""}}),n.uS={type:null,value:[],observer:function(r){const o=Object.create(null);r&&r.forEach(s=>{o[s]=!0}),this.setData({$slots:o})}}),e.behaviors&&e.behaviors.includes("wx://form-field")&&(n.name={type:null,value:""},n.value={type:null,value:""}),n}function Wd(e){const t={};return e&&e.virtualHost&&(t.virtualHostStyle={type:null,value:""},t.virtualHostClass={type:null,value:""}),t}function ta(e){e.properties||(e.properties={}),Q(e.properties,Vd(e),Wd(e.options))}const zd=[String,Number,Boolean,Object,Array,null];function Yd(e,t){return M(e)&&e.length===1?e[0]:e}function Ps(e,t){const n=Yd(e);return zd.indexOf(n)!==-1?n:null}function Jd({properties:e},t){M(t)?t.forEach(n=>{e[n]={type:String,value:""}}):oe(t)&&Object.keys(t).forEach(n=>{const r=t[n];if(oe(r)){let o=r.default;$(o)&&(o=o());const s=r.type;r.type=Ps(s),e[n]={type:r.type,value:o}}else e[n]={type:Ps(r)}})}function Gd(e,t){return(t?Xd(e):Eo(e.uP))||{}}function Xd(e){const t={};return oe(e)&&Object.keys(e).forEach(n=>{ea.indexOf(n)===-1&&(t[n]=e[n])}),t}function Qd(e){const t=e.$options;M(t.behaviors)&&t.behaviors.includes("uni://form-field")&&e.$watch("modelValue",()=>{e.$scope&&e.$scope.setData({name:e.name,value:e.modelValue})},{immediate:!0})}function Zd(e){return{}}function na(e){const t=function(){const r=this.properties.uP;r&&(this.$vm?tg(r,this.$vm.$):this.properties.uT==="m"&&eg(r,this))};e.observers||(e.observers={}),e.observers.uP=t}function eg(e,t){const n=t.properties,r=Eo(e)||{};ra(n,r,!1)&&t.setData(r)}function tg(e,t){const n=W(t.props),r=Eo(e)||{};ra(n,r)&&(np(t,r,n,!1),mh(t.update)&&yh(t.update),t.update())}function ra(e,t,n=!0){const r=Object.keys(t);if(n&&r.length!==Object.keys(e).length)return!0;for(let o=0;o<r.length;o++){const s=r[o];if(t[s]!==e[s])return!0}return!1}function ng(e){const t=e.behaviors;let n=e.props;n||(e.props=n=[]);const r=[];return M(t)&&t.forEach(o=>{r.push(o.replace("uni://","wx://")),o==="uni://form-field"&&(M(n)?(n.push("name"),n.push("modelValue")):(n.name={type:String,default:""},n.modelValue={type:[String,Number,Boolean,Array,Object,Date],default:""}))}),r}function rg(e,t){e.data=Zd(),e.behaviors=ng(t)}function oa(e,{parse:t,mocks:n,isPage:r,initRelation:o,handleLink:s,initLifetimes:i}){e=e.default||e;const u={multipleSlots:!0,addGlobalClass:!0,pureDataPattern:/^uP$/};M(e.mixins)&&e.mixins.forEach(c=>{X(c.options)&&Q(u,c.options)}),e.options&&Q(u,e.options);const l={options:u,lifetimes:i({mocks:n,isPage:r,initRelation:o,vueOptions:e}),pageLifetimes:{show(){Pc(this.$vm.$),this.$vm&&this.$vm.$callHook("onPageShow")},hide(){this.$vm&&this.$vm.$callHook("onPageHide")},resize(c){this.$vm&&this.$vm.$callHook("onPageResize",c)}},methods:{__l:s}};return rg(l,e),ta(l),na(l),Md(l,e),qd(l.methods,e.wxsCallMethods),Fd(l.methods,e.methods),t&&t(l,{handleLink:s}),l}function og(e){return function(n){return Component(oa(n,e))}}let ir,cr;function sa(){return getApp().$vm}function sg(e,t){ir||(ir=sa().$createComponent);const n=ir(e,t);return Yn(n.$)||n}function ig(e){return cr||(cr=sa().$destroyComponent),cr(e)}function cg(e,t){const{parse:n,mocks:r,isPage:o,initRelation:s,handleLink:i,initLifetimes:u}=t,l=oa(e,{mocks:r,isPage:o,initRelation:s,handleLink:i,initLifetimes:u});Jd(l,(e.default||e).props);const c=l.methods;return c.onLoad=function(f){return this.options=f,this.$page={fullPath:Au(this.route+Ou(f))},this.$vm&&this.$vm.$callHook(Ot,f)},Ao(c,Od),Xc(c,e),Cd(c,e.__runtimeHooks),Rd(c),n&&n(l,{handleLink:i}),l}function ag(e){return function(n){return Component(cg(n,e))}}function ug(e){return function(n){Qc(xo(n,e),n)}}const lg=Page,fg=Component;function As(e){const t=e.triggerEvent,n=function(r,...o){return t.apply(e,[Eu(r),...o])};try{e.triggerEvent=n}catch{e._triggerEvent=n}}function ia(e,t,n){const r=t[e];r?t[e]=function(...o){return As(this),r.apply(this,o)}:t[e]=function(){As(this)}}Page=function(e){return ia(Ot,e),lg(e)};Component=function(e){return ia("created",e),e.properties&&e.properties.uP||(ta(e),na(e)),fg(e)};function hg({mocks:e,isPage:t,initRelation:n,vueOptions:r}){return{attached(){let o=this.properties;Bd(o.uI,this);const s={vuePid:this._$vuePid};n(this,s);const i=this,u=t(i);let l=o;this.$vm=sg({type:r,props:Gd(l,u)},{mpType:u?"page":"component",mpInstance:i,slots:o.uS||{},parentComponent:s.parent&&s.parent.$,onBeforeSetup(c,f){Kd(c,i),xd(c,i,e),Ad(c,f)}}),u||Qd(this.$vm)},ready(){this.$vm&&(this.$vm.$callHook("mounted"),this.$vm.$callHook(no))},detached(){this.$vm&&(zc(this.$vm.$.uid),ig(this.$vm))}}}const pg=["__route__","__wxExparserNodeId__","__wxWebviewId__"];function dg(e){return!!e.route}function gg(e,t){e.triggerEvent("__l",t)}function mg(e){const t=e.detail||e.value,n=t.vuePid;let r;n&&(r=Zc(this.$vm,n)),r||(r=this.$vm),t.parent=r}var ca=Object.freeze({__proto__:null,handleLink:mg,initLifetimes:hg,initRelation:gg,isPage:dg,mocks:pg});const yg=$d(),_g=ag(ca),wg=og(ca),bg=ug(),vg=Nd();wx.createApp=global.createApp=yg,wx.createPage=_g,wx.createComponent=wg,wx.createPluginApp=global.createPluginApp=bg,wx.createSubpackageApp=global.createSubpackageApp=vg;const Lt=e=>(t,n=zn())=>{!Yt&&Rt(e,t,n)},Tg=Lt(en),Sg=Lt(tn),Eg=Lt(jn),Pg=Lt(Ot),Ag=Lt(Mn),xg=Lt(Un);function kg(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Jr={},Og={get exports(){return Jr},set exports(e){Jr=e}};(function(e,t){(function(n,r){e.exports=r()})(window,function(){return function(n){var r={};function o(s){if(r[s])return r[s].exports;var i=r[s]={i:s,l:!1,exports:{}};return n[s].call(i.exports,i,i.exports,o),i.l=!0,i.exports}return o.m=n,o.c=r,o.d=function(s,i,u){o.o(s,i)||Object.defineProperty(s,i,{enumerable:!0,get:u})},o.r=function(s){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},o.t=function(s,i){if(1&i&&(s=o(s)),8&i||4&i&&typeof s=="object"&&s&&s.__esModule)return s;var u=Object.create(null);if(o.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:s}),2&i&&typeof s!="string")for(var l in s)o.d(u,l,function(c){return s[c]}.bind(null,l));return u},o.n=function(s){var i=s&&s.__esModule?function(){return s.default}:function(){return s};return o.d(i,"a",i),i},o.o=function(s,i){return Object.prototype.hasOwnProperty.call(s,i)},o.p="",o(o.s=18)}([function(n,r){n.exports=function(){return function(){}}},function(n,r,o){function s(i){if(i)return function(u){for(var l in s.prototype)u[l]=s.prototype[l];return u}(i)}n.exports=s,s.prototype.on=s.prototype.addEventListener=function(i,u){return this._callbacks=this._callbacks||{},(this._callbacks["$"+i]=this._callbacks["$"+i]||[]).push(u),this},s.prototype.once=function(i,u){function l(){this.off(i,l),u.apply(this,arguments)}return l.fn=u,this.on(i,l),this},s.prototype.off=s.prototype.removeListener=s.prototype.removeAllListeners=s.prototype.removeEventListener=function(i,u){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var l,c=this._callbacks["$"+i];if(!c)return this;if(arguments.length==1)return delete this._callbacks["$"+i],this;for(var f=0;f<c.length;f++)if((l=c[f])===u||l.fn===u){c.splice(f,1);break}return c.length===0&&delete this._callbacks["$"+i],this},s.prototype.emit=function(i){this._callbacks=this._callbacks||{};for(var u=new Array(arguments.length-1),l=this._callbacks["$"+i],c=1;c<arguments.length;c++)u[c-1]=arguments[c];if(l){c=0;for(var f=(l=l.slice(0)).length;c<f;++c)l[c].apply(this,u)}return this},s.prototype.listeners=function(i){return this._callbacks=this._callbacks||{},this._callbacks["$"+i]||[]},s.prototype.hasListeners=function(i){return!!this.listeners(i).length}},function(n,r,o){const s=o(25),i=o(26),u=String.fromCharCode(30);n.exports={protocol:4,encodePacket:s,encodePayload:(l,c)=>{const f=l.length,a=new Array(f);let d=0;l.forEach((h,m)=>{s(h,!1,_=>{a[m]=_,++d===f&&c(a.join(u))})})},decodePacket:i,decodePayload:(l,c)=>{const f=l.split(u),a=[];for(let d=0;d<f.length;d++){const h=i(f[d],c);if(a.push(h),h.type==="error")break}return a}}},function(n,r){n.exports=typeof self<"u"?self:typeof window<"u"?window:Function("return this")()},function(n,r,o){const s=o(2),i=o(1),u=o(0)("engine.io-client:transport");n.exports=class extends i{constructor(l){super(),this.opts=l,this.query=l.query,this.readyState="",this.socket=l.socket}onError(l,c){const f=new Error(l);return f.type="TransportError",f.description=c,this.emit("error",f),this}open(){return this.readyState!=="closed"&&this.readyState!==""||(this.readyState="opening",this.doOpen()),this}close(){return this.readyState!=="opening"&&this.readyState!=="open"||(this.doClose(),this.onClose()),this}send(l){this.readyState==="open"?this.write(l):u("transport is not open, discarding packets")}onOpen(){this.readyState="open",this.writable=!0,this.emit("open")}onData(l){const c=s.decodePacket(l,this.socket.binaryType);this.onPacket(c)}onPacket(l){this.emit("packet",l)}onClose(){this.readyState="closed",this.emit("close")}}},function(n,r){r.encode=function(o){var s="";for(var i in o)o.hasOwnProperty(i)&&(s.length&&(s+="&"),s+=encodeURIComponent(i)+"="+encodeURIComponent(o[i]));return s},r.decode=function(o){for(var s={},i=o.split("&"),u=0,l=i.length;u<l;u++){var c=i[u].split("=");s[decodeURIComponent(c[0])]=decodeURIComponent(c[1])}return s}},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.Decoder=r.Encoder=r.PacketType=r.protocol=void 0;const s=o(1),i=o(38),u=o(16),l=o(0)("socket.io-parser");var c;r.protocol=5,function(d){d[d.CONNECT=0]="CONNECT",d[d.DISCONNECT=1]="DISCONNECT",d[d.EVENT=2]="EVENT",d[d.ACK=3]="ACK",d[d.CONNECT_ERROR=4]="CONNECT_ERROR",d[d.BINARY_EVENT=5]="BINARY_EVENT",d[d.BINARY_ACK=6]="BINARY_ACK"}(c=r.PacketType||(r.PacketType={})),r.Encoder=class{encode(d){return l("encoding packet %j",d),d.type!==c.EVENT&&d.type!==c.ACK||!u.hasBinary(d)?[this.encodeAsString(d)]:(d.type=d.type===c.EVENT?c.BINARY_EVENT:c.BINARY_ACK,this.encodeAsBinary(d))}encodeAsString(d){let h=""+d.type;return d.type!==c.BINARY_EVENT&&d.type!==c.BINARY_ACK||(h+=d.attachments+"-"),d.nsp&&d.nsp!=="/"&&(h+=d.nsp+","),d.id!=null&&(h+=d.id),d.data!=null&&(h+=JSON.stringify(d.data)),l("encoded %j as %s",d,h),h}encodeAsBinary(d){const h=i.deconstructPacket(d),m=this.encodeAsString(h.packet),_=h.buffers;return _.unshift(m),_}};class f extends s{constructor(){super()}add(h){let m;if(typeof h=="string")m=this.decodeString(h),m.type===c.BINARY_EVENT||m.type===c.BINARY_ACK?(this.reconstructor=new a(m),m.attachments===0&&super.emit("decoded",m)):super.emit("decoded",m);else{if(!u.isBinary(h)&&!h.base64)throw new Error("Unknown type: "+h);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");m=this.reconstructor.takeBinaryData(h),m&&(this.reconstructor=null,super.emit("decoded",m))}}decodeString(h){let m=0;const _={type:Number(h.charAt(0))};if(c[_.type]===void 0)throw new Error("unknown packet type "+_.type);if(_.type===c.BINARY_EVENT||_.type===c.BINARY_ACK){const v=m+1;for(;h.charAt(++m)!=="-"&&m!=h.length;);const P=h.substring(v,m);if(P!=Number(P)||h.charAt(m)!=="-")throw new Error("Illegal attachments");_.attachments=Number(P)}if(h.charAt(m+1)==="/"){const v=m+1;for(;++m&&!(h.charAt(m)===","||m===h.length););_.nsp=h.substring(v,m)}else _.nsp="/";const w=h.charAt(m+1);if(w!==""&&Number(w)==w){const v=m+1;for(;++m;){const P=h.charAt(m);if(P==null||Number(P)!=P){--m;break}if(m===h.length)break}_.id=Number(h.substring(v,m+1))}if(h.charAt(++m)){const v=function(P){try{return JSON.parse(P)}catch{return!1}}(h.substr(m));if(!f.isPayloadValid(_.type,v))throw new Error("invalid payload");_.data=v}return l("decoded %s as %j",h,_),_}static isPayloadValid(h,m){switch(h){case c.CONNECT:return typeof m=="object";case c.DISCONNECT:return m===void 0;case c.CONNECT_ERROR:return typeof m=="string"||typeof m=="object";case c.EVENT:case c.BINARY_EVENT:return Array.isArray(m)&&typeof m[0]=="string";case c.ACK:case c.BINARY_ACK:return Array.isArray(m)}}destroy(){this.reconstructor&&this.reconstructor.finishedReconstruction()}}r.Decoder=f;class a{constructor(h){this.packet=h,this.buffers=[],this.reconPack=h}takeBinaryData(h){if(this.buffers.push(h),this.buffers.length===this.reconPack.attachments){const m=i.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),m}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}},function(n,r){var o=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,s=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];n.exports=function(i){var u=i,l=i.indexOf("["),c=i.indexOf("]");l!=-1&&c!=-1&&(i=i.substring(0,l)+i.substring(l,c).replace(/:/g,";")+i.substring(c,i.length));for(var f,a,d=o.exec(i||""),h={},m=14;m--;)h[s[m]]=d[m]||"";return l!=-1&&c!=-1&&(h.source=u,h.host=h.host.substring(1,h.host.length-1).replace(/;/g,":"),h.authority=h.authority.replace("[","").replace("]","").replace(/;/g,":"),h.ipv6uri=!0),h.pathNames=function(_,w){var v=w.replace(/\/{2,9}/g,"/").split("/");return w.substr(0,1)!="/"&&w.length!==0||v.splice(0,1),w.substr(w.length-1,1)=="/"&&v.splice(v.length-1,1),v}(0,h.path),h.queryKey=(f=h.query,a={},f.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(_,w,v){w&&(a[w]=v)}),a),h}},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.Manager=void 0;const s=o(21),i=o(15),u=o(1),l=o(6),c=o(17),f=o(39),a=o(0)("socket.io-client:manager");r.Manager=class extends u{constructor(d,h){super(),this.nsps={},this.subs=[],d&&typeof d=="object"&&(h=d,d=void 0),(h=h||{}).path=h.path||"/socket.io",this.opts=h,this.reconnection(h.reconnection!==!1),this.reconnectionAttempts(h.reconnectionAttempts||1/0),this.reconnectionDelay(h.reconnectionDelay||1e3),this.reconnectionDelayMax(h.reconnectionDelayMax||5e3),this.randomizationFactor(h.randomizationFactor||.5),this.backoff=new f({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(h.timeout==null?2e4:h.timeout),this._readyState="closed",this.uri=d;const m=h.parser||l;this.encoder=new m.Encoder,this.decoder=new m.Decoder,this._autoConnect=h.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(d){return arguments.length?(this._reconnection=!!d,this):this._reconnection}reconnectionAttempts(d){return d===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=d,this)}reconnectionDelay(d){var h;return d===void 0?this._reconnectionDelay:(this._reconnectionDelay=d,(h=this.backoff)===null||h===void 0||h.setMin(d),this)}randomizationFactor(d){var h;return d===void 0?this._randomizationFactor:(this._randomizationFactor=d,(h=this.backoff)===null||h===void 0||h.setJitter(d),this)}reconnectionDelayMax(d){var h;return d===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=d,(h=this.backoff)===null||h===void 0||h.setMax(d),this)}timeout(d){return arguments.length?(this._timeout=d,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(d){if(a("readyState %s",this._readyState),~this._readyState.indexOf("open"))return this;a("opening %s",this.uri),this.engine=s(this.uri,this.opts);const h=this.engine,m=this;this._readyState="opening",this.skipReconnect=!1;const _=c.on(h,"open",function(){m.onopen(),d&&d()}),w=c.on(h,"error",v=>{a("error"),m.cleanup(),m._readyState="closed",super.emit("error",v),d?d(v):m.maybeReconnectOnOpen()});if(this._timeout!==!1){const v=this._timeout;a("connect attempt will timeout after %d",v),v===0&&_();const P=setTimeout(()=>{a("connect attempt timed out after %d",v),_(),h.close(),h.emit("error",new Error("timeout"))},v);this.subs.push(function(){clearTimeout(P)})}return this.subs.push(_),this.subs.push(w),this}connect(d){return this.open(d)}onopen(){a("open"),this.cleanup(),this._readyState="open",super.emit("open");const d=this.engine;this.subs.push(c.on(d,"ping",this.onping.bind(this)),c.on(d,"data",this.ondata.bind(this)),c.on(d,"error",this.onerror.bind(this)),c.on(d,"close",this.onclose.bind(this)),c.on(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){super.emit("ping")}ondata(d){this.decoder.add(d)}ondecoded(d){super.emit("packet",d)}onerror(d){a("error",d),super.emit("error",d)}socket(d,h){let m=this.nsps[d];return m||(m=new i.Socket(this,d,h),this.nsps[d]=m),m}_destroy(d){const h=Object.keys(this.nsps);for(const m of h)if(this.nsps[m].active)return void a("socket %s is still active, skipping close",m);this._close()}_packet(d){a("writing packet %j",d),d.query&&d.type===0&&(d.nsp+="?"+d.query);const h=this.encoder.encode(d);for(let m=0;m<h.length;m++)this.engine.write(h[m],d.options)}cleanup(){a("cleanup"),this.subs.forEach(d=>d()),this.subs.length=0,this.decoder.destroy()}_close(){a("disconnect"),this.skipReconnect=!0,this._reconnecting=!1,this._readyState==="opening"&&this.cleanup(),this.backoff.reset(),this._readyState="closed",this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(d){a("onclose"),this.cleanup(),this.backoff.reset(),this._readyState="closed",super.emit("close",d),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const d=this;if(this.backoff.attempts>=this._reconnectionAttempts)a("reconnect failed"),this.backoff.reset(),super.emit("reconnect_failed"),this._reconnecting=!1;else{const h=this.backoff.duration();a("will wait %dms before reconnect attempt",h),this._reconnecting=!0;const m=setTimeout(()=>{d.skipReconnect||(a("attempting reconnect"),super.emit("reconnect_attempt",d.backoff.attempts),d.skipReconnect||d.open(_=>{_?(a("reconnect attempt error"),d._reconnecting=!1,d.reconnect(),super.emit("reconnect_error",_)):(a("reconnect success"),d.onreconnect())}))},h);this.subs.push(function(){clearTimeout(m)})}}onreconnect(){const d=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),super.emit("reconnect",d)}}},function(n,r,o){const s=o(10),i=o(24),u=o(28),l=o(29);r.polling=function(c){let f,a=!1,d=!1;const h=c.jsonp!==!1;if(typeof location<"u"){const m=location.protocol==="https:";let _=location.port;_||(_=m?443:80),a=c.hostname!==location.hostname||_!==c.port,d=c.secure!==m}if(c.xdomain=a,c.xscheme=d,f=new s(c),"open"in f&&!c.forceJSONP)return new i(c);if(!h)throw new Error("JSONP disabled");return new u(c)},r.websocket=l},function(n,r,o){const s=o(23),i=o(3);n.exports=function(u){const l=u.xdomain,c=u.xscheme,f=u.enablesXDR;try{if(typeof XMLHttpRequest<"u"&&(!l||s))return new XMLHttpRequest}catch{}try{if(typeof XDomainRequest<"u"&&!c&&f)return new XDomainRequest}catch{}if(!l)try{return new i[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}},function(n,r,o){const s=o(4),i=o(5),u=o(2),l=o(13),c=o(0)("engine.io-client:polling");n.exports=class extends s{get name(){return"polling"}doOpen(){this.poll()}pause(f){const a=this;function d(){c("paused"),a.readyState="paused",f()}if(this.readyState="pausing",this.polling||!this.writable){let h=0;this.polling&&(c("we are currently polling - waiting to pause"),h++,this.once("pollComplete",function(){c("pre-pause polling complete"),--h||d()})),this.writable||(c("we are currently writing - waiting to pause"),h++,this.once("drain",function(){c("pre-pause writing complete"),--h||d()}))}else d()}poll(){c("polling"),this.polling=!0,this.doPoll(),this.emit("poll")}onData(f){const a=this;c("polling got data %s",f),u.decodePayload(f,this.socket.binaryType).forEach(function(d,h,m){if(a.readyState==="opening"&&d.type==="open"&&a.onOpen(),d.type==="close")return a.onClose(),!1;a.onPacket(d)}),this.readyState!=="closed"&&(this.polling=!1,this.emit("pollComplete"),this.readyState==="open"?this.poll():c('ignoring poll - transport state "%s"',this.readyState))}doClose(){const f=this;function a(){c("writing close packet"),f.write([{type:"close"}])}this.readyState==="open"?(c("transport open - closing"),a()):(c("transport not open - deferring close"),this.once("open",a))}write(f){this.writable=!1,u.encodePayload(f,a=>{this.doWrite(a,()=>{this.writable=!0,this.emit("drain")})})}uri(){let f=this.query||{};const a=this.opts.secure?"https":"http";let d="";return this.opts.timestampRequests!==!1&&(f[this.opts.timestampParam]=l()),this.supportsBinary||f.sid||(f.b64=1),f=i.encode(f),this.opts.port&&(a==="https"&&Number(this.opts.port)!==443||a==="http"&&Number(this.opts.port)!==80)&&(d=":"+this.opts.port),f.length&&(f="?"+f),a+"://"+(this.opts.hostname.indexOf(":")!==-1?"["+this.opts.hostname+"]":this.opts.hostname)+d+this.opts.path+f}}},function(n,r){const o=Object.create(null);o.open="0",o.close="1",o.ping="2",o.pong="3",o.message="4",o.upgrade="5",o.noop="6";const s=Object.create(null);Object.keys(o).forEach(i=>{s[o[i]]=i}),n.exports={PACKET_TYPES:o,PACKET_TYPES_REVERSE:s,ERROR_PACKET:{type:"error",data:"parser error"}}},function(n,r,o){var s,i="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),u={},l=0,c=0;function f(d){var h="";do h=i[d%64]+h,d=Math.floor(d/64);while(d>0);return h}function a(){var d=f(+new Date);return d!==s?(l=0,s=d):d+"."+f(l++)}for(;c<64;c++)u[i[c]]=c;a.encode=f,a.decode=function(d){var h=0;for(c=0;c<d.length;c++)h=64*h+u[d.charAt(c)];return h},n.exports=a},function(n,r){n.exports.pick=(o,...s)=>s.reduce((i,u)=>(o.hasOwnProperty(u)&&(i[u]=o[u]),i),{})},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.Socket=void 0;const s=o(6),i=o(1),u=o(17),l=o(0)("socket.io-client:socket"),c=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});r.Socket=class extends i{constructor(f,a,d){super(),this.receiveBuffer=[],this.sendBuffer=[],this.ids=0,this.acks={},this.flags={},this.io=f,this.nsp=a,this.ids=0,this.acks={},this.receiveBuffer=[],this.sendBuffer=[],this.connected=!1,this.disconnected=!0,this.flags={},d&&d.auth&&(this.auth=d.auth),this.io._autoConnect&&this.open()}subEvents(){if(this.subs)return;const f=this.io;this.subs=[u.on(f,"open",this.onopen.bind(this)),u.on(f,"packet",this.onpacket.bind(this)),u.on(f,"error",this.onerror.bind(this)),u.on(f,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen()),this}open(){return this.connect()}send(...f){return f.unshift("message"),this.emit.apply(this,f),this}emit(f,...a){if(c.hasOwnProperty(f))throw new Error('"'+f+'" is a reserved event name');a.unshift(f);const d={type:s.PacketType.EVENT,data:a,options:{}};d.options.compress=this.flags.compress!==!1,typeof a[a.length-1]=="function"&&(l("emitting packet with ack id %d",this.ids),this.acks[this.ids]=a.pop(),d.id=this.ids++);const h=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!h||!this.connected)?l("discard packet as the transport is not currently writable"):this.connected?this.packet(d):this.sendBuffer.push(d),this.flags={},this}packet(f){f.nsp=this.nsp,this.io._packet(f)}onopen(){l("transport is open - connecting"),typeof this.auth=="function"?this.auth(f=>{this.packet({type:s.PacketType.CONNECT,data:f})}):this.packet({type:s.PacketType.CONNECT,data:this.auth})}onerror(f){this.connected||super.emit("connect_error",f)}onclose(f){l("close (%s)",f),this.connected=!1,this.disconnected=!0,delete this.id,super.emit("disconnect",f)}onpacket(f){if(f.nsp===this.nsp)switch(f.type){case s.PacketType.CONNECT:if(f.data&&f.data.sid){const d=f.data.sid;this.onconnect(d)}else super.emit("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case s.PacketType.EVENT:case s.PacketType.BINARY_EVENT:this.onevent(f);break;case s.PacketType.ACK:case s.PacketType.BINARY_ACK:this.onack(f);break;case s.PacketType.DISCONNECT:this.ondisconnect();break;case s.PacketType.CONNECT_ERROR:const a=new Error(f.data.message);a.data=f.data.data,super.emit("connect_error",a)}}onevent(f){const a=f.data||[];l("emitting event %j",a),f.id!=null&&(l("attaching ack callback to event"),a.push(this.ack(f.id))),this.connected?this.emitEvent(a):this.receiveBuffer.push(Object.freeze(a))}emitEvent(f){if(this._anyListeners&&this._anyListeners.length){const a=this._anyListeners.slice();for(const d of a)d.apply(this,f)}super.emit.apply(this,f)}ack(f){const a=this;let d=!1;return function(...h){d||(d=!0,l("sending ack %j",h),a.packet({type:s.PacketType.ACK,id:f,data:h}))}}onack(f){const a=this.acks[f.id];typeof a=="function"?(l("calling ack %s with %j",f.id,f.data),a.apply(this,f.data),delete this.acks[f.id]):l("bad ack %s",f.id)}onconnect(f){l("socket connected with id %s",f),this.id=f,this.connected=!0,this.disconnected=!1,super.emit("connect"),this.emitBuffered()}emitBuffered(){this.receiveBuffer.forEach(f=>this.emitEvent(f)),this.receiveBuffer=[],this.sendBuffer.forEach(f=>this.packet(f)),this.sendBuffer=[]}ondisconnect(){l("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(f=>f()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&(l("performing disconnect (%s)",this.nsp),this.packet({type:s.PacketType.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(f){return this.flags.compress=f,this}get volatile(){return this.flags.volatile=!0,this}onAny(f){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(f),this}prependAny(f){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(f),this}offAny(f){if(!this._anyListeners)return this;if(f){const a=this._anyListeners;for(let d=0;d<a.length;d++)if(f===a[d])return a.splice(d,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}}},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.hasBinary=r.isBinary=void 0;const s=typeof ArrayBuffer=="function",i=Object.prototype.toString,u=typeof Blob=="function"||typeof Blob<"u"&&i.call(Blob)==="[object BlobConstructor]",l=typeof File=="function"||typeof File<"u"&&i.call(File)==="[object FileConstructor]";function c(f){return s&&(f instanceof ArrayBuffer||(a=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(a):a.buffer instanceof ArrayBuffer)(f))||u&&f instanceof Blob||l&&f instanceof File}r.isBinary=c,r.hasBinary=function f(a,d){if(!a||typeof a!="object")return!1;if(Array.isArray(a)){for(let h=0,m=a.length;h<m;h++)if(f(a[h]))return!0;return!1}if(c(a))return!0;if(a.toJSON&&typeof a.toJSON=="function"&&arguments.length===1)return f(a.toJSON(),!0);for(const h in a)if(Object.prototype.hasOwnProperty.call(a,h)&&f(a[h]))return!0;return!1}},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.on=void 0,r.on=function(s,i,u){return s.on(i,u),function(){s.off(i,u)}}},function(n,r,o){n.exports=o(19)},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.Socket=r.io=r.Manager=r.protocol=void 0;const s=o(20),i=o(8),u=o(15);Object.defineProperty(r,"Socket",{enumerable:!0,get:function(){return u.Socket}});const l=o(0)("socket.io-client");n.exports=r=f;const c=r.managers={};function f(h,m){typeof h=="object"&&(m=h,h=void 0),m=m||{};const _=s.url(h),w=_.source,v=_.id,P=_.path,b=c[v]&&P in c[v].nsps;let T;return m.forceNew||m["force new connection"]||m.multiplex===!1||b?(l("ignoring socket cache for %s",w),T=new i.Manager(w,m)):(c[v]||(l("new io instance for %s",w),c[v]=new i.Manager(w,m)),T=c[v]),_.query&&!m.query&&(m.query=_.query),T.socket(_.path,m)}r.io=f;var a=o(6);Object.defineProperty(r,"protocol",{enumerable:!0,get:function(){return a.protocol}}),r.connect=f;var d=o(8);Object.defineProperty(r,"Manager",{enumerable:!0,get:function(){return d.Manager}})},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.url=void 0;const s=o(7),i=o(0)("socket.io-client:url");r.url=function(u,l){let c=u;l=l||typeof location<"u"&&location,u==null&&(u=l.protocol+"//"+l.host),typeof u=="string"&&(u.charAt(0)==="/"&&(u=u.charAt(1)==="/"?l.protocol+u:l.host+u),/^(https?|wss?):\/\//.test(u)||(i("protocol-less url %s",u),u=l!==void 0?l.protocol+"//"+u:"https://"+u),i("parse %s",u),c=s(u)),c.port||(/^(http|ws)$/.test(c.protocol)?c.port="80":/^(http|ws)s$/.test(c.protocol)&&(c.port="443")),c.path=c.path||"/";const f=c.host.indexOf(":")!==-1?"["+c.host+"]":c.host;return c.id=c.protocol+"://"+f+":"+c.port,c.href=c.protocol+"://"+f+(l&&l.port===c.port?"":":"+c.port),c}},function(n,r,o){const s=o(22);n.exports=(i,u)=>new s(i,u),n.exports.Socket=s,n.exports.protocol=s.protocol,n.exports.Transport=o(4),n.exports.transports=o(9),n.exports.parser=o(2)},function(n,r,o){const s=o(9),i=o(1),u=o(0)("engine.io-client:socket"),l=o(2),c=o(7),f=o(5);class a extends i{constructor(h,m={}){super(),h&&typeof h=="object"&&(m=h,h=null),h?(h=c(h),m.hostname=h.host,m.secure=h.protocol==="https"||h.protocol==="wss",m.port=h.port,h.query&&(m.query=h.query)):m.host&&(m.hostname=c(m.host).host),this.secure=m.secure!=null?m.secure:typeof location<"u"&&location.protocol==="https:",m.hostname&&!m.port&&(m.port=this.secure?"443":"80"),this.hostname=m.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=m.port||(typeof location<"u"&&location.port?location.port:this.secure?443:80),this.transports=m.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,jsonp:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{}},m),this.opts.path=this.opts.path.replace(/\/$/,"")+"/",typeof this.opts.query=="string"&&(this.opts.query=f.decode(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(addEventListener("beforeunload",()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},!1),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close")},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(h){u('creating transport "%s"',h);const m=function(w){const v={};for(let P in w)w.hasOwnProperty(P)&&(v[P]=w[P]);return v}(this.opts.query);m.EIO=l.protocol,m.transport=h,this.id&&(m.sid=this.id);const _=Object.assign({},this.opts.transportOptions[h],this.opts,{query:m,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return u("options: %j",_),new s[h](_)}open(){let h;if(this.opts.rememberUpgrade&&a.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)h="websocket";else{if(this.transports.length===0){const m=this;return void setTimeout(function(){m.emit("error","No transports available")},0)}h=this.transports[0]}this.readyState="opening";try{h=this.createTransport(h)}catch(m){return u("error while creating transport: %s",m),this.transports.shift(),void this.open()}h.open(),this.setTransport(h)}setTransport(h){u("setting transport %s",h.name);const m=this;this.transport&&(u("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=h,h.on("drain",function(){m.onDrain()}).on("packet",function(_){m.onPacket(_)}).on("error",function(_){m.onError(_)}).on("close",function(){m.onClose("transport close")})}probe(h){u('probing transport "%s"',h);let m=this.createTransport(h,{probe:1}),_=!1;const w=this;function v(){if(w.onlyBinaryUpgrades){const L=!this.supportsBinary&&w.transport.supportsBinary;_=_||L}_||(u('probe transport "%s" opened',h),m.send([{type:"ping",data:"probe"}]),m.once("packet",function(L){if(!_)if(L.type==="pong"&&L.data==="probe"){if(u('probe transport "%s" pong',h),w.upgrading=!0,w.emit("upgrading",m),!m)return;a.priorWebsocketSuccess=m.name==="websocket",u('pausing current transport "%s"',w.transport.name),w.transport.pause(function(){_||w.readyState!=="closed"&&(u("changing transport and sending upgrade packet"),N(),w.setTransport(m),m.send([{type:"upgrade"}]),w.emit("upgrade",m),m=null,w.upgrading=!1,w.flush())})}else{u('probe transport "%s" failed',h);const q=new Error("probe error");q.transport=m.name,w.emit("upgradeError",q)}}))}function P(){_||(_=!0,N(),m.close(),m=null)}function b(L){const q=new Error("probe error: "+L);q.transport=m.name,P(),u('probe transport "%s" failed because of error: %s',h,L),w.emit("upgradeError",q)}function T(){b("transport closed")}function x(){b("socket closed")}function k(L){m&&L.name!==m.name&&(u('"%s" works - aborting "%s"',L.name,m.name),P())}function N(){m.removeListener("open",v),m.removeListener("error",b),m.removeListener("close",T),w.removeListener("close",x),w.removeListener("upgrading",k)}a.priorWebsocketSuccess=!1,m.once("open",v),m.once("error",b),m.once("close",T),this.once("close",x),this.once("upgrading",k),m.open()}onOpen(){if(u("socket open"),this.readyState="open",a.priorWebsocketSuccess=this.transport.name==="websocket",this.emit("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade&&this.transport.pause){u("starting upgrade probes");let h=0;const m=this.upgrades.length;for(;h<m;h++)this.probe(this.upgrades[h])}}onPacket(h){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(u('socket receive: type "%s", data "%s"',h.type,h.data),this.emit("packet",h),this.emit("heartbeat"),h.type){case"open":this.onHandshake(JSON.parse(h.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emit("pong");break;case"error":const m=new Error("server error");m.code=h.data,this.onError(m);break;case"message":this.emit("data",h.data),this.emit("message",h.data)}else u('packet received with socket readyState "%s"',this.readyState)}onHandshake(h){this.emit("handshake",h),this.id=h.sid,this.transport.query.sid=h.sid,this.upgrades=this.filterUpgrades(h.upgrades),this.pingInterval=h.pingInterval,this.pingTimeout=h.pingTimeout,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){clearTimeout(this.pingTimeoutTimer),this.pingTimeoutTimer=setTimeout(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emit("drain"):this.flush()}flush(){this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length&&(u("flushing %d packets in socket",this.writeBuffer.length),this.transport.send(this.writeBuffer),this.prevBufferLen=this.writeBuffer.length,this.emit("flush"))}write(h,m,_){return this.sendPacket("message",h,m,_),this}send(h,m,_){return this.sendPacket("message",h,m,_),this}sendPacket(h,m,_,w){if(typeof m=="function"&&(w=m,m=void 0),typeof _=="function"&&(w=_,_=null),this.readyState==="closing"||this.readyState==="closed")return;(_=_||{}).compress=_.compress!==!1;const v={type:h,data:m,options:_};this.emit("packetCreate",v),this.writeBuffer.push(v),w&&this.once("flush",w),this.flush()}close(){const h=this;function m(){h.onClose("forced close"),u("socket closing - telling transport to close"),h.transport.close()}function _(){h.removeListener("upgrade",_),h.removeListener("upgradeError",_),m()}function w(){h.once("upgrade",_),h.once("upgradeError",_)}return this.readyState!=="opening"&&this.readyState!=="open"||(this.readyState="closing",this.writeBuffer.length?this.once("drain",function(){this.upgrading?w():m()}):this.upgrading?w():m()),this}onError(h){u("socket error %j",h),a.priorWebsocketSuccess=!1,this.emit("error",h),this.onClose("transport error",h)}onClose(h,m){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){u('socket close with reason: "%s"',h);const _=this;clearTimeout(this.pingIntervalTimer),clearTimeout(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&removeEventListener("offline",this.offlineEventListener,!1),this.readyState="closed",this.id=null,this.emit("close",h,m),_.writeBuffer=[],_.prevBufferLen=0}}filterUpgrades(h){const m=[];let _=0;const w=h.length;for(;_<w;_++)~this.transports.indexOf(h[_])&&m.push(h[_]);return m}}a.priorWebsocketSuccess=!1,a.protocol=l.protocol,n.exports=a},function(n,r){try{n.exports=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{n.exports=!1}},function(n,r,o){const s=o(10),i=o(11),u=o(1),{pick:l}=o(14),c=o(3),f=o(0)("engine.io-client:polling-xhr");function a(){}const d=new s({xdomain:!1}).responseType!=null;class h extends u{constructor(w,v){super(),this.opts=v,this.method=v.method||"GET",this.uri=w,this.async=v.async!==!1,this.data=v.data!==void 0?v.data:null,this.create()}create(){const w=l(this.opts,"agent","enablesXDR","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");w.xdomain=!!this.opts.xd,w.xscheme=!!this.opts.xs;const v=this.xhr=new s(w),P=this;try{f("xhr open %s: %s",this.method,this.uri),v.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){v.setDisableHeaderCheck&&v.setDisableHeaderCheck(!0);for(let b in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(b)&&v.setRequestHeader(b,this.opts.extraHeaders[b])}}catch{}if(this.method==="POST")try{v.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{v.setRequestHeader("Accept","*/*")}catch{}"withCredentials"in v&&(v.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(v.timeout=this.opts.requestTimeout),this.hasXDR()?(v.onload=function(){P.onLoad()},v.onerror=function(){P.onError(v.responseText)}):v.onreadystatechange=function(){v.readyState===4&&(v.status===200||v.status===1223?P.onLoad():setTimeout(function(){P.onError(typeof v.status=="number"?v.status:0)},0))},f("xhr data %s",this.data),v.send(this.data)}catch(b){return void setTimeout(function(){P.onError(b)},0)}typeof document<"u"&&(this.index=h.requestsCount++,h.requests[this.index]=this)}onSuccess(){this.emit("success"),this.cleanup()}onData(w){this.emit("data",w),this.onSuccess()}onError(w){this.emit("error",w),this.cleanup(!0)}cleanup(w){if(this.xhr!==void 0&&this.xhr!==null){if(this.hasXDR()?this.xhr.onload=this.xhr.onerror=a:this.xhr.onreadystatechange=a,w)try{this.xhr.abort()}catch{}typeof document<"u"&&delete h.requests[this.index],this.xhr=null}}onLoad(){const w=this.xhr.responseText;w!==null&&this.onData(w)}hasXDR(){return typeof XDomainRequest<"u"&&!this.xs&&this.enablesXDR}abort(){this.cleanup()}}h.requestsCount=0,h.requests={},typeof document<"u"&&(typeof attachEvent=="function"?attachEvent("onunload",m):typeof addEventListener=="function"&&addEventListener("onpagehide"in c?"pagehide":"unload",m,!1));function m(){for(let _ in h.requests)h.requests.hasOwnProperty(_)&&h.requests[_].abort()}n.exports=class extends i{constructor(_){if(super(_),typeof location<"u"){const v=location.protocol==="https:";let P=location.port;P||(P=v?443:80),this.xd=typeof location<"u"&&_.hostname!==location.hostname||P!==_.port,this.xs=_.secure!==v}const w=_&&_.forceBase64;this.supportsBinary=d&&!w}request(_={}){return Object.assign(_,{xd:this.xd,xs:this.xs},this.opts),new h(this.uri(),_)}doWrite(_,w){const v=this.request({method:"POST",data:_}),P=this;v.on("success",w),v.on("error",function(b){P.onError("xhr post error",b)})}doPoll(){f("xhr poll");const _=this.request(),w=this;_.on("data",function(v){w.onData(v)}),_.on("error",function(v){w.onError("xhr poll error",v)}),this.pollXhr=_}},n.exports.Request=h},function(n,r,o){const{PACKET_TYPES:s}=o(12),i=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",u=typeof ArrayBuffer=="function",l=(c,f)=>{const a=new FileReader;return a.onload=function(){const d=a.result.split(",")[1];f("b"+d)},a.readAsDataURL(c)};n.exports=({type:c,data:f},a,d)=>{return i&&f instanceof Blob?a?d(f):l(f,d):u&&(f instanceof ArrayBuffer||(h=f,typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(h):h&&h.buffer instanceof ArrayBuffer))?a?d(f instanceof ArrayBuffer?f:f.buffer):l(new Blob([f]),d):d(s[c]+(f||""));var h}},function(n,r,o){const{PACKET_TYPES_REVERSE:s,ERROR_PACKET:i}=o(12);let u;typeof ArrayBuffer=="function"&&(u=o(27));const l=(f,a)=>{if(u){const d=u.decode(f);return c(d,a)}return{base64:!0,data:f}},c=(f,a)=>{switch(a){case"blob":return f instanceof ArrayBuffer?new Blob([f]):f;case"arraybuffer":default:return f}};n.exports=(f,a)=>{if(typeof f!="string")return{type:"message",data:c(f,a)};const d=f.charAt(0);return d==="b"?{type:"message",data:l(f.substring(1),a)}:s[d]?f.length>1?{type:s[d],data:f.substring(1)}:{type:s[d]}:i}},function(n,r){(function(o){r.encode=function(s){var i,u=new Uint8Array(s),l=u.length,c="";for(i=0;i<l;i+=3)c+=o[u[i]>>2],c+=o[(3&u[i])<<4|u[i+1]>>4],c+=o[(15&u[i+1])<<2|u[i+2]>>6],c+=o[63&u[i+2]];return l%3==2?c=c.substring(0,c.length-1)+"=":l%3==1&&(c=c.substring(0,c.length-2)+"=="),c},r.decode=function(s){var i,u,l,c,f,a=.75*s.length,d=s.length,h=0;s[s.length-1]==="="&&(a--,s[s.length-2]==="="&&a--);var m=new ArrayBuffer(a),_=new Uint8Array(m);for(i=0;i<d;i+=4)u=o.indexOf(s[i]),l=o.indexOf(s[i+1]),c=o.indexOf(s[i+2]),f=o.indexOf(s[i+3]),_[h++]=u<<2|l>>4,_[h++]=(15&l)<<4|c>>2,_[h++]=(3&c)<<6|63&f;return m}})("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/")},function(n,r,o){const s=o(11),i=o(3),u=/\n/g,l=/\\n/g;let c;n.exports=class extends s{constructor(f){super(f),this.query=this.query||{},c||(c=i.___eio=i.___eio||[]),this.index=c.length;const a=this;c.push(function(d){a.onData(d)}),this.query.j=this.index}get supportsBinary(){return!1}doClose(){this.script&&(this.script.onerror=()=>{},this.script.parentNode.removeChild(this.script),this.script=null),this.form&&(this.form.parentNode.removeChild(this.form),this.form=null,this.iframe=null),super.doClose()}doPoll(){const f=this,a=document.createElement("script");this.script&&(this.script.parentNode.removeChild(this.script),this.script=null),a.async=!0,a.src=this.uri(),a.onerror=function(h){f.onError("jsonp poll error",h)};const d=document.getElementsByTagName("script")[0];d?d.parentNode.insertBefore(a,d):(document.head||document.body).appendChild(a),this.script=a,typeof navigator<"u"&&/gecko/i.test(navigator.userAgent)&&setTimeout(function(){const h=document.createElement("iframe");document.body.appendChild(h),document.body.removeChild(h)},100)}doWrite(f,a){const d=this;let h;if(!this.form){const w=document.createElement("form"),v=document.createElement("textarea"),P=this.iframeId="eio_iframe_"+this.index;w.className="socketio",w.style.position="absolute",w.style.top="-1000px",w.style.left="-1000px",w.target=P,w.method="POST",w.setAttribute("accept-charset","utf-8"),v.name="d",w.appendChild(v),document.body.appendChild(w),this.form=w,this.area=v}function m(){_(),a()}function _(){if(d.iframe)try{d.form.removeChild(d.iframe)}catch(w){d.onError("jsonp polling iframe removal error",w)}try{const w='<iframe src="javascript:0" name="'+d.iframeId+'">';h=document.createElement(w)}catch{h=document.createElement("iframe"),h.name=d.iframeId,h.src="javascript:0"}h.id=d.iframeId,d.form.appendChild(h),d.iframe=h}this.form.action=this.uri(),_(),f=f.replace(l,`\\
`),this.area.value=f.replace(u,"\\n");try{this.form.submit()}catch{}this.iframe.attachEvent?this.iframe.onreadystatechange=function(){d.iframe.readyState==="complete"&&m()}:this.iframe.onload=m}}},function(n,r,o){(function(s){const i=o(2),u=o(5),l=o(13),c=o(4),{pick:f}=o(14),a=o(3),d=o(0)("engine.io-client:websocket");let h=a.WebSocket||a.MozWebSocket,m=!0,_="arraybuffer";typeof window>"u"&&(h=o(35),m=!1,_="nodebuffer");const w=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class v extends c{constructor(b){super(b),this.supportsBinary=!b.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const b=this.uri(),T=this.opts.protocols,x=w?{}:f(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(x.headers=this.opts.extraHeaders);try{this.ws=m&&!w?T?new h(b,T):new h(b):new h(b,T,x)}catch(k){return console.log("error",k),this.emit("error",k)}this.ws.binaryType=this.socket.binaryType||_,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=this.onClose.bind(this),this.ws.onmessage=b=>this.onData(b.data),this.ws.onerror=b=>this.onError("websocket error",b)}write(b){const T=this;this.writable=!1;let x=b.length,k=0;const N=x;for(;k<N;k++)(function(q){i.encodePacket(q,T.supportsBinary,function(H){const J={};!m&&(q.options&&(J.compress=q.options.compress),T.opts.perMessageDeflate)&&(typeof H=="string"?s.byteLength(H):H.length)<T.opts.perMessageDeflate.threshold&&(J.compress=!1);try{m?T.ws.send(H):T.ws.send(H,J)}catch{d("websocket closed before onclose event")}--x||L()})})(b[k]);function L(){T.emit("flush"),setTimeout(function(){T.writable=!0,T.emit("drain")},0)}}onClose(){c.prototype.onClose.call(this)}doClose(){this.ws!==void 0&&(this.ws.close(),this.ws=null)}uri(){let b=this.query||{};const T=this.opts.secure?"wss":"ws";let x="";return this.opts.port&&(T==="wss"&&Number(this.opts.port)!==443||T==="ws"&&Number(this.opts.port)!==80)&&(x=":"+this.opts.port),this.opts.timestampRequests&&(b[this.opts.timestampParam]=l()),this.supportsBinary||(b.b64=1),b=u.encode(b),b.length&&(b="?"+b),T+"://"+(this.opts.hostname.indexOf(":")!==-1?"["+this.opts.hostname+"]":this.opts.hostname)+x+this.opts.path+b}check(){return!(!h||"__initialize"in h&&this.name===v.prototype.name)}}n.exports=v}).call(this,o(30).Buffer)},function(n,r,o){(function(s){/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <http://feross.org>
 * @license  MIT
 */var i=o(32),u=o(33),l=o(34);function c(){return a.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function f(p,g){if(c()<g)throw new RangeError("Invalid typed array length");return a.TYPED_ARRAY_SUPPORT?(p=new Uint8Array(g)).__proto__=a.prototype:(p===null&&(p=new a(g)),p.length=g),p}function a(p,g,y){if(!(a.TYPED_ARRAY_SUPPORT||this instanceof a))return new a(p,g,y);if(typeof p=="number"){if(typeof g=="string")throw new Error("If encoding is specified then the first argument must be a string");return m(this,p)}return d(this,p,g,y)}function d(p,g,y,E){if(typeof g=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&g instanceof ArrayBuffer?function(S,A,D,V){if(A.byteLength,D<0||A.byteLength<D)throw new RangeError("'offset' is out of bounds");if(A.byteLength<D+(V||0))throw new RangeError("'length' is out of bounds");return A=D===void 0&&V===void 0?new Uint8Array(A):V===void 0?new Uint8Array(A,D):new Uint8Array(A,D,V),a.TYPED_ARRAY_SUPPORT?(S=A).__proto__=a.prototype:S=_(S,A),S}(p,g,y,E):typeof g=="string"?function(S,A,D){if(typeof D=="string"&&D!==""||(D="utf8"),!a.isEncoding(D))throw new TypeError('"encoding" must be a valid string encoding');var V=0|v(A,D),ee=(S=f(S,V)).write(A,D);return ee!==V&&(S=S.slice(0,ee)),S}(p,g,y):function(S,A){if(a.isBuffer(A)){var D=0|w(A.length);return(S=f(S,D)).length===0||A.copy(S,0,0,D),S}if(A){if(typeof ArrayBuffer<"u"&&A.buffer instanceof ArrayBuffer||"length"in A)return typeof A.length!="number"||(V=A.length)!=V?f(S,0):_(S,A);if(A.type==="Buffer"&&l(A.data))return _(S,A.data)}var V;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(p,g)}function h(p){if(typeof p!="number")throw new TypeError('"size" argument must be a number');if(p<0)throw new RangeError('"size" argument must not be negative')}function m(p,g){if(h(g),p=f(p,g<0?0:0|w(g)),!a.TYPED_ARRAY_SUPPORT)for(var y=0;y<g;++y)p[y]=0;return p}function _(p,g){var y=g.length<0?0:0|w(g.length);p=f(p,y);for(var E=0;E<y;E+=1)p[E]=255&g[E];return p}function w(p){if(p>=c())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+c().toString(16)+" bytes");return 0|p}function v(p,g){if(a.isBuffer(p))return p.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(p)||p instanceof ArrayBuffer))return p.byteLength;typeof p!="string"&&(p=""+p);var y=p.length;if(y===0)return 0;for(var E=!1;;)switch(g){case"ascii":case"latin1":case"binary":return y;case"utf8":case"utf-8":case void 0:return cn(p).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*y;case"hex":return y>>>1;case"base64":return No(p).length;default:if(E)return cn(p).length;g=(""+g).toLowerCase(),E=!0}}function P(p,g,y){var E=!1;if((g===void 0||g<0)&&(g=0),g>this.length||((y===void 0||y>this.length)&&(y=this.length),y<=0)||(y>>>=0)<=(g>>>=0))return"";for(p||(p="utf8");;)switch(p){case"hex":return se(this,g,y);case"utf8":case"utf-8":return we(this,g,y);case"ascii":return Ye(this,g,y);case"latin1":case"binary":return be(this,g,y);case"base64":return _e(this,g,y);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return K(this,g,y);default:if(E)throw new TypeError("Unknown encoding: "+p);p=(p+"").toLowerCase(),E=!0}}function b(p,g,y){var E=p[g];p[g]=p[y],p[y]=E}function T(p,g,y,E,S){if(p.length===0)return-1;if(typeof y=="string"?(E=y,y=0):y>2147483647?y=2147483647:y<-2147483648&&(y=-2147483648),y=+y,isNaN(y)&&(y=S?0:p.length-1),y<0&&(y=p.length+y),y>=p.length){if(S)return-1;y=p.length-1}else if(y<0){if(!S)return-1;y=0}if(typeof g=="string"&&(g=a.from(g,E)),a.isBuffer(g))return g.length===0?-1:x(p,g,y,E,S);if(typeof g=="number")return g&=255,a.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?S?Uint8Array.prototype.indexOf.call(p,g,y):Uint8Array.prototype.lastIndexOf.call(p,g,y):x(p,[g],y,E,S);throw new TypeError("val must be string, number or Buffer")}function x(p,g,y,E,S){var A,D=1,V=p.length,ee=g.length;if(E!==void 0&&((E=String(E).toLowerCase())==="ucs2"||E==="ucs-2"||E==="utf16le"||E==="utf-16le")){if(p.length<2||g.length<2)return-1;D=2,V/=2,ee/=2,y/=2}function ne($t,Nt){return D===1?$t[Nt]:$t.readUInt16BE(Nt*D)}if(S){var Y=-1;for(A=y;A<V;A++)if(ne(p,A)===ne(g,Y===-1?0:A-Y)){if(Y===-1&&(Y=A),A-Y+1===ee)return Y*D}else Y!==-1&&(A-=A-Y),Y=-1}else for(y+ee>V&&(y=V-ee),A=y;A>=0;A--){for(var Je=!0,De=0;De<ee;De++)if(ne(p,A+De)!==ne(g,De)){Je=!1;break}if(Je)return A}return-1}function k(p,g,y,E){y=Number(y)||0;var S=p.length-y;E?(E=Number(E))>S&&(E=S):E=S;var A=g.length;if(A%2!=0)throw new TypeError("Invalid hex string");E>A/2&&(E=A/2);for(var D=0;D<E;++D){var V=parseInt(g.substr(2*D,2),16);if(isNaN(V))return D;p[y+D]=V}return D}function N(p,g,y,E){return an(cn(g,p.length-y),p,y,E)}function L(p,g,y,E){return an(function(S){for(var A=[],D=0;D<S.length;++D)A.push(255&S.charCodeAt(D));return A}(g),p,y,E)}function q(p,g,y,E){return L(p,g,y,E)}function H(p,g,y,E){return an(No(g),p,y,E)}function J(p,g,y,E){return an(function(S,A){for(var D,V,ee,ne=[],Y=0;Y<S.length&&!((A-=2)<0);++Y)D=S.charCodeAt(Y),V=D>>8,ee=D%256,ne.push(ee),ne.push(V);return ne}(g,p.length-y),p,y,E)}function _e(p,g,y){return g===0&&y===p.length?i.fromByteArray(p):i.fromByteArray(p.slice(g,y))}function we(p,g,y){y=Math.min(p.length,y);for(var E=[],S=g;S<y;){var A,D,V,ee,ne=p[S],Y=null,Je=ne>239?4:ne>223?3:ne>191?2:1;if(S+Je<=y)switch(Je){case 1:ne<128&&(Y=ne);break;case 2:(192&(A=p[S+1]))==128&&(ee=(31&ne)<<6|63&A)>127&&(Y=ee);break;case 3:A=p[S+1],D=p[S+2],(192&A)==128&&(192&D)==128&&(ee=(15&ne)<<12|(63&A)<<6|63&D)>2047&&(ee<55296||ee>57343)&&(Y=ee);break;case 4:A=p[S+1],D=p[S+2],V=p[S+3],(192&A)==128&&(192&D)==128&&(192&V)==128&&(ee=(15&ne)<<18|(63&A)<<12|(63&D)<<6|63&V)>65535&&ee<1114112&&(Y=ee)}Y===null?(Y=65533,Je=1):Y>65535&&(Y-=65536,E.push(Y>>>10&1023|55296),Y=56320|1023&Y),E.push(Y),S+=Je}return function(De){var $t=De.length;if($t<=4096)return String.fromCharCode.apply(String,De);for(var Nt="",Qn=0;Qn<$t;)Nt+=String.fromCharCode.apply(String,De.slice(Qn,Qn+=4096));return Nt}(E)}r.Buffer=a,r.SlowBuffer=function(p){return+p!=p&&(p=0),a.alloc(+p)},r.INSPECT_MAX_BYTES=50,a.TYPED_ARRAY_SUPPORT=s.TYPED_ARRAY_SUPPORT!==void 0?s.TYPED_ARRAY_SUPPORT:function(){try{var p=new Uint8Array(1);return p.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},p.foo()===42&&typeof p.subarray=="function"&&p.subarray(1,1).byteLength===0}catch{return!1}}(),r.kMaxLength=c(),a.poolSize=8192,a._augment=function(p){return p.__proto__=a.prototype,p},a.from=function(p,g,y){return d(null,p,g,y)},a.TYPED_ARRAY_SUPPORT&&(a.prototype.__proto__=Uint8Array.prototype,a.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&a[Symbol.species]===a&&Object.defineProperty(a,Symbol.species,{value:null,configurable:!0})),a.alloc=function(p,g,y){return function(E,S,A,D){return h(S),S<=0?f(E,S):A!==void 0?typeof D=="string"?f(E,S).fill(A,D):f(E,S).fill(A):f(E,S)}(null,p,g,y)},a.allocUnsafe=function(p){return m(null,p)},a.allocUnsafeSlow=function(p){return m(null,p)},a.isBuffer=function(p){return!(p==null||!p._isBuffer)},a.compare=function(p,g){if(!a.isBuffer(p)||!a.isBuffer(g))throw new TypeError("Arguments must be Buffers");if(p===g)return 0;for(var y=p.length,E=g.length,S=0,A=Math.min(y,E);S<A;++S)if(p[S]!==g[S]){y=p[S],E=g[S];break}return y<E?-1:E<y?1:0},a.isEncoding=function(p){switch(String(p).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(p,g){if(!l(p))throw new TypeError('"list" argument must be an Array of Buffers');if(p.length===0)return a.alloc(0);var y;if(g===void 0)for(g=0,y=0;y<p.length;++y)g+=p[y].length;var E=a.allocUnsafe(g),S=0;for(y=0;y<p.length;++y){var A=p[y];if(!a.isBuffer(A))throw new TypeError('"list" argument must be an Array of Buffers');A.copy(E,S),S+=A.length}return E},a.byteLength=v,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var p=this.length;if(p%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var g=0;g<p;g+=2)b(this,g,g+1);return this},a.prototype.swap32=function(){var p=this.length;if(p%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var g=0;g<p;g+=4)b(this,g,g+3),b(this,g+1,g+2);return this},a.prototype.swap64=function(){var p=this.length;if(p%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var g=0;g<p;g+=8)b(this,g,g+7),b(this,g+1,g+6),b(this,g+2,g+5),b(this,g+3,g+4);return this},a.prototype.toString=function(){var p=0|this.length;return p===0?"":arguments.length===0?we(this,0,p):P.apply(this,arguments)},a.prototype.equals=function(p){if(!a.isBuffer(p))throw new TypeError("Argument must be a Buffer");return this===p||a.compare(this,p)===0},a.prototype.inspect=function(){var p="",g=r.INSPECT_MAX_BYTES;return this.length>0&&(p=this.toString("hex",0,g).match(/.{2}/g).join(" "),this.length>g&&(p+=" ... ")),"<Buffer "+p+">"},a.prototype.compare=function(p,g,y,E,S){if(!a.isBuffer(p))throw new TypeError("Argument must be a Buffer");if(g===void 0&&(g=0),y===void 0&&(y=p?p.length:0),E===void 0&&(E=0),S===void 0&&(S=this.length),g<0||y>p.length||E<0||S>this.length)throw new RangeError("out of range index");if(E>=S&&g>=y)return 0;if(E>=S)return-1;if(g>=y)return 1;if(this===p)return 0;for(var A=(S>>>=0)-(E>>>=0),D=(y>>>=0)-(g>>>=0),V=Math.min(A,D),ee=this.slice(E,S),ne=p.slice(g,y),Y=0;Y<V;++Y)if(ee[Y]!==ne[Y]){A=ee[Y],D=ne[Y];break}return A<D?-1:D<A?1:0},a.prototype.includes=function(p,g,y){return this.indexOf(p,g,y)!==-1},a.prototype.indexOf=function(p,g,y){return T(this,p,g,y,!0)},a.prototype.lastIndexOf=function(p,g,y){return T(this,p,g,y,!1)},a.prototype.write=function(p,g,y,E){if(g===void 0)E="utf8",y=this.length,g=0;else if(y===void 0&&typeof g=="string")E=g,y=this.length,g=0;else{if(!isFinite(g))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");g|=0,isFinite(y)?(y|=0,E===void 0&&(E="utf8")):(E=y,y=void 0)}var S=this.length-g;if((y===void 0||y>S)&&(y=S),p.length>0&&(y<0||g<0)||g>this.length)throw new RangeError("Attempt to write outside buffer bounds");E||(E="utf8");for(var A=!1;;)switch(E){case"hex":return k(this,p,g,y);case"utf8":case"utf-8":return N(this,p,g,y);case"ascii":return L(this,p,g,y);case"latin1":case"binary":return q(this,p,g,y);case"base64":return H(this,p,g,y);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return J(this,p,g,y);default:if(A)throw new TypeError("Unknown encoding: "+E);E=(""+E).toLowerCase(),A=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Ye(p,g,y){var E="";y=Math.min(p.length,y);for(var S=g;S<y;++S)E+=String.fromCharCode(127&p[S]);return E}function be(p,g,y){var E="";y=Math.min(p.length,y);for(var S=g;S<y;++S)E+=String.fromCharCode(p[S]);return E}function se(p,g,y){var E=p.length;(!g||g<0)&&(g=0),(!y||y<0||y>E)&&(y=E);for(var S="",A=g;A<y;++A)S+=Ka(p[A]);return S}function K(p,g,y){for(var E=p.slice(g,y),S="",A=0;A<E.length;A+=2)S+=String.fromCharCode(E[A]+256*E[A+1]);return S}function j(p,g,y){if(p%1!=0||p<0)throw new RangeError("offset is not uint");if(p+g>y)throw new RangeError("Trying to access beyond buffer length")}function G(p,g,y,E,S,A){if(!a.isBuffer(p))throw new TypeError('"buffer" argument must be a Buffer instance');if(g>S||g<A)throw new RangeError('"value" argument is out of bounds');if(y+E>p.length)throw new RangeError("Index out of range")}function Te(p,g,y,E){g<0&&(g=65535+g+1);for(var S=0,A=Math.min(p.length-y,2);S<A;++S)p[y+S]=(g&255<<8*(E?S:1-S))>>>8*(E?S:1-S)}function O(p,g,y,E){g<0&&(g=4294967295+g+1);for(var S=0,A=Math.min(p.length-y,4);S<A;++S)p[y+S]=g>>>8*(E?S:3-S)&255}function R(p,g,y,E,S,A){if(y+E>p.length)throw new RangeError("Index out of range");if(y<0)throw new RangeError("Index out of range")}function C(p,g,y,E,S){return S||R(p,0,y,4),u.write(p,g,y,E,23,4),y+4}function I(p,g,y,E,S){return S||R(p,0,y,8),u.write(p,g,y,E,52,8),y+8}a.prototype.slice=function(p,g){var y,E=this.length;if((p=~~p)<0?(p+=E)<0&&(p=0):p>E&&(p=E),(g=g===void 0?E:~~g)<0?(g+=E)<0&&(g=0):g>E&&(g=E),g<p&&(g=p),a.TYPED_ARRAY_SUPPORT)(y=this.subarray(p,g)).__proto__=a.prototype;else{var S=g-p;y=new a(S,void 0);for(var A=0;A<S;++A)y[A]=this[A+p]}return y},a.prototype.readUIntLE=function(p,g,y){p|=0,g|=0,y||j(p,g,this.length);for(var E=this[p],S=1,A=0;++A<g&&(S*=256);)E+=this[p+A]*S;return E},a.prototype.readUIntBE=function(p,g,y){p|=0,g|=0,y||j(p,g,this.length);for(var E=this[p+--g],S=1;g>0&&(S*=256);)E+=this[p+--g]*S;return E},a.prototype.readUInt8=function(p,g){return g||j(p,1,this.length),this[p]},a.prototype.readUInt16LE=function(p,g){return g||j(p,2,this.length),this[p]|this[p+1]<<8},a.prototype.readUInt16BE=function(p,g){return g||j(p,2,this.length),this[p]<<8|this[p+1]},a.prototype.readUInt32LE=function(p,g){return g||j(p,4,this.length),(this[p]|this[p+1]<<8|this[p+2]<<16)+16777216*this[p+3]},a.prototype.readUInt32BE=function(p,g){return g||j(p,4,this.length),16777216*this[p]+(this[p+1]<<16|this[p+2]<<8|this[p+3])},a.prototype.readIntLE=function(p,g,y){p|=0,g|=0,y||j(p,g,this.length);for(var E=this[p],S=1,A=0;++A<g&&(S*=256);)E+=this[p+A]*S;return E>=(S*=128)&&(E-=Math.pow(2,8*g)),E},a.prototype.readIntBE=function(p,g,y){p|=0,g|=0,y||j(p,g,this.length);for(var E=g,S=1,A=this[p+--E];E>0&&(S*=256);)A+=this[p+--E]*S;return A>=(S*=128)&&(A-=Math.pow(2,8*g)),A},a.prototype.readInt8=function(p,g){return g||j(p,1,this.length),128&this[p]?-1*(255-this[p]+1):this[p]},a.prototype.readInt16LE=function(p,g){g||j(p,2,this.length);var y=this[p]|this[p+1]<<8;return 32768&y?4294901760|y:y},a.prototype.readInt16BE=function(p,g){g||j(p,2,this.length);var y=this[p+1]|this[p]<<8;return 32768&y?4294901760|y:y},a.prototype.readInt32LE=function(p,g){return g||j(p,4,this.length),this[p]|this[p+1]<<8|this[p+2]<<16|this[p+3]<<24},a.prototype.readInt32BE=function(p,g){return g||j(p,4,this.length),this[p]<<24|this[p+1]<<16|this[p+2]<<8|this[p+3]},a.prototype.readFloatLE=function(p,g){return g||j(p,4,this.length),u.read(this,p,!0,23,4)},a.prototype.readFloatBE=function(p,g){return g||j(p,4,this.length),u.read(this,p,!1,23,4)},a.prototype.readDoubleLE=function(p,g){return g||j(p,8,this.length),u.read(this,p,!0,52,8)},a.prototype.readDoubleBE=function(p,g){return g||j(p,8,this.length),u.read(this,p,!1,52,8)},a.prototype.writeUIntLE=function(p,g,y,E){p=+p,g|=0,y|=0,E||G(this,p,g,y,Math.pow(2,8*y)-1,0);var S=1,A=0;for(this[g]=255&p;++A<y&&(S*=256);)this[g+A]=p/S&255;return g+y},a.prototype.writeUIntBE=function(p,g,y,E){p=+p,g|=0,y|=0,E||G(this,p,g,y,Math.pow(2,8*y)-1,0);var S=y-1,A=1;for(this[g+S]=255&p;--S>=0&&(A*=256);)this[g+S]=p/A&255;return g+y},a.prototype.writeUInt8=function(p,g,y){return p=+p,g|=0,y||G(this,p,g,1,255,0),a.TYPED_ARRAY_SUPPORT||(p=Math.floor(p)),this[g]=255&p,g+1},a.prototype.writeUInt16LE=function(p,g,y){return p=+p,g|=0,y||G(this,p,g,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[g]=255&p,this[g+1]=p>>>8):Te(this,p,g,!0),g+2},a.prototype.writeUInt16BE=function(p,g,y){return p=+p,g|=0,y||G(this,p,g,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[g]=p>>>8,this[g+1]=255&p):Te(this,p,g,!1),g+2},a.prototype.writeUInt32LE=function(p,g,y){return p=+p,g|=0,y||G(this,p,g,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[g+3]=p>>>24,this[g+2]=p>>>16,this[g+1]=p>>>8,this[g]=255&p):O(this,p,g,!0),g+4},a.prototype.writeUInt32BE=function(p,g,y){return p=+p,g|=0,y||G(this,p,g,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[g]=p>>>24,this[g+1]=p>>>16,this[g+2]=p>>>8,this[g+3]=255&p):O(this,p,g,!1),g+4},a.prototype.writeIntLE=function(p,g,y,E){if(p=+p,g|=0,!E){var S=Math.pow(2,8*y-1);G(this,p,g,y,S-1,-S)}var A=0,D=1,V=0;for(this[g]=255&p;++A<y&&(D*=256);)p<0&&V===0&&this[g+A-1]!==0&&(V=1),this[g+A]=(p/D>>0)-V&255;return g+y},a.prototype.writeIntBE=function(p,g,y,E){if(p=+p,g|=0,!E){var S=Math.pow(2,8*y-1);G(this,p,g,y,S-1,-S)}var A=y-1,D=1,V=0;for(this[g+A]=255&p;--A>=0&&(D*=256);)p<0&&V===0&&this[g+A+1]!==0&&(V=1),this[g+A]=(p/D>>0)-V&255;return g+y},a.prototype.writeInt8=function(p,g,y){return p=+p,g|=0,y||G(this,p,g,1,127,-128),a.TYPED_ARRAY_SUPPORT||(p=Math.floor(p)),p<0&&(p=255+p+1),this[g]=255&p,g+1},a.prototype.writeInt16LE=function(p,g,y){return p=+p,g|=0,y||G(this,p,g,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[g]=255&p,this[g+1]=p>>>8):Te(this,p,g,!0),g+2},a.prototype.writeInt16BE=function(p,g,y){return p=+p,g|=0,y||G(this,p,g,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[g]=p>>>8,this[g+1]=255&p):Te(this,p,g,!1),g+2},a.prototype.writeInt32LE=function(p,g,y){return p=+p,g|=0,y||G(this,p,g,4,2147483647,-2147483648),a.TYPED_ARRAY_SUPPORT?(this[g]=255&p,this[g+1]=p>>>8,this[g+2]=p>>>16,this[g+3]=p>>>24):O(this,p,g,!0),g+4},a.prototype.writeInt32BE=function(p,g,y){return p=+p,g|=0,y||G(this,p,g,4,2147483647,-2147483648),p<0&&(p=4294967295+p+1),a.TYPED_ARRAY_SUPPORT?(this[g]=p>>>24,this[g+1]=p>>>16,this[g+2]=p>>>8,this[g+3]=255&p):O(this,p,g,!1),g+4},a.prototype.writeFloatLE=function(p,g,y){return C(this,p,g,!0,y)},a.prototype.writeFloatBE=function(p,g,y){return C(this,p,g,!1,y)},a.prototype.writeDoubleLE=function(p,g,y){return I(this,p,g,!0,y)},a.prototype.writeDoubleBE=function(p,g,y){return I(this,p,g,!1,y)},a.prototype.copy=function(p,g,y,E){if(y||(y=0),E||E===0||(E=this.length),g>=p.length&&(g=p.length),g||(g=0),E>0&&E<y&&(E=y),E===y||p.length===0||this.length===0)return 0;if(g<0)throw new RangeError("targetStart out of bounds");if(y<0||y>=this.length)throw new RangeError("sourceStart out of bounds");if(E<0)throw new RangeError("sourceEnd out of bounds");E>this.length&&(E=this.length),p.length-g<E-y&&(E=p.length-g+y);var S,A=E-y;if(this===p&&y<g&&g<E)for(S=A-1;S>=0;--S)p[S+g]=this[S+y];else if(A<1e3||!a.TYPED_ARRAY_SUPPORT)for(S=0;S<A;++S)p[S+g]=this[S+y];else Uint8Array.prototype.set.call(p,this.subarray(y,y+A),g);return A},a.prototype.fill=function(p,g,y,E){if(typeof p=="string"){if(typeof g=="string"?(E=g,g=0,y=this.length):typeof y=="string"&&(E=y,y=this.length),p.length===1){var S=p.charCodeAt(0);S<256&&(p=S)}if(E!==void 0&&typeof E!="string")throw new TypeError("encoding must be a string");if(typeof E=="string"&&!a.isEncoding(E))throw new TypeError("Unknown encoding: "+E)}else typeof p=="number"&&(p&=255);if(g<0||this.length<g||this.length<y)throw new RangeError("Out of range index");if(y<=g)return this;var A;if(g>>>=0,y=y===void 0?this.length:y>>>0,p||(p=0),typeof p=="number")for(A=g;A<y;++A)this[A]=p;else{var D=a.isBuffer(p)?p:cn(new a(p,E).toString()),V=D.length;for(A=0;A<y-g;++A)this[A+g]=D[A%V]}return this};var Ha=/[^+\/0-9A-Za-z-_]/g;function Ka(p){return p<16?"0"+p.toString(16):p.toString(16)}function cn(p,g){var y;g=g||1/0;for(var E=p.length,S=null,A=[],D=0;D<E;++D){if((y=p.charCodeAt(D))>55295&&y<57344){if(!S){if(y>56319){(g-=3)>-1&&A.push(239,191,189);continue}if(D+1===E){(g-=3)>-1&&A.push(239,191,189);continue}S=y;continue}if(y<56320){(g-=3)>-1&&A.push(239,191,189),S=y;continue}y=65536+(S-55296<<10|y-56320)}else S&&(g-=3)>-1&&A.push(239,191,189);if(S=null,y<128){if((g-=1)<0)break;A.push(y)}else if(y<2048){if((g-=2)<0)break;A.push(y>>6|192,63&y|128)}else if(y<65536){if((g-=3)<0)break;A.push(y>>12|224,y>>6&63|128,63&y|128)}else{if(!(y<1114112))throw new Error("Invalid code point");if((g-=4)<0)break;A.push(y>>18|240,y>>12&63|128,y>>6&63|128,63&y|128)}}return A}function No(p){return i.toByteArray(function(g){if((g=function(y){return y.trim?y.trim():y.replace(/^\s+|\s+$/g,"")}(g).replace(Ha,"")).length<2)return"";for(;g.length%4!=0;)g+="=";return g}(p))}function an(p,g,y,E){for(var S=0;S<E&&!(S+y>=g.length||S>=p.length);++S)g[S+y]=p[S];return S}}).call(this,o(31))},function(n,r){var o;o=function(){return this}();try{o=o||new Function("return this")()}catch{typeof window=="object"&&(o=window)}n.exports=o},function(n,r,o){r.byteLength=function(h){var m=a(h),_=m[0],w=m[1];return 3*(_+w)/4-w},r.toByteArray=function(h){var m,_,w=a(h),v=w[0],P=w[1],b=new u(function(k,N,L){return 3*(N+L)/4-L}(0,v,P)),T=0,x=P>0?v-4:v;for(_=0;_<x;_+=4)m=i[h.charCodeAt(_)]<<18|i[h.charCodeAt(_+1)]<<12|i[h.charCodeAt(_+2)]<<6|i[h.charCodeAt(_+3)],b[T++]=m>>16&255,b[T++]=m>>8&255,b[T++]=255&m;return P===2&&(m=i[h.charCodeAt(_)]<<2|i[h.charCodeAt(_+1)]>>4,b[T++]=255&m),P===1&&(m=i[h.charCodeAt(_)]<<10|i[h.charCodeAt(_+1)]<<4|i[h.charCodeAt(_+2)]>>2,b[T++]=m>>8&255,b[T++]=255&m),b},r.fromByteArray=function(h){for(var m,_=h.length,w=_%3,v=[],P=0,b=_-w;P<b;P+=16383)v.push(d(h,P,P+16383>b?b:P+16383));return w===1?(m=h[_-1],v.push(s[m>>2]+s[m<<4&63]+"==")):w===2&&(m=(h[_-2]<<8)+h[_-1],v.push(s[m>>10]+s[m>>4&63]+s[m<<2&63]+"=")),v.join("")};for(var s=[],i=[],u=typeof Uint8Array<"u"?Uint8Array:Array,l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=0,f=l.length;c<f;++c)s[c]=l[c],i[l.charCodeAt(c)]=c;function a(h){var m=h.length;if(m%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var _=h.indexOf("=");return _===-1&&(_=m),[_,_===m?0:4-_%4]}function d(h,m,_){for(var w,v,P=[],b=m;b<_;b+=3)w=(h[b]<<16&16711680)+(h[b+1]<<8&65280)+(255&h[b+2]),P.push(s[(v=w)>>18&63]+s[v>>12&63]+s[v>>6&63]+s[63&v]);return P.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},function(n,r){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */r.read=function(o,s,i,u,l){var c,f,a=8*l-u-1,d=(1<<a)-1,h=d>>1,m=-7,_=i?l-1:0,w=i?-1:1,v=o[s+_];for(_+=w,c=v&(1<<-m)-1,v>>=-m,m+=a;m>0;c=256*c+o[s+_],_+=w,m-=8);for(f=c&(1<<-m)-1,c>>=-m,m+=u;m>0;f=256*f+o[s+_],_+=w,m-=8);if(c===0)c=1-h;else{if(c===d)return f?NaN:1/0*(v?-1:1);f+=Math.pow(2,u),c-=h}return(v?-1:1)*f*Math.pow(2,c-u)},r.write=function(o,s,i,u,l,c){var f,a,d,h=8*c-l-1,m=(1<<h)-1,_=m>>1,w=l===23?Math.pow(2,-24)-Math.pow(2,-77):0,v=u?0:c-1,P=u?1:-1,b=s<0||s===0&&1/s<0?1:0;for(s=Math.abs(s),isNaN(s)||s===1/0?(a=isNaN(s)?1:0,f=m):(f=Math.floor(Math.log(s)/Math.LN2),s*(d=Math.pow(2,-f))<1&&(f--,d*=2),(s+=f+_>=1?w/d:w*Math.pow(2,1-_))*d>=2&&(f++,d/=2),f+_>=m?(a=0,f=m):f+_>=1?(a=(s*d-1)*Math.pow(2,l),f+=_):(a=s*Math.pow(2,_-1)*Math.pow(2,l),f=0));l>=8;o[i+v]=255&a,v+=P,a/=256,l-=8);for(f=f<<l|a,h+=l;h>0;o[i+v]=255&f,v+=P,f/=256,h-=8);o[i+v-P]|=128*b}},function(n,r){var o={}.toString;n.exports=Array.isArray||function(s){return o.call(s)=="[object Array]"}},function(n,r,o){const s=o(36),i=o(37),u=o(0)("@hyoga/uni-socket"),l=z||mt;class c extends s{constructor(a,d,h){super(),this._readyState=c.CONNECTING,this._socket=null,a!==null&&(Array.isArray(d)?d=d.join(", "):typeof d=="object"&&d!==null&&(h=d,d=void 0),this.initAsClient(a,d,h))}initAsClient(a,d,h){Object.assign(h,{url:a,header:{"content-type":"application/json"},protocols:d,timeout:25e3}),this._socket=this.createConnection(h),this.addSocketEventListeners()}createConnection(a){return l.connectSocket({complete:()=>{},...a})}addSocketEventListeners(){this._socket.onOpen(()=>{this._readyState=c.OPEN,this.onopen()}),this._socket.onClose(a=>{u("onclose: ",a),this._readyState=c.CLOSED,this.onclose(a.code,a.reason)}),this._socket.onError(a=>{u("onerror: ",a),this.onerror(a)}),this._socket.onMessage(a=>{this.onmessage(a)})}send(a){if(u("send data: ",a,this._readyState),this._readyState===c.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");typeof a=="number"&&(a=a.toString()),this._readyState===c.OPEN&&this._socket.send({data:a})}close(a,d){u("close socket: ",a,d),this._readyState=c.CLOSING,this._socket.close({code:a,reason:d})}}["CONNECTING","OPEN","CLOSING","CLOSED"].forEach((f,a)=>{c[f]=a}),["open","error","close","message"].forEach(f=>{Object.defineProperty(c.prototype,"on"+f,{get(){const a=this.listeners(f);for(var d=0;d<a.length;d++)if(a[d]._listener)return a[d]._listener},set(a){const d=this.listeners(f);for(var h=0;h<d.length;h++)d[h]._listener&&this.removeListener(f,d[h]);this.addEventListener(f,a)}})}),c.prototype.addEventListener=i.addEventListener,c.prototype.removeEventListener=i.removeEventListener,n.exports=c},function(n,r,o){var s,i=typeof Reflect=="object"?Reflect:null,u=i&&typeof i.apply=="function"?i.apply:function(b,T,x){return Function.prototype.apply.call(b,T,x)};s=i&&typeof i.ownKeys=="function"?i.ownKeys:Object.getOwnPropertySymbols?function(b){return Object.getOwnPropertyNames(b).concat(Object.getOwnPropertySymbols(b))}:function(b){return Object.getOwnPropertyNames(b)};var l=Number.isNaN||function(b){return b!=b};function c(){c.init.call(this)}n.exports=c,n.exports.once=function(b,T){return new Promise(function(x,k){function N(){L!==void 0&&b.removeListener("error",L),x([].slice.call(arguments))}var L;T!=="error"&&(L=function(q){b.removeListener(T,N),k(q)},b.once("error",L)),b.once(T,N)})},c.EventEmitter=c,c.prototype._events=void 0,c.prototype._eventsCount=0,c.prototype._maxListeners=void 0;var f=10;function a(b){if(typeof b!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof b)}function d(b){return b._maxListeners===void 0?c.defaultMaxListeners:b._maxListeners}function h(b,T,x,k){var N,L,q,H;if(a(x),(L=b._events)===void 0?(L=b._events=Object.create(null),b._eventsCount=0):(L.newListener!==void 0&&(b.emit("newListener",T,x.listener?x.listener:x),L=b._events),q=L[T]),q===void 0)q=L[T]=x,++b._eventsCount;else if(typeof q=="function"?q=L[T]=k?[x,q]:[q,x]:k?q.unshift(x):q.push(x),(N=d(b))>0&&q.length>N&&!q.warned){q.warned=!0;var J=new Error("Possible EventEmitter memory leak detected. "+q.length+" "+String(T)+" listeners added. Use emitter.setMaxListeners() to increase limit");J.name="MaxListenersExceededWarning",J.emitter=b,J.type=T,J.count=q.length,H=J,console&&console.warn&&console.warn(H)}return b}function m(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function _(b,T,x){var k={fired:!1,wrapFn:void 0,target:b,type:T,listener:x},N=m.bind(k);return N.listener=x,k.wrapFn=N,N}function w(b,T,x){var k=b._events;if(k===void 0)return[];var N=k[T];return N===void 0?[]:typeof N=="function"?x?[N.listener||N]:[N]:x?function(L){for(var q=new Array(L.length),H=0;H<q.length;++H)q[H]=L[H].listener||L[H];return q}(N):P(N,N.length)}function v(b){var T=this._events;if(T!==void 0){var x=T[b];if(typeof x=="function")return 1;if(x!==void 0)return x.length}return 0}function P(b,T){for(var x=new Array(T),k=0;k<T;++k)x[k]=b[k];return x}Object.defineProperty(c,"defaultMaxListeners",{enumerable:!0,get:function(){return f},set:function(b){if(typeof b!="number"||b<0||l(b))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+b+".");f=b}}),c.init=function(){this._events!==void 0&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},c.prototype.setMaxListeners=function(b){if(typeof b!="number"||b<0||l(b))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+b+".");return this._maxListeners=b,this},c.prototype.getMaxListeners=function(){return d(this)},c.prototype.emit=function(b){for(var T=[],x=1;x<arguments.length;x++)T.push(arguments[x]);var k=b==="error",N=this._events;if(N!==void 0)k=k&&N.error===void 0;else if(!k)return!1;if(k){var L;if(T.length>0&&(L=T[0]),L instanceof Error)throw L;var q=new Error("Unhandled error."+(L?" ("+L.message+")":""));throw q.context=L,q}var H=N[b];if(H===void 0)return!1;if(typeof H=="function")u(H,this,T);else{var J=H.length,_e=P(H,J);for(x=0;x<J;++x)u(_e[x],this,T)}return!0},c.prototype.addListener=function(b,T){return h(this,b,T,!1)},c.prototype.on=c.prototype.addListener,c.prototype.prependListener=function(b,T){return h(this,b,T,!0)},c.prototype.once=function(b,T){return a(T),this.on(b,_(this,b,T)),this},c.prototype.prependOnceListener=function(b,T){return a(T),this.prependListener(b,_(this,b,T)),this},c.prototype.removeListener=function(b,T){var x,k,N,L,q;if(a(T),(k=this._events)===void 0)return this;if((x=k[b])===void 0)return this;if(x===T||x.listener===T)--this._eventsCount==0?this._events=Object.create(null):(delete k[b],k.removeListener&&this.emit("removeListener",b,x.listener||T));else if(typeof x!="function"){for(N=-1,L=x.length-1;L>=0;L--)if(x[L]===T||x[L].listener===T){q=x[L].listener,N=L;break}if(N<0)return this;N===0?x.shift():function(H,J){for(;J+1<H.length;J++)H[J]=H[J+1];H.pop()}(x,N),x.length===1&&(k[b]=x[0]),k.removeListener!==void 0&&this.emit("removeListener",b,q||T)}return this},c.prototype.off=c.prototype.removeListener,c.prototype.removeAllListeners=function(b){var T,x,k;if((x=this._events)===void 0)return this;if(x.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):x[b]!==void 0&&(--this._eventsCount==0?this._events=Object.create(null):delete x[b]),this;if(arguments.length===0){var N,L=Object.keys(x);for(k=0;k<L.length;++k)(N=L[k])!=="removeListener"&&this.removeAllListeners(N);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(typeof(T=x[b])=="function")this.removeListener(b,T);else if(T!==void 0)for(k=T.length-1;k>=0;k--)this.removeListener(b,T[k]);return this},c.prototype.listeners=function(b){return w(this,b,!0)},c.prototype.rawListeners=function(b){return w(this,b,!1)},c.listenerCount=function(b,T){return typeof b.listenerCount=="function"?b.listenerCount(T):v.call(b,T)},c.prototype.listenerCount=v,c.prototype.eventNames=function(){return this._eventsCount>0?s(this._events):[]}},function(n,r,o){class s{constructor(d,h){this.target=h,this.type=d}}class i extends s{constructor(d,h){super("message",h),this.data=d}}class u extends s{constructor(d,h,m){super("close",m),this.wasClean=m._closeFrameReceived&&m._closeFrameSent,this.reason=h,this.code=d}}class l extends s{constructor(d){super("open",d)}}class c extends s{constructor(d,h){super("error",h),this.message=d.message,this.error=d}}const f={addEventListener(a,d){function h(v){d.call(this,new i(v,this))}function m(v,P){d.call(this,new u(v,P,this))}function _(v){d.call(this,new c(v,this))}function w(){d.call(this,new l(this))}typeof d=="function"&&(a==="message"?(h._listener=d,this.on(a,h)):a==="close"?(m._listener=d,this.on(a,m)):a==="error"?(_._listener=d,this.on(a,_)):a==="open"?(w._listener=d,this.on(a,w)):this.on(a,d))},removeEventListener(a,d){const h=this.listeners(a);for(var m=0;m<h.length;m++)h[m]!==d&&h[m]._listener!==d||this.removeListener(a,h[m])}};n.exports=f},function(n,r,o){Object.defineProperty(r,"__esModule",{value:!0}),r.reconstructPacket=r.deconstructPacket=void 0;const s=o(16);r.deconstructPacket=function(i){const u=[],l=i.data,c=i;return c.data=function f(a,d){if(!a)return a;if(s.isBinary(a)){const h={_placeholder:!0,num:d.length};return d.push(a),h}if(Array.isArray(a)){const h=new Array(a.length);for(let m=0;m<a.length;m++)h[m]=f(a[m],d);return h}if(typeof a=="object"&&!(a instanceof Date)){const h={};for(const m in a)a.hasOwnProperty(m)&&(h[m]=f(a[m],d));return h}return a}(l,u),c.attachments=u.length,{packet:c,buffers:u}},r.reconstructPacket=function(i,u){return i.data=function l(c,f){if(!c)return c;if(c&&c._placeholder)return f[c.num];if(Array.isArray(c))for(let a=0;a<c.length;a++)c[a]=l(c[a],f);else if(typeof c=="object")for(const a in c)c.hasOwnProperty(a)&&(c[a]=l(c[a],f));return c}(i.data,u),i.attachments=void 0,i}},function(n,r){function o(s){s=s||{},this.ms=s.min||100,this.max=s.max||1e4,this.factor=s.factor||2,this.jitter=s.jitter>0&&s.jitter<=1?s.jitter:0,this.attempts=0}n.exports=o,o.prototype.duration=function(){var s=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var i=Math.random(),u=Math.floor(i*this.jitter*s);s=1&Math.floor(10*i)?s+u:s-u}return 0|Math.min(s,this.max)},o.prototype.reset=function(){this.attempts=0},o.prototype.setMin=function(s){this.ms=s},o.prototype.setMax=function(s){this.max=s},o.prototype.setJitter=function(s){this.jitter=s}}])})})(Og);const Cg=kg(Jr),Ig=[{path:"pages/index/index",style:{navigationBarTitleText:"",enablePullDownRefresh:!0,navigationStyle:"custom"}},{path:"pages/discover/discover",style:{navigationBarTitleText:"",enablePullDownRefresh:!0,navigationStyle:"custom"}},{path:"pages/message/message",style:{navigationBarTitleText:"",enablePullDownRefresh:!0,navigationStyle:"custom"}},{path:"pages/my/my",style:{navigationBarTitleText:"",enablePullDownRefresh:!1,navigationStyle:"custom"}},{path:"pages/favorite/favorite",style:{navigationBarTitleText:"",enablePullDownRefresh:!1}},{path:"pages/exchange/exchange",style:{navigationBarTitleText:"",enablePullDownRefresh:!0}},{path:"pages/new_post/new_post",style:{navigationBarTitleText:"",enablePullDownRefresh:!1}},{path:"pages/new_goods/new_goods",style:{navigationBarTitleText:"商品",enablePullDownRefresh:!1}},{path:"pages/chat/chat",style:{navigationBarTitleText:"",enablePullDownRefresh:!1}},{path:"pages/login/login",style:{navigationBarTitleText:"登录",enablePullDownRefresh:!1}},{path:"pages/register/register",style:{navigationBarTitleText:"注册",enablePullDownRefresh:!1}},{path:"pages/browse_goods/browse_goods",style:{navigationBarTitleText:"",enablePullDownRefresh:!1}},{path:"pages/edit_info/edit_info",style:{navigationBarTitleText:"编辑个人信息",enablePullDownRefresh:!1}},{path:"pages/search/search",style:{navigationBarTitleText:"",enablePullDownRefresh:!1}},{path:"pages/browse_post/browse_post",style:{navigationBarTitleText:"",enablePullDownRefresh:!1}},{path:"pages/history/history",style:{navigationBarTitleText:"浏览历史",enablePullDownRefresh:!0}},{path:"pages/settings/settings",style:{navigationBarTitleText:"设置",enablePullDownRefresh:!1}},{path:"pages/mygoods/mygoods",style:{navigationBarTitleText:"我发布的商品",enablePullDownRefresh:!0}},{path:"pages/report/report",style:{navigationBarTitleText:"举报",enablePullDownRefresh:!1}},{path:"pages/edit_auth/edit_auth",style:{navigationBarTitleText:"",enablePullDownRefresh:!1}},{path:"pages/exchange/custom_exchange/custom_exchange",style:{navigationBarTitleText:"自定义交易",enablePullDownRefresh:!1}},{path:"pages/exchange/confirm_exchange/confirm_exchange",style:{navigationBarTitleText:"确认交易",enablePullDownRefresh:!1}},{path:"pages/mypost/mypost",style:{navigationBarTitleText:"我发布的帖子",enablePullDownRefresh:!0}},{path:"pages/pay/pay",style:{navigationBarTitleText:"",enablePullDownRefresh:!1}},{path:"pages/msg_detail/msg_detail",style:{navigationBarTitleText:"消息",enablePullDownRefresh:!0}},{path:"pages/info/info",style:{navigationBarTitleText:"",enablePullDownRefresh:!0}}],Rg={navigationBarTextStyle:"black",navigationBarTitleText:"uni-app",navigationBarBackgroundColor:"#F8F8F8",backgroundColor:"#F8F8F8",enablePullDownRefresh:!0,onReachBottomDistance:0},Lg={autoscan:!0},$g={selectedColor:"#1296db",list:[{text:"主页",pagePath:"pages/index/index",iconPath:"static/tabBarIcons/home.png",selectedIconPath:"static/tabBarIcons/home_fill.png"},{text:"发现",pagePath:"pages/discover/discover",iconPath:"static/tabBarIcons/attention.png",selectedIconPath:"static/tabBarIcons/attention_fill.png"},{text:"消息",pagePath:"pages/message/message",iconPath:"static/tabBarIcons/message.png",selectedIconPath:"static/tabBarIcons/message_fill_light.png"},{text:"我的",pagePath:"pages/my/my",iconPath:"static/tabBarIcons/my.png",selectedIconPath:"static/tabBarIcons/my_fill.png"}]},Ng={},aa={pages:Ig,globalStyle:Rg,easycom:Lg,tabBar:$g,uniIdRouter:Ng};function Dg(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function st(e,t,n){return e(n={path:t,exports:{},require:function(r,o){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(o==null&&n.path)}},n.exports),n.exports}var Bg=st(function(e,t){var n;e.exports=(n=n||function(r,o){var s=Object.create||function(){function w(){}return function(v){var P;return w.prototype=v,P=new w,w.prototype=null,P}}(),i={},u=i.lib={},l=u.Base={extend:function(w){var v=s(this);return w&&v.mixIn(w),v.hasOwnProperty("init")&&this.init!==v.init||(v.init=function(){v.$super.init.apply(this,arguments)}),v.init.prototype=v,v.$super=this,v},create:function(){var w=this.extend();return w.init.apply(w,arguments),w},init:function(){},mixIn:function(w){for(var v in w)w.hasOwnProperty(v)&&(this[v]=w[v]);w.hasOwnProperty("toString")&&(this.toString=w.toString)},clone:function(){return this.init.prototype.extend(this)}},c=u.WordArray=l.extend({init:function(w,v){w=this.words=w||[],this.sigBytes=v!=o?v:4*w.length},toString:function(w){return(w||a).stringify(this)},concat:function(w){var v=this.words,P=w.words,b=this.sigBytes,T=w.sigBytes;if(this.clamp(),b%4)for(var x=0;x<T;x++){var k=P[x>>>2]>>>24-x%4*8&255;v[b+x>>>2]|=k<<24-(b+x)%4*8}else for(x=0;x<T;x+=4)v[b+x>>>2]=P[x>>>2];return this.sigBytes+=T,this},clamp:function(){var w=this.words,v=this.sigBytes;w[v>>>2]&=4294967295<<32-v%4*8,w.length=r.ceil(v/4)},clone:function(){var w=l.clone.call(this);return w.words=this.words.slice(0),w},random:function(w){for(var v,P=[],b=function(k){k=k;var N=987654321,L=4294967295;return function(){var q=((N=36969*(65535&N)+(N>>16)&L)<<16)+(k=18e3*(65535&k)+(k>>16)&L)&L;return q/=4294967296,(q+=.5)*(r.random()>.5?1:-1)}},T=0;T<w;T+=4){var x=b(4294967296*(v||r.random()));v=987654071*x(),P.push(4294967296*x()|0)}return new c.init(P,w)}}),f=i.enc={},a=f.Hex={stringify:function(w){for(var v=w.words,P=w.sigBytes,b=[],T=0;T<P;T++){var x=v[T>>>2]>>>24-T%4*8&255;b.push((x>>>4).toString(16)),b.push((15&x).toString(16))}return b.join("")},parse:function(w){for(var v=w.length,P=[],b=0;b<v;b+=2)P[b>>>3]|=parseInt(w.substr(b,2),16)<<24-b%8*4;return new c.init(P,v/2)}},d=f.Latin1={stringify:function(w){for(var v=w.words,P=w.sigBytes,b=[],T=0;T<P;T++){var x=v[T>>>2]>>>24-T%4*8&255;b.push(String.fromCharCode(x))}return b.join("")},parse:function(w){for(var v=w.length,P=[],b=0;b<v;b++)P[b>>>2]|=(255&w.charCodeAt(b))<<24-b%4*8;return new c.init(P,v)}},h=f.Utf8={stringify:function(w){try{return decodeURIComponent(escape(d.stringify(w)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(w){return d.parse(unescape(encodeURIComponent(w)))}},m=u.BufferedBlockAlgorithm=l.extend({reset:function(){this._data=new c.init,this._nDataBytes=0},_append:function(w){typeof w=="string"&&(w=h.parse(w)),this._data.concat(w),this._nDataBytes+=w.sigBytes},_process:function(w){var v=this._data,P=v.words,b=v.sigBytes,T=this.blockSize,x=b/(4*T),k=(x=w?r.ceil(x):r.max((0|x)-this._minBufferSize,0))*T,N=r.min(4*k,b);if(k){for(var L=0;L<k;L+=T)this._doProcessBlock(P,L);var q=P.splice(0,k);v.sigBytes-=N}return new c.init(q,N)},clone:function(){var w=l.clone.call(this);return w._data=this._data.clone(),w},_minBufferSize:0});u.Hasher=m.extend({cfg:l.extend(),init:function(w){this.cfg=this.cfg.extend(w),this.reset()},reset:function(){m.reset.call(this),this._doReset()},update:function(w){return this._append(w),this._process(),this},finalize:function(w){return w&&this._append(w),this._doFinalize()},blockSize:16,_createHelper:function(w){return function(v,P){return new w.init(P).finalize(v)}},_createHmacHelper:function(w){return function(v,P){return new _.HMAC.init(w,P).finalize(v)}}});var _=i.algo={};return i}(Math),n)}),qt=Bg,jg=(st(function(e,t){var n;e.exports=(n=qt,function(r){var o=n,s=o.lib,i=s.WordArray,u=s.Hasher,l=o.algo,c=[];(function(){for(var _=0;_<64;_++)c[_]=4294967296*r.abs(r.sin(_+1))|0})();var f=l.MD5=u.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(_,w){for(var v=0;v<16;v++){var P=w+v,b=_[P];_[P]=16711935&(b<<8|b>>>24)|4278255360&(b<<24|b>>>8)}var T=this._hash.words,x=_[w+0],k=_[w+1],N=_[w+2],L=_[w+3],q=_[w+4],H=_[w+5],J=_[w+6],_e=_[w+7],we=_[w+8],Ye=_[w+9],be=_[w+10],se=_[w+11],K=_[w+12],j=_[w+13],G=_[w+14],Te=_[w+15],O=T[0],R=T[1],C=T[2],I=T[3];O=a(O,R,C,I,x,7,c[0]),I=a(I,O,R,C,k,12,c[1]),C=a(C,I,O,R,N,17,c[2]),R=a(R,C,I,O,L,22,c[3]),O=a(O,R,C,I,q,7,c[4]),I=a(I,O,R,C,H,12,c[5]),C=a(C,I,O,R,J,17,c[6]),R=a(R,C,I,O,_e,22,c[7]),O=a(O,R,C,I,we,7,c[8]),I=a(I,O,R,C,Ye,12,c[9]),C=a(C,I,O,R,be,17,c[10]),R=a(R,C,I,O,se,22,c[11]),O=a(O,R,C,I,K,7,c[12]),I=a(I,O,R,C,j,12,c[13]),C=a(C,I,O,R,G,17,c[14]),O=d(O,R=a(R,C,I,O,Te,22,c[15]),C,I,k,5,c[16]),I=d(I,O,R,C,J,9,c[17]),C=d(C,I,O,R,se,14,c[18]),R=d(R,C,I,O,x,20,c[19]),O=d(O,R,C,I,H,5,c[20]),I=d(I,O,R,C,be,9,c[21]),C=d(C,I,O,R,Te,14,c[22]),R=d(R,C,I,O,q,20,c[23]),O=d(O,R,C,I,Ye,5,c[24]),I=d(I,O,R,C,G,9,c[25]),C=d(C,I,O,R,L,14,c[26]),R=d(R,C,I,O,we,20,c[27]),O=d(O,R,C,I,j,5,c[28]),I=d(I,O,R,C,N,9,c[29]),C=d(C,I,O,R,_e,14,c[30]),O=h(O,R=d(R,C,I,O,K,20,c[31]),C,I,H,4,c[32]),I=h(I,O,R,C,we,11,c[33]),C=h(C,I,O,R,se,16,c[34]),R=h(R,C,I,O,G,23,c[35]),O=h(O,R,C,I,k,4,c[36]),I=h(I,O,R,C,q,11,c[37]),C=h(C,I,O,R,_e,16,c[38]),R=h(R,C,I,O,be,23,c[39]),O=h(O,R,C,I,j,4,c[40]),I=h(I,O,R,C,x,11,c[41]),C=h(C,I,O,R,L,16,c[42]),R=h(R,C,I,O,J,23,c[43]),O=h(O,R,C,I,Ye,4,c[44]),I=h(I,O,R,C,K,11,c[45]),C=h(C,I,O,R,Te,16,c[46]),O=m(O,R=h(R,C,I,O,N,23,c[47]),C,I,x,6,c[48]),I=m(I,O,R,C,_e,10,c[49]),C=m(C,I,O,R,G,15,c[50]),R=m(R,C,I,O,H,21,c[51]),O=m(O,R,C,I,K,6,c[52]),I=m(I,O,R,C,L,10,c[53]),C=m(C,I,O,R,be,15,c[54]),R=m(R,C,I,O,k,21,c[55]),O=m(O,R,C,I,we,6,c[56]),I=m(I,O,R,C,Te,10,c[57]),C=m(C,I,O,R,J,15,c[58]),R=m(R,C,I,O,j,21,c[59]),O=m(O,R,C,I,q,6,c[60]),I=m(I,O,R,C,se,10,c[61]),C=m(C,I,O,R,N,15,c[62]),R=m(R,C,I,O,Ye,21,c[63]),T[0]=T[0]+O|0,T[1]=T[1]+R|0,T[2]=T[2]+C|0,T[3]=T[3]+I|0},_doFinalize:function(){var _=this._data,w=_.words,v=8*this._nDataBytes,P=8*_.sigBytes;w[P>>>5]|=128<<24-P%32;var b=r.floor(v/4294967296),T=v;w[15+(P+64>>>9<<4)]=16711935&(b<<8|b>>>24)|4278255360&(b<<24|b>>>8),w[14+(P+64>>>9<<4)]=16711935&(T<<8|T>>>24)|4278255360&(T<<24|T>>>8),_.sigBytes=4*(w.length+1),this._process();for(var x=this._hash,k=x.words,N=0;N<4;N++){var L=k[N];k[N]=16711935&(L<<8|L>>>24)|4278255360&(L<<24|L>>>8)}return x},clone:function(){var _=u.clone.call(this);return _._hash=this._hash.clone(),_}});function a(_,w,v,P,b,T,x){var k=_+(w&v|~w&P)+b+x;return(k<<T|k>>>32-T)+w}function d(_,w,v,P,b,T,x){var k=_+(w&P|v&~P)+b+x;return(k<<T|k>>>32-T)+w}function h(_,w,v,P,b,T,x){var k=_+(w^v^P)+b+x;return(k<<T|k>>>32-T)+w}function m(_,w,v,P,b,T,x){var k=_+(v^(w|~P))+b+x;return(k<<T|k>>>32-T)+w}o.MD5=u._createHelper(f),o.HmacMD5=u._createHmacHelper(f)}(Math),n.MD5)}),st(function(e,t){var n;e.exports=(n=qt,void function(){var r=n,o=r.lib.Base,s=r.enc.Utf8;r.algo.HMAC=o.extend({init:function(i,u){i=this._hasher=new i.init,typeof u=="string"&&(u=s.parse(u));var l=i.blockSize,c=4*l;u.sigBytes>c&&(u=i.finalize(u)),u.clamp();for(var f=this._oKey=u.clone(),a=this._iKey=u.clone(),d=f.words,h=a.words,m=0;m<l;m++)d[m]^=1549556828,h[m]^=909522486;f.sigBytes=a.sigBytes=c,this.reset()},reset:function(){var i=this._hasher;i.reset(),i.update(this._iKey)},update:function(i){return this._hasher.update(i),this},finalize:function(i){var u=this._hasher,l=u.finalize(i);return u.reset(),u.finalize(this._oKey.clone().concat(l))}})}())}),st(function(e,t){e.exports=qt.HmacMD5})),Mg=st(function(e,t){e.exports=qt.enc.Utf8}),Ug=st(function(e,t){var n;e.exports=(n=qt,function(){var r=n,o=r.lib.WordArray;function s(i,u,l){for(var c=[],f=0,a=0;a<u;a++)if(a%4){var d=l[i.charCodeAt(a-1)]<<a%4*2,h=l[i.charCodeAt(a)]>>>6-a%4*2;c[f>>>2]|=(d|h)<<24-f%4*8,f++}return o.create(c,f)}r.enc.Base64={stringify:function(i){var u=i.words,l=i.sigBytes,c=this._map;i.clamp();for(var f=[],a=0;a<l;a+=3)for(var d=(u[a>>>2]>>>24-a%4*8&255)<<16|(u[a+1>>>2]>>>24-(a+1)%4*8&255)<<8|u[a+2>>>2]>>>24-(a+2)%4*8&255,h=0;h<4&&a+.75*h<l;h++)f.push(c.charAt(d>>>6*(3-h)&63));var m=c.charAt(64);if(m)for(;f.length%4;)f.push(m);return f.join("")},parse:function(i){var u=i.length,l=this._map,c=this._reverseMap;if(!c){c=this._reverseMap=[];for(var f=0;f<l.length;f++)c[l.charCodeAt(f)]=f}var a=l.charAt(64);if(a){var d=i.indexOf(a);d!==-1&&(u=d)}return s(i,u,c)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),n.enc.Base64)});const xs="FUNCTION",Fg="OBJECT",qg="CLIENT_DB",ks="pending",Hg="fullfilled",Os="rejected";function ko(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function ua(e){return ko(e)==="object"}function la(e){return typeof e=="function"}function Kg(e){return function(){try{return e.apply(e,arguments)}catch(t){console.error(t)}}}const Cs="REJECTED",fa="NOT_PENDING";class Oo{constructor({createPromise:t,retryRule:n=Cs}={}){this.createPromise=t,this.status=null,this.promise=null,this.retryRule=n}get needRetry(){if(!this.status)return!0;switch(this.retryRule){case Cs:return this.status===Os;case fa:return this.status!==ks}}exec(){return this.needRetry?(this.status=ks,this.promise=this.createPromise().then(t=>(this.status=Hg,Promise.resolve(t)),t=>(this.status=Os,Promise.reject(t))),this.promise):this.promise}}function Co(e){return e&&typeof e=="string"?JSON.parse(e):e}const Vg=!0,Wg="mp-weixin",zg=Co([]),Et=Wg,Yg=Co(""),ha=Co("[]")||[];let Jg="";try{Jg="__UNI__DB81A15"}catch{}let ar={};function Pt(e,t={}){var n,r;return n=ar,r=e,Object.prototype.hasOwnProperty.call(n,r)||(ar[e]=t),ar[e]}const pa=["invoke","success","fail","complete"],Oe=Pt("_globalUniCloudInterceptor");function da(e,t){Oe[e]||(Oe[e]={}),ua(t)&&Object.keys(t).forEach(n=>{pa.indexOf(n)>-1&&function(r,o,s){let i=Oe[r][o];i||(i=Oe[r][o]=[]),i.indexOf(s)===-1&&la(s)&&i.push(s)}(e,n,t[n])})}function Gg(e,t){Oe[e]||(Oe[e]={}),ua(t)?Object.keys(t).forEach(n=>{pa.indexOf(n)>-1&&function(r,o,s){const i=Oe[r][o];if(!i)return;const u=i.indexOf(s);u>-1&&i.splice(u,1)}(e,n,t[n])}):delete Oe[e]}function de(e,t){return e&&e.length!==0?e.reduce((n,r)=>n.then(()=>r(t)),Promise.resolve()):Promise.resolve()}function ge(e,t){return Oe[e]&&Oe[e][t]||[]}function Xg(e){da("callObject",e)}const ur=Pt("_globalUniCloudListener"),Ce="response",At="needLogin",Ln="refreshToken",Is="clientdb",mn="cloudfunction",Rs="cloudobject";function nn(e){return ur[e]||(ur[e]=[]),ur[e]}function lr(e,t){const n=nn(e);n.includes(t)||n.push(t)}function fr(e,t){const n=nn(e),r=n.indexOf(t);r!==-1&&n.splice(r,1)}function ve(e,t){const n=nn(e);for(let r=0;r<n.length;r++)(0,n[r])(t)}let hr,pr=!1;function ga(){return hr||(hr=new Promise(e=>{pr&&e(),function t(){if(typeof getCurrentPages=="function"){const n=getCurrentPages();n&&n[0]&&(pr=!0,e())}pr||setTimeout(()=>{t()},30)}()}),hr)}function ma(e){const t={};for(const n in e){const r=e[n];la(r)&&(t[n]=Kg(r))}return t}class F extends Error{constructor(t){super(t.message),this.errMsg=t.message||t.errMsg||"unknown system error",this.code=this.errCode=t.code||t.errCode||"SYSTEM_ERROR",this.errSubject=this.subject=t.subject||t.errSubject,this.cause=t.cause,this.requestId=t.requestId}toJson(t=0){if(!(t>=10))return t++,{errCode:this.errCode,errMsg:this.errMsg,errSubject:this.errSubject,cause:this.cause&&this.cause.toJson?this.cause.toJson(t):this.cause}}}var pe={request:e=>z.request(e),uploadFile:e=>z.uploadFile(e),setStorageSync:(e,t)=>z.setStorageSync(e,t),getStorageSync:e=>z.getStorageSync(e),removeStorageSync:e=>z.removeStorageSync(e),clearStorageSync:()=>z.clearStorageSync()};function ya(e){return e&&ya(e.__v_raw)||e}function Gn(){return{token:pe.getStorageSync("uni_id_token")||pe.getStorageSync("uniIdToken"),tokenExpired:pe.getStorageSync("uni_id_token_expired")}}function _a({token:e,tokenExpired:t}={}){e&&pe.setStorageSync("uni_id_token",e),t&&pe.setStorageSync("uni_id_token_expired",t)}let dr,yn;function wa(){return dr||(dr=z.getSystemInfoSync()),dr}function Qg(){let e,t;try{if(z.getLaunchOptionsSync){if(z.getLaunchOptionsSync.toString().indexOf("not yet implemented")>-1)return;const{scene:n,channel:r}=z.getLaunchOptionsSync();e=r,t=n}}catch{}return{channel:e,scene:t}}function ba(){const e=z.getLocale&&z.getLocale()||"en";if(yn)return{...yn,locale:e,LOCALE:e};const t=wa(),{deviceId:n,osName:r,uniPlatform:o,appId:s}=t,i=["pixelRatio","brand","model","system","language","version","platform","host","SDKVersion","swanNativeVersion","app","AppPlatform","fontSizeSetting"];for(let u=0;u<i.length;u++)delete t[i[u]];return yn={PLATFORM:o,OS:r,APPID:s,DEVICEID:n,...Qg(),...t},{...yn,locale:e,LOCALE:e}}var Ut={sign:function(e,t){let n="";return Object.keys(e).sort().forEach(function(r){e[r]&&(n=n+"&"+r+"="+e[r])}),n=n.slice(1),jg(n,t).toString()},wrappedRequest:function(e,t){return new Promise((n,r)=>{t(Object.assign(e,{complete(o){o||(o={});const s=o.data&&o.data.header&&o.data.header["x-serverless-request-id"]||o.header&&o.header["request-id"];if(!o.statusCode||o.statusCode>=400)return r(new F({code:"SYS_ERR",message:o.errMsg||"request:fail",requestId:s}));const i=o.data;if(i.error)return r(new F({code:i.error.code,message:i.error.message,requestId:s}));i.result=i.data,i.requestId=s,delete i.data,n(i)}}))})},toBase64:function(e){return Ug.stringify(Mg.parse(e))}},Ls={"uniCloud.init.paramRequired":"{param} required","uniCloud.uploadFile.fileError":"filePath should be instance of File"};const{t:Zg}=bu({"zh-Hans":{"uniCloud.init.paramRequired":"缺少参数：{param}","uniCloud.uploadFile.fileError":"filePath应为File对象"},"zh-Hant":{"uniCloud.init.paramRequired":"缺少参数：{param}","uniCloud.uploadFile.fileError":"filePath应为File对象"},en:Ls,fr:{"uniCloud.init.paramRequired":"{param} required","uniCloud.uploadFile.fileError":"filePath should be instance of File"},es:{"uniCloud.init.paramRequired":"{param} required","uniCloud.uploadFile.fileError":"filePath should be instance of File"},ja:Ls},"zh-Hans");var va=class{constructor(e){["spaceId","clientSecret"].forEach(t=>{if(!Object.prototype.hasOwnProperty.call(e,t))throw new Error(Zg("uniCloud.init.paramRequired",{param:t}))}),this.config=Object.assign({},{endpoint:e.spaceId.indexOf("mp-")===0?"https://api.next.bspapp.com":"https://api.bspapp.com"},e),this.config.provider="aliyun",this.config.requestUrl=this.config.endpoint+"/client",this.config.envType=this.config.envType||"public",this.config.accessTokenKey="access_token_"+this.config.spaceId,this.adapter=pe,this._getAccessTokenPromiseHub=new Oo({createPromise:()=>this.requestAuth(this.setupRequest({method:"serverless.auth.user.anonymousAuthorize",params:"{}"},"auth")).then(t=>{if(!t.result||!t.result.accessToken)throw new F({code:"AUTH_FAILED",message:"获取accessToken失败"});this.setAccessToken(t.result.accessToken)}),retryRule:fa})}get hasAccessToken(){return!!this.accessToken}setAccessToken(e){this.accessToken=e}requestWrapped(e){return Ut.wrappedRequest(e,this.adapter.request)}requestAuth(e){return this.requestWrapped(e)}request(e,t){return Promise.resolve().then(()=>this.hasAccessToken?t?this.requestWrapped(e):this.requestWrapped(e).catch(n=>new Promise((r,o)=>{!n||n.code!=="GATEWAY_INVALID_TOKEN"&&n.code!=="InvalidParameter.InvalidToken"?o(n):r()}).then(()=>this.getAccessToken()).then(()=>{const r=this.rebuildRequest(e);return this.request(r,!0)})):this.getAccessToken().then(()=>{const n=this.rebuildRequest(e);return this.request(n,!0)}))}rebuildRequest(e){const t=Object.assign({},e);return t.data.token=this.accessToken,t.header["x-basement-token"]=this.accessToken,t.header["x-serverless-sign"]=Ut.sign(t.data,this.config.clientSecret),t}setupRequest(e,t){const n=Object.assign({},e,{spaceId:this.config.spaceId,timestamp:Date.now()}),r={"Content-Type":"application/json"};return t!=="auth"&&(n.token=this.accessToken,r["x-basement-token"]=this.accessToken),r["x-serverless-sign"]=Ut.sign(n,this.config.clientSecret),{url:this.config.requestUrl,method:"POST",data:n,dataType:"json",header:r}}getAccessToken(){return this._getAccessTokenPromiseHub.exec()}async authorize(){await this.getAccessToken()}callFunction(e){const t={method:"serverless.function.runtime.invoke",params:JSON.stringify({functionTarget:e.name,functionArgs:e.data||{}})};return this.request(this.setupRequest(t))}getOSSUploadOptionsFromPath(e){const t={method:"serverless.file.resource.generateProximalSign",params:JSON.stringify(e)};return this.request(this.setupRequest(t))}uploadFileToOSS({url:e,formData:t,name:n,filePath:r,fileType:o,onUploadProgress:s}){return new Promise((i,u)=>{const l=this.adapter.uploadFile({url:e,formData:t,name:n,filePath:r,fileType:o,header:{"X-OSS-server-side-encrpytion":"AES256"},success(c){c&&c.statusCode<400?i(c):u(new F({code:"UPLOAD_FAILED",message:"文件上传失败"}))},fail(c){u(new F({code:c.code||"UPLOAD_FAILED",message:c.message||c.errMsg||"文件上传失败"}))}});typeof s=="function"&&l&&typeof l.onProgressUpdate=="function"&&l.onProgressUpdate(c=>{s({loaded:c.totalBytesSent,total:c.totalBytesExpectedToSend})})})}reportOSSUpload(e){const t={method:"serverless.file.resource.report",params:JSON.stringify(e)};return this.request(this.setupRequest(t))}async uploadFile({filePath:e,cloudPath:t,fileType:n="image",onUploadProgress:r,config:o}){if(ko(t)!=="string")throw new F({code:"INVALID_PARAM",message:"cloudPath必须为字符串类型"});if(!(t=t.trim()))throw new F({code:"CLOUDPATH_REQUIRED",message:"cloudPath不可为空"});if(/:\/\//.test(t))throw new F({code:"INVALID_PARAM",message:"cloudPath不合法"});const s=o&&o.envType||this.config.envType,i=(await this.getOSSUploadOptionsFromPath({env:s,filename:t})).result,u="https://"+i.cdnDomain+"/"+i.ossPath,{securityToken:l,accessKeyId:c,signature:f,host:a,ossPath:d,id:h,policy:m,ossCallbackUrl:_}=i,w={"Cache-Control":"max-age=2592000","Content-Disposition":"attachment",OSSAccessKeyId:c,Signature:f,host:a,id:h,key:d,policy:m,success_action_status:200};if(l&&(w["x-oss-security-token"]=l),_){const P=JSON.stringify({callbackUrl:_,callbackBody:JSON.stringify({fileId:h,spaceId:this.config.spaceId}),callbackBodyType:"application/json"});w.callback=Ut.toBase64(P)}const v={url:"https://"+i.host,formData:w,fileName:"file",name:"file",filePath:e,fileType:n};if(await this.uploadFileToOSS(Object.assign({},v,{onUploadProgress:r})),_)return{success:!0,filePath:e,fileID:u};if((await this.reportOSSUpload({id:h})).success)return{success:!0,filePath:e,fileID:u};throw new F({code:"UPLOAD_FAILED",message:"文件上传失败"})}getTempFileURL({fileList:e}={}){return new Promise((t,n)=>{Array.isArray(e)&&e.length!==0||n(new F({code:"INVALID_PARAM",message:"fileList的元素必须是非空的字符串"})),t({fileList:e.map(r=>({fileID:r,tempFileURL:r}))})})}async getFileInfo({fileList:e}={}){if(!Array.isArray(e)||e.length===0)throw new F({code:"INVALID_PARAM",message:"fileList的元素必须是非空的字符串"});const t={method:"serverless.file.resource.info",params:JSON.stringify({id:e.map(n=>n.split("?")[0]).join(",")})};return{fileList:(await this.request(this.setupRequest(t))).result}}},em={init(e){const t=new va(e),n={signInAnonymously:function(){return t.authorize()},getLoginState:function(){return Promise.resolve(!1)}};return t.auth=function(){return n},t.customAuth=t.auth,t}};const tm=typeof location<"u"&&location.protocol==="http:"?"http:":"https:";var $s;(function(e){e.local="local",e.none="none",e.session="session"})($s||($s={}));var nm=function(){};const rn=()=>{let e;if(!Promise){e=()=>{},e.promise={};const n=()=>{throw new F({message:'Your Node runtime does support ES6 Promises. Set "global.Promise" to your preferred implementation of promises.'})};return Object.defineProperty(e.promise,"then",{get:n}),Object.defineProperty(e.promise,"catch",{get:n}),e}const t=new Promise((n,r)=>{e=(o,s)=>o?r(o):n(s)});return e.promise=t,e};function rm(e){return e===void 0}function om(e){return Object.prototype.toString.call(e)==="[object Null]"}var Ns;function sm(e){const t=(n=e,Object.prototype.toString.call(n)==="[object Array]"?e:[e]);var n;for(const r of t){const{isMatch:o,genAdapter:s,runtime:i}=r;if(o())return{adapter:s(),runtime:i}}}(function(e){e.WEB="web",e.WX_MP="wx_mp"})(Ns||(Ns={}));const he={adapter:null,runtime:void 0},im=["anonymousUuidKey"];class gr extends nm{constructor(){super(),he.adapter.root.tcbObject||(he.adapter.root.tcbObject={})}setItem(t,n){he.adapter.root.tcbObject[t]=n}getItem(t){return he.adapter.root.tcbObject[t]}removeItem(t){delete he.adapter.root.tcbObject[t]}clear(){delete he.adapter.root.tcbObject}}function Ds(e,t){switch(e){case"local":return t.localStorage||new gr;case"none":return new gr;default:return t.sessionStorage||new gr}}class Bs{constructor(t){if(!this._storage){this._persistence=he.adapter.primaryStorage||t.persistence,this._storage=Ds(this._persistence,he.adapter);const n=`access_token_${t.env}`,r=`access_token_expire_${t.env}`,o=`refresh_token_${t.env}`,s=`anonymous_uuid_${t.env}`,i=`login_type_${t.env}`,u=`user_info_${t.env}`;this.keys={accessTokenKey:n,accessTokenExpireKey:r,refreshTokenKey:o,anonymousUuidKey:s,loginTypeKey:i,userInfoKey:u}}}updatePersistence(t){if(t===this._persistence)return;const n=this._persistence==="local";this._persistence=t;const r=Ds(t,he.adapter);for(const o in this.keys){const s=this.keys[o];if(n&&im.includes(o))continue;const i=this._storage.getItem(s);rm(i)||om(i)||(r.setItem(s,i),this._storage.removeItem(s))}this._storage=r}setStore(t,n,r){if(!this._storage)return;const o={version:r||"localCachev1",content:n},s=JSON.stringify(o);try{this._storage.setItem(t,s)}catch(i){throw i}}getStore(t,n){try{if(!this._storage)return}catch{return""}n=n||"localCachev1";const r=this._storage.getItem(t);return r&&r.indexOf(n)>=0?JSON.parse(r).content:""}removeStore(t){this._storage.removeItem(t)}}const Ta={},Sa={};function on(e){return Ta[e]}class Ea{constructor(t,n){this.data=n||null,this.name=t}}class cm extends Ea{constructor(t,n){super("error",{error:t,data:n}),this.error=t}}const Io=new class{constructor(){this._listeners={}}on(e,t){return function(n,r,o){o[n]=o[n]||[],o[n].push(r)}(e,t,this._listeners),this}off(e,t){return function(n,r,o){if(o&&o[n]){const s=o[n].indexOf(r);s!==-1&&o[n].splice(s,1)}}(e,t,this._listeners),this}fire(e,t){if(e instanceof cm)return console.error(e.error),this;const n=typeof e=="string"?new Ea(e,t||{}):e,r=n.name;if(this._listens(r)){n.target=this;const o=this._listeners[r]?[...this._listeners[r]]:[];for(const s of o)s.call(this,n)}return this}_listens(e){return this._listeners[e]&&this._listeners[e].length>0}};function Me(e,t){Io.on(e,t)}function me(e,t={}){Io.fire(e,t)}function am(e,t){Io.off(e,t)}const xt="loginStateChanged",Pa="loginStateExpire",Ve="loginTypeChanged",Gr="anonymousConverted",Aa="refreshAccessToken";var ce;(function(e){e.ANONYMOUS="ANONYMOUS",e.WECHAT="WECHAT",e.WECHAT_PUBLIC="WECHAT-PUBLIC",e.WECHAT_OPEN="WECHAT-OPEN",e.CUSTOM="CUSTOM",e.EMAIL="EMAIL",e.USERNAME="USERNAME",e.NULL="NULL"})(ce||(ce={}));const js=["auth.getJwt","auth.logout","auth.signInWithTicket","auth.signInAnonymously","auth.signIn","auth.fetchAccessTokenWithRefreshToken","auth.signUpWithEmailAndPassword","auth.activateEndUserMail","auth.sendPasswordResetEmail","auth.resetPasswordWithToken","auth.isUsernameRegistered"],um={"X-SDK-Version":"1.3.5"};function mr(e,t,n){const r=e[t];e[t]=function(o){const s={},i={};n.forEach(l=>{const{data:c,headers:f}=l.call(e,o);Object.assign(s,c),Object.assign(i,f)});const u=o.data;return u&&(()=>{var l;if(l=u,Object.prototype.toString.call(l)!=="[object FormData]")o.data={...u,...s};else for(const c in s)u.append(c,s[c])})(),o.headers={...o.headers||{},...i},r.call(e,o)}}function yr(){const e=Math.random().toString(16).slice(2);return{data:{seqId:e},headers:{...um,"x-seqid":e}}}class lm{constructor(t={}){var n;this.config=t,this._reqClass=new he.adapter.reqClass({timeout:this.config.timeout,timeoutMsg:`请求在${this.config.timeout/1e3}s内未完成，已中断`,restrictedMethods:["post"]}),this._cache=on(this.config.env),this._localCache=(n=this.config.env,Sa[n]),mr(this._reqClass,"post",[yr]),mr(this._reqClass,"upload",[yr]),mr(this._reqClass,"download",[yr])}async post(t){return await this._reqClass.post(t)}async upload(t){return await this._reqClass.upload(t)}async download(t){return await this._reqClass.download(t)}async refreshAccessToken(){let t,n;this._refreshAccessTokenPromise||(this._refreshAccessTokenPromise=this._refreshAccessToken());try{t=await this._refreshAccessTokenPromise}catch(r){n=r}if(this._refreshAccessTokenPromise=null,this._shouldRefreshAccessTokenHook=null,n)throw n;return t}async _refreshAccessToken(){const{accessTokenKey:t,accessTokenExpireKey:n,refreshTokenKey:r,loginTypeKey:o,anonymousUuidKey:s}=this._cache.keys;this._cache.removeStore(t),this._cache.removeStore(n);let i=this._cache.getStore(r);if(!i)throw new F({message:"未登录CloudBase"});const u={refresh_token:i},l=await this.request("auth.fetchAccessTokenWithRefreshToken",u);if(l.data.code){const{code:c}=l.data;if(c==="SIGN_PARAM_INVALID"||c==="REFRESH_TOKEN_EXPIRED"||c==="INVALID_REFRESH_TOKEN"){if(this._cache.getStore(o)===ce.ANONYMOUS&&c==="INVALID_REFRESH_TOKEN"){const f=this._cache.getStore(s),a=this._cache.getStore(r),d=await this.send("auth.signInAnonymously",{anonymous_uuid:f,refresh_token:a});return this.setRefreshToken(d.refresh_token),this._refreshAccessToken()}me(Pa),this._cache.removeStore(r)}throw new F({code:l.data.code,message:`刷新access token失败：${l.data.code}`})}if(l.data.access_token)return me(Aa),this._cache.setStore(t,l.data.access_token),this._cache.setStore(n,l.data.access_token_expire+Date.now()),{accessToken:l.data.access_token,accessTokenExpire:l.data.access_token_expire};l.data.refresh_token&&(this._cache.removeStore(r),this._cache.setStore(r,l.data.refresh_token),this._refreshAccessToken())}async getAccessToken(){const{accessTokenKey:t,accessTokenExpireKey:n,refreshTokenKey:r}=this._cache.keys;if(!this._cache.getStore(r))throw new F({message:"refresh token不存在，登录状态异常"});let o=this._cache.getStore(t),s=this._cache.getStore(n),i=!0;return this._shouldRefreshAccessTokenHook&&!await this._shouldRefreshAccessTokenHook(o,s)&&(i=!1),(!o||!s||s<Date.now())&&i?this.refreshAccessToken():{accessToken:o,accessTokenExpire:s}}async request(t,n,r){const o=`x-tcb-trace_${this.config.env}`;let s="application/x-www-form-urlencoded";const i={action:t,env:this.config.env,dataVersion:"2019-08-16",...n};if(js.indexOf(t)===-1){const{refreshTokenKey:v}=this._cache.keys;this._cache.getStore(v)&&(i.access_token=(await this.getAccessToken()).accessToken)}let u;if(t==="storage.uploadFile"){u=new FormData;for(let v in u)u.hasOwnProperty(v)&&u[v]!==void 0&&u.append(v,i[v]);s="multipart/form-data"}else{s="application/json",u={};for(let v in i)i[v]!==void 0&&(u[v]=i[v])}let l={headers:{"content-type":s}};r&&r.onUploadProgress&&(l.onUploadProgress=r.onUploadProgress);const c=this._localCache.getStore(o);c&&(l.headers["X-TCB-Trace"]=c);const{parse:f,inQuery:a,search:d}=n;let h={env:this.config.env};f&&(h.parse=!0),a&&(h={...a,...h});let m=function(v,P,b={}){const T=/\?/.test(P);let x="";for(let k in b)x===""?!T&&(P+="?"):x+="&",x+=`${k}=${encodeURIComponent(b[k])}`;return/^http(s)?\:\/\//.test(P+=x)?P:`${v}${P}`}(tm,"//tcb-api.tencentcloudapi.com/web",h);d&&(m+=d);const _=await this.post({url:m,data:u,...l}),w=_.header&&_.header["x-tcb-trace"];if(w&&this._localCache.setStore(o,w),Number(_.status)!==200&&Number(_.statusCode)!==200||!_.data)throw new F({code:"NETWORK_ERROR",message:"network request error"});return _}async send(t,n={}){const r=await this.request(t,n,{onUploadProgress:n.onUploadProgress});if(r.data.code==="ACCESS_TOKEN_EXPIRED"&&js.indexOf(t)===-1){await this.refreshAccessToken();const o=await this.request(t,n,{onUploadProgress:n.onUploadProgress});if(o.data.code)throw new F({code:o.data.code,message:o.data.message});return o.data}if(r.data.code)throw new F({code:r.data.code,message:r.data.message});return r.data}setRefreshToken(t){const{accessTokenKey:n,accessTokenExpireKey:r,refreshTokenKey:o}=this._cache.keys;this._cache.removeStore(n),this._cache.removeStore(r),this._cache.setStore(o,t)}}const xa={};function Ne(e){return xa[e]}class Xn{constructor(t){this.config=t,this._cache=on(t.env),this._request=Ne(t.env)}setRefreshToken(t){const{accessTokenKey:n,accessTokenExpireKey:r,refreshTokenKey:o}=this._cache.keys;this._cache.removeStore(n),this._cache.removeStore(r),this._cache.setStore(o,t)}setAccessToken(t,n){const{accessTokenKey:r,accessTokenExpireKey:o}=this._cache.keys;this._cache.setStore(r,t),this._cache.setStore(o,n)}async refreshUserInfo(){const{data:t}=await this._request.send("auth.getUserInfo",{});return this.setLocalUserInfo(t),t}setLocalUserInfo(t){const{userInfoKey:n}=this._cache.keys;this._cache.setStore(n,t)}}class fm{constructor(t){if(!t)throw new F({code:"PARAM_ERROR",message:"envId is not defined"});this._envId=t,this._cache=on(this._envId),this._request=Ne(this._envId),this.setUserInfo()}linkWithTicket(t){if(typeof t!="string")throw new F({code:"PARAM_ERROR",message:"ticket must be string"});return this._request.send("auth.linkWithTicket",{ticket:t})}linkWithRedirect(t){t.signInWithRedirect()}updatePassword(t,n){return this._request.send("auth.updatePassword",{oldPassword:n,newPassword:t})}updateEmail(t){return this._request.send("auth.updateEmail",{newEmail:t})}updateUsername(t){if(typeof t!="string")throw new F({code:"PARAM_ERROR",message:"username must be a string"});return this._request.send("auth.updateUsername",{username:t})}async getLinkedUidList(){const{data:t}=await this._request.send("auth.getLinkedUidList",{});let n=!1;const{users:r}=t;return r.forEach(o=>{o.wxOpenId&&o.wxPublicId&&(n=!0)}),{users:r,hasPrimaryUid:n}}setPrimaryUid(t){return this._request.send("auth.setPrimaryUid",{uid:t})}unlink(t){return this._request.send("auth.unlink",{platform:t})}async update(t){const{nickName:n,gender:r,avatarUrl:o,province:s,country:i,city:u}=t,{data:l}=await this._request.send("auth.updateUserInfo",{nickName:n,gender:r,avatarUrl:o,province:s,country:i,city:u});this.setLocalUserInfo(l)}async refresh(){const{data:t}=await this._request.send("auth.getUserInfo",{});return this.setLocalUserInfo(t),t}setUserInfo(){const{userInfoKey:t}=this._cache.keys,n=this._cache.getStore(t);["uid","loginType","openid","wxOpenId","wxPublicId","unionId","qqMiniOpenId","email","hasPassword","customUserId","nickName","gender","avatarUrl"].forEach(r=>{this[r]=n[r]}),this.location={country:n.country,province:n.province,city:n.city}}setLocalUserInfo(t){const{userInfoKey:n}=this._cache.keys;this._cache.setStore(n,t),this.setUserInfo()}}class sn{constructor(t){if(!t)throw new F({code:"PARAM_ERROR",message:"envId is not defined"});this._cache=on(t);const{refreshTokenKey:n,accessTokenKey:r,accessTokenExpireKey:o}=this._cache.keys,s=this._cache.getStore(n),i=this._cache.getStore(r),u=this._cache.getStore(o);this.credential={refreshToken:s,accessToken:i,accessTokenExpire:u},this.user=new fm(t)}get isAnonymousAuth(){return this.loginType===ce.ANONYMOUS}get isCustomAuth(){return this.loginType===ce.CUSTOM}get isWeixinAuth(){return this.loginType===ce.WECHAT||this.loginType===ce.WECHAT_OPEN||this.loginType===ce.WECHAT_PUBLIC}get loginType(){return this._cache.getStore(this._cache.keys.loginTypeKey)}}class _r extends Xn{async signIn(){this._cache.updatePersistence("local");const{anonymousUuidKey:t,refreshTokenKey:n}=this._cache.keys,r=this._cache.getStore(t)||void 0,o=this._cache.getStore(n)||void 0,s=await this._request.send("auth.signInAnonymously",{anonymous_uuid:r,refresh_token:o});if(s.uuid&&s.refresh_token){this._setAnonymousUUID(s.uuid),this.setRefreshToken(s.refresh_token),await this._request.refreshAccessToken(),me(xt),me(Ve,{env:this.config.env,loginType:ce.ANONYMOUS,persistence:"local"});const i=new sn(this.config.env);return await i.user.refresh(),i}throw new F({message:"匿名登录失败"})}async linkAndRetrieveDataWithTicket(t){const{anonymousUuidKey:n,refreshTokenKey:r}=this._cache.keys,o=this._cache.getStore(n),s=this._cache.getStore(r),i=await this._request.send("auth.linkAndRetrieveDataWithTicket",{anonymous_uuid:o,refresh_token:s,ticket:t});if(i.refresh_token)return this._clearAnonymousUUID(),this.setRefreshToken(i.refresh_token),await this._request.refreshAccessToken(),me(Gr,{env:this.config.env}),me(Ve,{loginType:ce.CUSTOM,persistence:"local"}),{credential:{refreshToken:i.refresh_token}};throw new F({message:"匿名转化失败"})}_setAnonymousUUID(t){const{anonymousUuidKey:n,loginTypeKey:r}=this._cache.keys;this._cache.removeStore(n),this._cache.setStore(n,t),this._cache.setStore(r,ce.ANONYMOUS)}_clearAnonymousUUID(){this._cache.removeStore(this._cache.keys.anonymousUuidKey)}}class Ms extends Xn{async signIn(t){if(typeof t!="string")throw new F({code:"PARAM_ERROR",message:"ticket must be a string"});const{refreshTokenKey:n}=this._cache.keys,r=await this._request.send("auth.signInWithTicket",{ticket:t,refresh_token:this._cache.getStore(n)||""});if(r.refresh_token)return this.setRefreshToken(r.refresh_token),await this._request.refreshAccessToken(),me(xt),me(Ve,{env:this.config.env,loginType:ce.CUSTOM,persistence:this.config.persistence}),await this.refreshUserInfo(),new sn(this.config.env);throw new F({message:"自定义登录失败"})}}class Us extends Xn{async signIn(t,n){if(typeof t!="string")throw new F({code:"PARAM_ERROR",message:"email must be a string"});const{refreshTokenKey:r}=this._cache.keys,o=await this._request.send("auth.signIn",{loginType:"EMAIL",email:t,password:n,refresh_token:this._cache.getStore(r)||""}),{refresh_token:s,access_token:i,access_token_expire:u}=o;if(s)return this.setRefreshToken(s),i&&u?this.setAccessToken(i,u):await this._request.refreshAccessToken(),await this.refreshUserInfo(),me(xt),me(Ve,{env:this.config.env,loginType:ce.EMAIL,persistence:this.config.persistence}),new sn(this.config.env);throw o.code?new F({code:o.code,message:`邮箱登录失败: ${o.message}`}):new F({message:"邮箱登录失败"})}async activate(t){return this._request.send("auth.activateEndUserMail",{token:t})}async resetPasswordWithToken(t,n){return this._request.send("auth.resetPasswordWithToken",{token:t,newPassword:n})}}class Fs extends Xn{async signIn(t,n){if(typeof t!="string")throw new F({code:"PARAM_ERROR",message:"username must be a string"});typeof n!="string"&&(n="",console.warn("password is empty"));const{refreshTokenKey:r}=this._cache.keys,o=await this._request.send("auth.signIn",{loginType:ce.USERNAME,username:t,password:n,refresh_token:this._cache.getStore(r)||""}),{refresh_token:s,access_token_expire:i,access_token:u}=o;if(s)return this.setRefreshToken(s),u&&i?this.setAccessToken(u,i):await this._request.refreshAccessToken(),await this.refreshUserInfo(),me(xt),me(Ve,{env:this.config.env,loginType:ce.USERNAME,persistence:this.config.persistence}),new sn(this.config.env);throw o.code?new F({code:o.code,message:`用户名密码登录失败: ${o.message}`}):new F({message:"用户名密码登录失败"})}}class hm{constructor(t){this.config=t,this._cache=on(t.env),this._request=Ne(t.env),this._onAnonymousConverted=this._onAnonymousConverted.bind(this),this._onLoginTypeChanged=this._onLoginTypeChanged.bind(this),Me(Ve,this._onLoginTypeChanged)}get currentUser(){const t=this.hasLoginState();return t&&t.user||null}get loginType(){return this._cache.getStore(this._cache.keys.loginTypeKey)}anonymousAuthProvider(){return new _r(this.config)}customAuthProvider(){return new Ms(this.config)}emailAuthProvider(){return new Us(this.config)}usernameAuthProvider(){return new Fs(this.config)}async signInAnonymously(){return new _r(this.config).signIn()}async signInWithEmailAndPassword(t,n){return new Us(this.config).signIn(t,n)}signInWithUsernameAndPassword(t,n){return new Fs(this.config).signIn(t,n)}async linkAndRetrieveDataWithTicket(t){return this._anonymousAuthProvider||(this._anonymousAuthProvider=new _r(this.config)),Me(Gr,this._onAnonymousConverted),await this._anonymousAuthProvider.linkAndRetrieveDataWithTicket(t)}async signOut(){if(this.loginType===ce.ANONYMOUS)throw new F({message:"匿名用户不支持登出操作"});const{refreshTokenKey:t,accessTokenKey:n,accessTokenExpireKey:r}=this._cache.keys,o=this._cache.getStore(t);if(!o)return;const s=await this._request.send("auth.logout",{refresh_token:o});return this._cache.removeStore(t),this._cache.removeStore(n),this._cache.removeStore(r),me(xt),me(Ve,{env:this.config.env,loginType:ce.NULL,persistence:this.config.persistence}),s}async signUpWithEmailAndPassword(t,n){return this._request.send("auth.signUpWithEmailAndPassword",{email:t,password:n})}async sendPasswordResetEmail(t){return this._request.send("auth.sendPasswordResetEmail",{email:t})}onLoginStateChanged(t){Me(xt,()=>{const r=this.hasLoginState();t.call(this,r)});const n=this.hasLoginState();t.call(this,n)}onLoginStateExpired(t){Me(Pa,t.bind(this))}onAccessTokenRefreshed(t){Me(Aa,t.bind(this))}onAnonymousConverted(t){Me(Gr,t.bind(this))}onLoginTypeChanged(t){Me(Ve,()=>{const n=this.hasLoginState();t.call(this,n)})}async getAccessToken(){return{accessToken:(await this._request.getAccessToken()).accessToken,env:this.config.env}}hasLoginState(){const{refreshTokenKey:t}=this._cache.keys;return this._cache.getStore(t)?new sn(this.config.env):null}async isUsernameRegistered(t){if(typeof t!="string")throw new F({code:"PARAM_ERROR",message:"username must be a string"});const{data:n}=await this._request.send("auth.isUsernameRegistered",{username:t});return n&&n.isRegistered}getLoginState(){return Promise.resolve(this.hasLoginState())}async signInWithTicket(t){return new Ms(this.config).signIn(t)}shouldRefreshAccessToken(t){this._request._shouldRefreshAccessTokenHook=t.bind(this)}getUserInfo(){return this._request.send("auth.getUserInfo",{}).then(t=>t.code?t:{...t.data,requestId:t.seqId})}getAuthHeader(){const{refreshTokenKey:t,accessTokenKey:n}=this._cache.keys,r=this._cache.getStore(t);return{"x-cloudbase-credentials":this._cache.getStore(n)+"/@@/"+r}}_onAnonymousConverted(t){const{env:n}=t.data;n===this.config.env&&this._cache.updatePersistence(this.config.persistence)}_onLoginTypeChanged(t){const{loginType:n,persistence:r,env:o}=t.data;o===this.config.env&&(this._cache.updatePersistence(r),this._cache.setStore(this._cache.keys.loginTypeKey,n))}}const pm=function(e,t){t=t||rn();const n=Ne(this.config.env),{cloudPath:r,filePath:o,onUploadProgress:s,fileType:i="image"}=e;return n.send("storage.getUploadMetadata",{path:r}).then(u=>{const{data:{url:l,authorization:c,token:f,fileId:a,cosFileId:d},requestId:h}=u,m={key:r,signature:c,"x-cos-meta-fileid":d,success_action_status:"201","x-cos-security-token":f};n.upload({url:l,data:m,file:o,name:r,fileType:i,onUploadProgress:s}).then(_=>{_.statusCode===201?t(null,{fileID:a,requestId:h}):t(new F({code:"STORAGE_REQUEST_FAIL",message:`STORAGE_REQUEST_FAIL: ${_.data}`}))}).catch(_=>{t(_)})}).catch(u=>{t(u)}),t.promise},dm=function(e,t){t=t||rn();const n=Ne(this.config.env),{cloudPath:r}=e;return n.send("storage.getUploadMetadata",{path:r}).then(o=>{t(null,o)}).catch(o=>{t(o)}),t.promise},gm=function({fileList:e},t){if(t=t||rn(),!e||!Array.isArray(e))return{code:"INVALID_PARAM",message:"fileList必须是非空的数组"};for(let r of e)if(!r||typeof r!="string")return{code:"INVALID_PARAM",message:"fileList的元素必须是非空的字符串"};const n={fileid_list:e};return Ne(this.config.env).send("storage.batchDeleteFile",n).then(r=>{r.code?t(null,r):t(null,{fileList:r.data.delete_list,requestId:r.requestId})}).catch(r=>{t(r)}),t.promise},ka=function({fileList:e},t){t=t||rn(),e&&Array.isArray(e)||t(null,{code:"INVALID_PARAM",message:"fileList必须是非空的数组"});let n=[];for(let o of e)typeof o=="object"?(o.hasOwnProperty("fileID")&&o.hasOwnProperty("maxAge")||t(null,{code:"INVALID_PARAM",message:"fileList的元素必须是包含fileID和maxAge的对象"}),n.push({fileid:o.fileID,max_age:o.maxAge})):typeof o=="string"?n.push({fileid:o}):t(null,{code:"INVALID_PARAM",message:"fileList的元素必须是字符串"});const r={file_list:n};return Ne(this.config.env).send("storage.batchGetDownloadUrl",r).then(o=>{o.code?t(null,o):t(null,{fileList:o.data.download_list,requestId:o.requestId})}).catch(o=>{t(o)}),t.promise},mm=async function({fileID:e},t){const n=(await ka.call(this,{fileList:[{fileID:e,maxAge:600}]})).fileList[0];if(n.code!=="SUCCESS")return t?t(n):new Promise(s=>{s(n)});const r=Ne(this.config.env);let o=n.download_url;if(o=encodeURI(o),!t)return r.download({url:o});t(await r.download({url:o}))},ym=function({name:e,data:t,query:n,parse:r,search:o},s){const i=s||rn();let u;try{u=t?JSON.stringify(t):""}catch(c){return Promise.reject(c)}if(!e)return Promise.reject(new F({code:"PARAM_ERROR",message:"函数名不能为空"}));const l={inQuery:n,parse:r,search:o,function_name:e,request_data:u};return Ne(this.config.env).send("functions.invokeFunction",l).then(c=>{if(c.code)i(null,c);else{let f=c.data.response_data;if(r)i(null,{result:f,requestId:c.requestId});else try{f=JSON.parse(c.data.response_data),i(null,{result:f,requestId:c.requestId})}catch{i(new F({message:"response data must be json"}))}}return i.promise}).catch(c=>{i(c)}),i.promise},qs={timeout:15e3,persistence:"session"},Hs={};class Ro{constructor(t){this.config=t||this.config,this.authObj=void 0}init(t){switch(he.adapter||(this.requestClient=new he.adapter.reqClass({timeout:t.timeout||5e3,timeoutMsg:`请求在${(t.timeout||5e3)/1e3}s内未完成，已中断`})),this.config={...qs,...t},!0){case this.config.timeout>6e5:console.warn("timeout大于可配置上限[10分钟]，已重置为上限数值"),this.config.timeout=6e5;break;case this.config.timeout<100:console.warn("timeout小于可配置下限[100ms]，已重置为下限数值"),this.config.timeout=100}return new Ro(this.config)}auth({persistence:t}={}){if(this.authObj)return this.authObj;const n=t||he.adapter.primaryStorage||qs.persistence;var r;return n!==this.config.persistence&&(this.config.persistence=n),function(o){const{env:s}=o;Ta[s]=new Bs(o),Sa[s]=new Bs({...o,persistence:"local"})}(this.config),r=this.config,xa[r.env]=new lm(r),this.authObj=new hm(this.config),this.authObj}on(t,n){return Me.apply(this,[t,n])}off(t,n){return am.apply(this,[t,n])}callFunction(t,n){return ym.apply(this,[t,n])}deleteFile(t,n){return gm.apply(this,[t,n])}getTempFileURL(t,n){return ka.apply(this,[t,n])}downloadFile(t,n){return mm.apply(this,[t,n])}uploadFile(t,n){return pm.apply(this,[t,n])}getUploadMetadata(t,n){return dm.apply(this,[t,n])}registerExtension(t){Hs[t.name]=t}async invokeExtension(t,n){const r=Hs[t];if(!r)throw new F({message:`扩展${t} 必须先注册`});return await r.invoke(n,this)}useAdapters(t){const{adapter:n,runtime:r}=sm(t)||{};n&&(he.adapter=n),r&&(he.runtime=r)}}var Oa=new Ro;function Ks(e,t,n){n===void 0&&(n={});var r=/\?/.test(t),o="";for(var s in n)o===""?!r&&(t+="?"):o+="&",o+=s+"="+encodeURIComponent(n[s]);return/^http(s)?:\/\//.test(t+=o)?t:""+e+t}class _m{post(t){const{url:n,data:r,headers:o}=t;return new Promise((s,i)=>{pe.request({url:Ks("https:",n),data:r,method:"POST",header:o,success(u){s(u)},fail(u){i(u)}})})}upload(t){return new Promise((n,r)=>{const{url:o,file:s,data:i,headers:u,fileType:l}=t,c=pe.uploadFile({url:Ks("https:",o),name:"file",formData:Object.assign({},i),filePath:s,fileType:l,header:u,success(f){const a={statusCode:f.statusCode,data:f.data||{}};f.statusCode===200&&i.success_action_status&&(a.statusCode=parseInt(i.success_action_status,10)),n(a)},fail(f){r(new Error(f.errMsg||"uploadFile:fail"))}});typeof t.onUploadProgress=="function"&&c&&typeof c.onProgressUpdate=="function"&&c.onProgressUpdate(f=>{t.onUploadProgress({loaded:f.totalBytesSent,total:f.totalBytesExpectedToSend})})})}}const wm={setItem(e,t){pe.setStorageSync(e,t)},getItem:e=>pe.getStorageSync(e),removeItem(e){pe.removeStorageSync(e)},clear(){pe.clearStorageSync()}};var bm={genAdapter:function(){return{root:{},reqClass:_m,localStorage:wm,primaryStorage:"local"}},isMatch:function(){return!0},runtime:"uni_app"};Oa.useAdapters(bm);const Lo=Oa,vm=Lo.init;Lo.init=function(e){e.env=e.spaceId;const t=vm.call(this,e);t.config.provider="tencent",t.config.spaceId=e.spaceId;const n=t.auth;return t.auth=function(r){const o=n.call(this,r);return["linkAndRetrieveDataWithTicket","signInAnonymously","signOut","getAccessToken","getLoginState","signInWithTicket","getUserInfo"].forEach(s=>{var i;o[s]=(i=o[s],function(u){u=u||{};const{success:l,fail:c,complete:f}=ma(u);if(!(l||c||f))return i.call(this,u);i.call(this,u).then(a=>{l&&l(a),f&&f(a)},a=>{c&&c(a),f&&f(a)})}).bind(o)}),o},t.customAuth=t.auth,t};var Vs=Lo,Tm=class extends va{getAccessToken(){return new Promise((e,t)=>{const n="Anonymous_Access_token";this.setAccessToken(n),e(n)})}setupRequest(e,t){const n=Object.assign({},e,{spaceId:this.config.spaceId,timestamp:Date.now()}),r={"Content-Type":"application/json"};t!=="auth"&&(n.token=this.accessToken,r["x-basement-token"]=this.accessToken),r["x-serverless-sign"]=Ut.sign(n,this.config.clientSecret);const o=ba();r["x-client-info"]=encodeURIComponent(JSON.stringify(o));const{token:s}=Gn();return r["x-client-token"]=s,{url:this.config.requestUrl,method:"POST",data:n,dataType:"json",header:JSON.parse(JSON.stringify(r))}}uploadFileToOSS({url:e,formData:t,name:n,filePath:r,fileType:o,onUploadProgress:s}){return new Promise((i,u)=>{const l=this.adapter.uploadFile({url:e,formData:t,name:n,filePath:r,fileType:o,success(c){c&&c.statusCode<400?i(c):u(new F({code:"UPLOAD_FAILED",message:"文件上传失败"}))},fail(c){u(new F({code:c.code||"UPLOAD_FAILED",message:c.message||c.errMsg||"文件上传失败"}))}});typeof s=="function"&&l&&typeof l.onProgressUpdate=="function"&&l.onProgressUpdate(c=>{s({loaded:c.totalBytesSent,total:c.totalBytesExpectedToSend})})})}uploadFile({filePath:e,cloudPath:t,fileType:n="image",onUploadProgress:r}){if(!t)throw new F({code:"CLOUDPATH_REQUIRED",message:"cloudPath不可为空"});let o;return this.getOSSUploadOptionsFromPath({cloudPath:t}).then(s=>{const{url:i,formData:u,name:l}=s.result;o=s.result.fileUrl;const c={url:i,formData:u,name:l,filePath:e,fileType:n};return this.uploadFileToOSS(Object.assign({},c,{onUploadProgress:r}))}).then(()=>this.reportOSSUpload({cloudPath:t})).then(s=>new Promise((i,u)=>{s.success?i({success:!0,filePath:e,fileID:o}):u(new F({code:"UPLOAD_FAILED",message:"文件上传失败"}))}))}deleteFile({fileList:e}){const t={method:"serverless.file.resource.delete",params:JSON.stringify({fileList:e})};return this.request(this.setupRequest(t)).then(n=>{if(n.success)return n.result;throw new F({code:"DELETE_FILE_FAILED",message:"删除文件失败"})})}getTempFileURL({fileList:e}={}){if(!Array.isArray(e)||e.length===0)throw new F({code:"INVALID_PARAM",message:"fileList的元素必须是非空的字符串"});const t={method:"serverless.file.resource.getTempFileURL",params:JSON.stringify({fileList:e})};return this.request(this.setupRequest(t)).then(n=>{if(n.success)return{fileList:n.result.fileList.map(r=>({fileID:r.fileID,tempFileURL:r.tempFileURL}))};throw new F({code:"GET_TEMP_FILE_URL_FAILED",message:"获取临时文件链接失败"})})}},Sm={init(e){const t=new Tm(e),n={signInAnonymously:function(){return t.authorize()},getLoginState:function(){return Promise.resolve(!1)}};return t.auth=function(){return n},t.customAuth=t.auth,t}};function Ca({data:e}){let t;t=ba();const n=JSON.parse(JSON.stringify(e||{}));if(Object.assign(n,{clientInfo:t}),!n.uniIdToken){const{token:r}=Gn();r&&(n.uniIdToken=r)}return n}async function Ws({name:e,data:t}={}){await this.__dev__.initLocalNetwork();const{localAddress:n,localPort:r}=this.__dev__,o={aliyun:"aliyun",tencent:"tcb"}[this.config.provider],s=this.config.spaceId,i=`http://${n}:${r}/system/check-function`,u=`http://${n}:${r}/cloudfunctions/${e}`;return new Promise((l,c)=>{pe.request({method:"POST",url:i,data:{name:e,platform:Et,provider:o,spaceId:s},timeout:3e3,success(f){l(f)},fail(){l({data:{code:"NETWORK_ERROR",message:"连接本地调试服务失败，请检查客户端是否和主机在同一局域网下，自动切换为已部署的云函数。"}})}})}).then(({data:l}={})=>{const{code:c,message:f}=l||{};return{code:c===0?0:c||"SYS_ERR",message:f||"SYS_ERR"}}).then(({code:l,message:c})=>{if(l!==0){switch(l){case"MODULE_ENCRYPTED":console.error(`此云函数（${e}）依赖加密公共模块不可本地调试，自动切换为云端已部署的云函数`);break;case"FUNCTION_ENCRYPTED":console.error(`此云函数（${e}）已加密不可本地调试，自动切换为云端已部署的云函数`);break;case"ACTION_ENCRYPTED":console.error(c||"需要访问加密的uni-clientDB-action，自动切换为云端环境");break;case"NETWORK_ERROR":{const f="连接本地调试服务失败，请检查客户端是否和主机在同一局域网下";throw console.error(f),new Error(f)}case"SWITCH_TO_CLOUD":break;default:{const f=`检测本地调试服务出现错误：${c}，请检查网络环境或重启客户端再试`;throw console.error(f),new Error(f)}}return this._callCloudFunction({name:e,data:t})}return new Promise((f,a)=>{const d=Ca.call(this,{data:t});pe.request({method:"POST",url:u,data:{provider:o,platform:Et,param:d},success:({statusCode:h,data:m}={})=>!h||h>=400?a(new F({code:m.code||"SYS_ERR",message:m.message||"request:fail"})):f({result:m}),fail(h){a(new F({code:h.code||h.errCode||"SYS_ERR",message:h.message||h.errMsg||"request:fail"}))}})})})}const Em=[{rule:/fc_function_not_found|FUNCTION_NOT_FOUND/,content:"，云函数[{functionName}]在云端不存在，请检查此云函数名称是否正确以及该云函数是否已上传到服务空间",mode:"append"}];var Ia=/[\\^$.*+?()[\]{}|]/g,Pm=RegExp(Ia.source);function zs(e,t,n){return e.replace(new RegExp((r=t)&&Pm.test(r)?r.replace(Ia,"\\$&"):r,"g"),n);var r}const Am="request",xm="response",km="both",Om={code:2e4,message:"System error"},Cm={code:20101,message:"Invalid client"};function Ra(e){const{errSubject:t,subject:n,errCode:r,errMsg:o,code:s,message:i,cause:u}=e||{};return new F({subject:t||n||"uni-secure-network",code:r||s||Om.code,message:o||i,cause:u})}let Xr;function Ys({secretType:e}={}){return e===Am||e===xm||e===km}function Js({name:e,data:t={}}={}){return Et==="app"}function Im({provider:e,spaceId:t,functionName:n}={}){const{appId:r,uniPlatform:o,osName:s}=wa();let i=o;o==="app"&&(i=s);const u=function({provider:a,spaceId:d}={}){const h=zg;if(!h)return{};a=function(_){return _==="tencent"?"tcb":_}(a);const m=h.find(_=>_.provider===a&&_.spaceId===d);return m&&m.config}({provider:e,spaceId:t});if(!u||!u.accessControl||!u.accessControl.enable)return!1;const l=u.accessControl.function||{},c=Object.keys(l);if(c.length===0)return!0;const f=function(a,d){let h,m,_;for(let w=0;w<a.length;w++){const v=a[w];v!==d?v!=="*"?v.split(",").map(P=>P.trim()).indexOf(d)>-1&&(m=v):_=v:h=v}return h||m||_}(c,n);if(!f)return!1;if((l[f]||[]).find((a={})=>a.appId===r&&(a.platform||"").toLowerCase()===i.toLowerCase()))return!0;throw console.error(`此应用[appId: ${r}, platform: ${i}]不在云端配置的允许访问的应用列表内，参考：https://uniapp.dcloud.net.cn/uniCloud/secure-network.html#verify-client`),Ra(Cm)}function Gs({functionName:e,result:t,logPvd:n}){if(this.__dev__.debugLog&&t&&t.requestId){const r=JSON.stringify({spaceId:this.config.spaceId,functionName:e,requestId:t.requestId});console.log(`[${n}-request]${r}[/${n}-request]`)}}function Rm(e){const t=e.callFunction,n=function(r){const o=r.name;r.data=Ca.call(e,{data:r.data});const s={aliyun:"aliyun",tencent:"tcb",tcb:"tcb"}[this.config.provider],i=Ys(r),u=Js(r),l=i||u;return t.call(this,r).then(c=>(c.errCode=0,!l&&Gs.call(this,{functionName:o,result:c,logPvd:s}),Promise.resolve(c)),c=>(!l&&Gs.call(this,{functionName:o,result:c,logPvd:s}),c&&c.message&&(c.message=function({message:f="",extraInfo:a={},formatter:d=[]}={}){for(let h=0;h<d.length;h++){const{rule:m,content:_,mode:w}=d[h],v=f.match(m);if(!v)continue;let P=_;for(let b=1;b<v.length;b++)P=zs(P,`{$${b}}`,v[b]);for(const b in a)P=zs(P,`{${b}}`,a[b]);return w==="replace"?P:f+P}return f}({message:`[${r.name}]: ${c.message}`,formatter:Em,extraInfo:{functionName:o}})),Promise.reject(c)))};e.callFunction=function(r){const{provider:o,spaceId:s}=e.config,i=r.name;let u,l;return r.data=r.data||{},e.__dev__.debugInfo&&!e.__dev__.debugInfo.forceRemote&&ha?(e._callCloudFunction||(e._callCloudFunction=n,e._callLocalFunction=Ws),u=Ws):u=n,u=u.bind(e),Js(r)||(function({name:c,data:f={}}){return c==="uni-id-co"&&f.method==="secureNetworkHandshakeByWeixin"}(r)?l=u.call(e,r):Ys(r)?l=new Xr({secretType:r.secretType,uniCloudIns:e}).wrapEncryptDataCallFunction(n.bind(e))(r):Im({provider:o,spaceId:s,functionName:i})?l=new Xr({secretType:r.secretType,uniCloudIns:e}).wrapVerifyClientCallFunction(n.bind(e))(r):l=u(r)),Object.defineProperty(l,"result",{get:()=>(console.warn("当前返回结果为Promise类型，不可直接访问其result属性，详情请参考：https://uniapp.dcloud.net.cn/uniCloud/faq?id=promise"),{})}),l}}Xr=class{constructor(){throw Ra({message:`Platform ${Et} is not enabled, please check whether secure network module is enabled in your manifest.json`})}};const La=Symbol("CLIENT_DB_INTERNAL");function $n(e,t){return e.then="DoNotReturnProxyWithAFunctionNamedThen",e._internalType=La,e.inspect=null,e.__v_raw=void 0,new Proxy(e,{get(n,r,o){if(r==="_uniClient")return null;if(typeof r=="symbol")return n[r];if(r in n||typeof r!="string"){const s=n[r];return typeof s=="function"?s.bind(n):s}return t.get(n,r,o)}})}function Xs(e){return{on:(t,n)=>{e[t]=e[t]||[],e[t].indexOf(n)>-1||e[t].push(n)},off:(t,n)=>{e[t]=e[t]||[];const r=e[t].indexOf(n);r!==-1&&e[t].splice(r,1)}}}const Lm=["db.Geo","db.command","command.aggregate"];function $a(e,t){return Lm.indexOf(`${e}.${t}`)>-1}function it(e){switch(ko(e=ya(e))){case"array":return e.map(t=>it(t));case"object":return e._internalType===La||Object.keys(e).forEach(t=>{e[t]=it(e[t])}),e;case"regexp":return{$regexp:{source:e.source,flags:e.flags}};case"date":return{$date:e.toISOString()};default:return e}}function Bt(e){return e&&e.content&&e.content.$method}class $m{constructor(t,n,r){this.content=t,this.prevStage=n||null,this.udb=null,this._database=r}toJSON(){let t=this;const n=[t.content];for(;t.prevStage;)t=t.prevStage,n.push(t.content);return{$db:n.reverse().map(r=>({$method:r.$method,$param:it(r.$param)}))}}getAction(){const t=this.toJSON().$db.find(n=>n.$method==="action");return t&&t.$param&&t.$param[0]}getCommand(){return{$db:this.toJSON().$db.filter(t=>t.$method!=="action")}}get isAggregate(){let t=this;for(;t;){const n=Bt(t),r=Bt(t.prevStage);if(n==="aggregate"&&r==="collection"||n==="pipeline")return!0;t=t.prevStage}return!1}get isCommand(){let t=this;for(;t;){if(Bt(t)==="command")return!0;t=t.prevStage}return!1}get isAggregateCommand(){let t=this;for(;t;){const n=Bt(t),r=Bt(t.prevStage);if(n==="aggregate"&&r==="command")return!0;t=t.prevStage}return!1}getNextStageFn(t){const n=this;return function(){return Gt({$method:t,$param:it(Array.from(arguments))},n,n._database)}}get count(){return this.isAggregate?this.getNextStageFn("count"):function(){return this._send("count",Array.from(arguments))}}get remove(){return this.isCommand?this.getNextStageFn("remove"):function(){return this._send("remove",Array.from(arguments))}}get(){return this._send("get",Array.from(arguments))}get add(){return this.isCommand?this.getNextStageFn("add"):function(){return this._send("add",Array.from(arguments))}}update(){return this._send("update",Array.from(arguments))}end(){return this._send("end",Array.from(arguments))}get set(){return this.isCommand?this.getNextStageFn("set"):function(){throw new Error("JQL禁止使用set方法")}}_send(t,n){const r=this.getAction(),o=this.getCommand();if(o.$db.push({$method:t,$param:it(n)}),Vg){const s=o.$db.find(u=>u.$method==="collection"),i=s&&s.$param;i&&i.length===1&&typeof s.$param[0]=="string"&&s.$param[0].indexOf(",")>-1&&console.warn(`检测到使用JQL语法联表查询时，未使用getTemp先过滤主表数据，在主表数据量大的情况下可能会查询缓慢。
- 如何优化请参考此文档：https://uniapp.dcloud.net.cn/uniCloud/jql?id=lookup-with-temp 
- 如果主表数据量很小请忽略此信息，项目发行时不会出现此提示。`)}return this._database._callCloudFunction({action:r,command:o})}}function Gt(e,t,n){return $n(new $m(e,t,n),{get(r,o){let s="db";return r&&r.content&&(s=r.content.$method),$a(s,o)?Gt({$method:o},r,n):function(){return Gt({$method:o,$param:it(Array.from(arguments))},r,n)}}})}function wr({path:e,method:t}){return class{constructor(){this.param=Array.from(arguments)}toJSON(){return{$newDb:[...e.map(n=>({$method:n})),{$method:t,$param:this.param}]}}}}function Qs(e,t={}){return $n(new e(t),{get:(n,r)=>$a("db",r)?Gt({$method:r},null,n):function(){return Gt({$method:r,$param:it(Array.from(arguments))},null,n)}})}class Zs extends class{constructor({uniClient:t={},isJQL:n=!1}={}){this._uniClient=t,this._authCallBacks={},this._dbCallBacks={},t._isDefault&&(this._dbCallBacks=Pt("_globalUniCloudDatabaseCallback")),n||(this.auth=Xs(this._authCallBacks)),this._isJQL=n,Object.assign(this,Xs(this._dbCallBacks)),this.env=$n({},{get:(r,o)=>({$env:o})}),this.Geo=$n({},{get:(r,o)=>wr({path:["Geo"],method:o})}),this.serverDate=wr({path:[],method:"serverDate"}),this.RegExp=wr({path:[],method:"RegExp"})}getCloudEnv(t){if(typeof t!="string"||!t.trim())throw new Error("getCloudEnv参数错误");return{$env:t.replace("$cloudEnv_","")}}_callback(t,n){const r=this._dbCallBacks;r[t]&&r[t].forEach(o=>{o(...n)})}_callbackAuth(t,n){const r=this._authCallBacks;r[t]&&r[t].forEach(o=>{o(...n)})}multiSend(){const t=Array.from(arguments),n=t.map(r=>{const o=r.getAction(),s=r.getCommand();if(s.$db[s.$db.length-1].$method!=="getTemp")throw new Error("multiSend只支持子命令内使用getTemp");return{action:o,command:s}});return this._callCloudFunction({multiCommand:n,queryList:t})}}{_parseResult(t){return this._isJQL?t.result:t}_callCloudFunction({action:t,command:n,multiCommand:r,queryList:o}){function s(a,d){if(r&&o)for(let h=0;h<o.length;h++){const m=o[h];m.udb&&typeof m.udb.setResult=="function"&&(d?m.udb.setResult(d):m.udb.setResult(a.result.dataList[h]))}}const i=this,u=this._isJQL?"databaseForJQL":"database";function l(a){return i._callback("error",[a]),de(ge(u,"fail"),a).then(()=>de(ge(u,"complete"),a)).then(()=>(s(null,a),ve(Ce,{type:Is,content:a}),Promise.reject(a)))}const c=de(ge(u,"invoke")),f=this._uniClient;return c.then(()=>f.callFunction({name:"DCloud-clientDB",type:qg,data:{action:t,command:n,multiCommand:r}})).then(a=>{const{code:d,message:h,token:m,tokenExpired:_,systemInfo:w=[]}=a.result;if(w)for(let P=0;P<w.length;P++){const{level:b,message:T,detail:x}=w[P],k=console[b]||console.log;let N="[System Info]"+T;x&&(N=`${N}
详细信息：${x}`),k(N)}if(d)return l(new F({code:d,message:h,requestId:a.requestId}));a.result.errCode=a.result.errCode||a.result.code,a.result.errMsg=a.result.errMsg||a.result.message,m&&_&&(_a({token:m,tokenExpired:_}),this._callbackAuth("refreshToken",[{token:m,tokenExpired:_}]),this._callback("refreshToken",[{token:m,tokenExpired:_}]),ve(Ln,{token:m,tokenExpired:_}));const v=[{prop:"affectedDocs",tips:"affectedDocs不再推荐使用，请使用inserted/deleted/updated/data.length替代"},{prop:"code",tips:"code不再推荐使用，请使用errCode替代"},{prop:"message",tips:"message不再推荐使用，请使用errMsg替代"}];for(let P=0;P<v.length;P++){const{prop:b,tips:T}=v[P];if(b in a.result){const x=a.result[b];Object.defineProperty(a.result,b,{get:()=>(console.warn(T),x)})}}return function(P){return de(ge(u,"success"),P).then(()=>de(ge(u,"complete"),P)).then(()=>{s(P,null);const b=i._parseResult(P);return ve(Ce,{type:Is,content:b}),Promise.resolve(b)})}(a)},a=>(/fc_function_not_found|FUNCTION_NOT_FOUND/g.test(a.message)&&console.warn("clientDB未初始化，请在web控制台保存一次schema以开启clientDB"),l(new F({code:a.code||"SYSTEM_ERROR",message:a.message,requestId:a.requestId}))))}}const et="token无效，跳转登录页面",Na="token过期，跳转登录页面",Nm={TOKEN_INVALID_TOKEN_EXPIRED:Na,TOKEN_INVALID_INVALID_CLIENTID:et,TOKEN_INVALID:et,TOKEN_INVALID_WRONG_TOKEN:et,TOKEN_INVALID_ANONYMOUS_USER:et},Qr={"uni-id-token-expired":Na,"uni-id-check-token-failed":et,"uni-id-token-not-exist":et,"uni-id-check-device-feature-failed":et};function ei(e,t){let n="";return n=e?`${e}/${t}`:t,n.replace(/^\//,"")}function ti(e=[],t=""){const n=[],r=[];return e.forEach(o=>{o.needLogin===!0?n.push(ei(t,o.path)):o.needLogin===!1&&r.push(ei(t,o.path))}),{needLoginPage:n,notNeedLoginPage:r}}function Xt(e){return e.split("?")[0].replace(/^\//,"")}function $o(){return function(e){let t=e&&e.$page&&e.$page.fullPath||"";return t&&(t.charAt(0)!=="/"&&(t="/"+t),t)}(function(){const e=getCurrentPages();return e[e.length-1]}())}function Da(){return Xt($o())}function Dm(e="",t={}){if(!e||!(t&&t.list&&t.list.length))return!1;const n=t.list,r=Xt(e);return n.some(o=>o.pagePath===r)}const Bm=!!aa.uniIdRouter,{loginPage:Qt,routerNeedLogin:jm,resToLogin:Mm,needLoginPage:Ba,notNeedLoginPage:Um,loginPageInTabBar:Fm}=function({pages:e=[],subPackages:t=[],uniIdRouter:n={},tabBar:r={}}=aa){const{loginPage:o,needLogin:s=[],resToLogin:i=!0}=n,{needLoginPage:u,notNeedLoginPage:l}=ti(e),{needLoginPage:c,notNeedLoginPage:f}=function(a=[]){const d=[],h=[];return a.forEach(m=>{const{root:_,pages:w=[]}=m,{needLoginPage:v,notNeedLoginPage:P}=ti(w,_);d.push(...v),h.push(...P)}),{needLoginPage:d,notNeedLoginPage:h}}(t);return{loginPage:o,routerNeedLogin:s,resToLogin:i,needLoginPage:[...u,...c],notNeedLoginPage:[...l,...f],loginPageInTabBar:Dm(o,r)}}();if(Ba.indexOf(Qt)>-1)throw new Error(`Login page [${Qt}] should not be "needLogin", please check your pages.json`);function ja(e){const t=Da();if(e.charAt(0)==="/")return e;const[n,r]=e.split("?"),o=n.replace(/^\//,"").split("/"),s=t.split("/");s.pop();for(let i=0;i<o.length;i++){const u=o[i];u===".."?s.pop():u!=="."&&s.push(u)}return s[0]===""&&s.shift(),"/"+s.join("/")+(r?"?"+r:"")}function qm(e){const t=Xt(ja(e));return!(Um.indexOf(t)>-1)&&(Ba.indexOf(t)>-1||jm.some(n=>function(r,o){return new RegExp(o).test(r)}(e,n)))}function Ma({redirect:e}){const t=Xt(e),n=Xt(Qt);return Da()!==n&&t!==n}function Zr({api:e,redirect:t}={}){if(!t||!Ma({redirect:t}))return;const n=function(o,s){return o.charAt(0)!=="/"&&(o="/"+o),s?o.indexOf("?")>-1?o+`&uniIdRedirectUrl=${encodeURIComponent(s)}`:o+`?uniIdRedirectUrl=${encodeURIComponent(s)}`:o}(Qt,t);Fm?e!=="navigateTo"&&e!=="redirectTo"||(e="switchTab"):e==="switchTab"&&(e="navigateTo");const r={navigateTo:z.navigateTo,redirectTo:z.redirectTo,switchTab:z.switchTab,reLaunch:z.reLaunch};setTimeout(()=>{r[e]({url:n})})}function ni({url:e}={}){const t={abortLoginPageJump:!1,autoToLoginPage:!1},n=function(){const{token:r,tokenExpired:o}=Gn();let s;if(r){if(o<Date.now()){const i="uni-id-token-expired";s={errCode:i,errMsg:Qr[i]}}}else{const i="uni-id-check-token-failed";s={errCode:i,errMsg:Qr[i]}}return s}();if(qm(e)&&n){if(n.uniIdRedirectUrl=e,nn(At).length>0)return setTimeout(()=>{ve(At,n)},0),t.abortLoginPageJump=!0,t;t.autoToLoginPage=!0}return t}function Hm(){(function(){const t=$o(),{abortLoginPageJump:n,autoToLoginPage:r}=ni({url:t});n||r&&Zr({api:"redirectTo",redirect:t})})();const e=["navigateTo","redirectTo","reLaunch","switchTab"];for(let t=0;t<e.length;t++){const n=e[t];z.addInterceptor(n,{invoke(r){const{abortLoginPageJump:o,autoToLoginPage:s}=ni({url:r.url});return o?r:s?(Zr({api:n,redirect:ja(r.url)}),!1):r}})}}function Km(){this.onResponse(e=>{const{type:t,content:n}=e;let r=!1;switch(t){case"cloudobject":r=function(o){if(typeof o!="object")return!1;const{errCode:s}=o||{};return s in Qr}(n);break;case"clientdb":r=function(o){if(typeof o!="object")return!1;const{errCode:s}=o||{};return s in Nm}(n)}r&&function(o={}){const s=nn(At);ga().then(()=>{const i=$o();if(i&&Ma({redirect:i}))return s.length>0?ve(At,Object.assign({uniIdRedirectUrl:i},o)):void(Qt&&Zr({api:"navigateTo",redirect:i}))})}(n)})}function Vm(e){(function(t){t.onResponse=function(n){lr(Ce,n)},t.offResponse=function(n){fr(Ce,n)}})(e),function(t){t.onNeedLogin=function(n){lr(At,n)},t.offNeedLogin=function(n){fr(At,n)},Bm&&(Pt("_globalUniCloudStatus").needLoginInit||(Pt("_globalUniCloudStatus").needLoginInit=!0,ga().then(()=>{Hm.call(t)}),Mm&&Km.call(t)))}(e),function(t){t.onRefreshToken=function(n){lr(Ln,n)},t.offRefreshToken=function(n){fr(Ln,n)}}(e)}let Ua;const _n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Wm=/^(?:[A-Za-z\d+/]{4})*?(?:[A-Za-z\d+/]{2}(?:==)?|[A-Za-z\d+/]{3}=?)?$/;function zm(){const e=Gn().token||"",t=e.split(".");if(!e||t.length!==3)return{uid:null,role:[],permission:[],tokenExpired:0};let n;try{n=JSON.parse((r=t[1],decodeURIComponent(Ua(r).split("").map(function(o){return"%"+("00"+o.charCodeAt(0).toString(16)).slice(-2)}).join(""))))}catch(o){throw new Error("获取当前用户信息出错，详细错误信息为："+o.message)}var r;return n.tokenExpired=1e3*n.exp,delete n.exp,delete n.iat,n}Ua=typeof atob!="function"?function(e){if(e=String(e).replace(/[\t\n\f\r ]+/g,""),!Wm.test(e))throw new Error("Failed to execute 'atob' on 'Window': The string to be decoded is not correctly encoded.");var t;e+="==".slice(2-(3&e.length));for(var n,r,o="",s=0;s<e.length;)t=_n.indexOf(e.charAt(s++))<<18|_n.indexOf(e.charAt(s++))<<12|(n=_n.indexOf(e.charAt(s++)))<<6|(r=_n.indexOf(e.charAt(s++))),o+=n===64?String.fromCharCode(t>>16&255):r===64?String.fromCharCode(t>>16&255,t>>8&255):String.fromCharCode(t>>16&255,t>>8&255,255&t);return o}:atob;var Ym=st(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const n="chooseAndUploadFile:ok",r="chooseAndUploadFile:fail";function o(i,u){return i.tempFiles.forEach((l,c)=>{l.name||(l.name=l.path.substring(l.path.lastIndexOf("/")+1)),u&&(l.fileType=u),l.cloudPath=Date.now()+"_"+c+l.name.substring(l.name.lastIndexOf("."))}),i.tempFilePaths||(i.tempFilePaths=i.tempFiles.map(l=>l.path)),i}function s(i,u,{onChooseFile:l,onUploadProgress:c}){return u.then(f=>{if(l){const a=l(f);if(a!==void 0)return Promise.resolve(a).then(d=>d===void 0?f:d)}return f}).then(f=>f===!1?{errMsg:n,tempFilePaths:[],tempFiles:[]}:function(a,d,h=5,m){(d=Object.assign({},d)).errMsg=n;const _=d.tempFiles,w=_.length;let v=0;return new Promise(P=>{for(;v<h;)b();function b(){const T=v++;if(T>=w)return void(!_.find(k=>!k.url&&!k.errMsg)&&P(d));const x=_[T];a.uploadFile({filePath:x.path,cloudPath:x.cloudPath,fileType:x.fileType,onUploadProgress(k){k.index=T,k.tempFile=x,k.tempFilePath=x.path,m&&m(k)}}).then(k=>{x.url=k.fileID,T<w&&b()}).catch(k=>{x.errMsg=k.errMsg||k.message,T<w&&b()})}})}(i,f,5,c))}t.initChooseAndUploadFile=function(i){return function(u={type:"all"}){return u.type==="image"?s(i,function(l){const{count:c,sizeType:f,sourceType:a=["album","camera"],extension:d}=l;return new Promise((h,m)=>{z.chooseImage({count:c,sizeType:f,sourceType:a,extension:d,success(_){h(o(_,"image"))},fail(_){m({errMsg:_.errMsg.replace("chooseImage:fail",r)})}})})}(u),u):u.type==="video"?s(i,function(l){const{camera:c,compressed:f,maxDuration:a,sourceType:d=["album","camera"],extension:h}=l;return new Promise((m,_)=>{z.chooseVideo({camera:c,compressed:f,maxDuration:a,sourceType:d,extension:h,success(w){const{tempFilePath:v,duration:P,size:b,height:T,width:x}=w;m(o({errMsg:"chooseVideo:ok",tempFilePaths:[v],tempFiles:[{name:w.tempFile&&w.tempFile.name||"",path:v,size:b,type:w.tempFile&&w.tempFile.type||"",width:x,height:T,duration:P,fileType:"video",cloudPath:""}]},"video"))},fail(w){_({errMsg:w.errMsg.replace("chooseVideo:fail",r)})}})})}(u),u):s(i,function(l){const{count:c,extension:f}=l;return new Promise((a,d)=>{let h=z.chooseFile;if(typeof mt<"u"&&typeof mt.chooseMessageFile=="function"&&(h=mt.chooseMessageFile),typeof h!="function")return d({errMsg:r+" 请指定 type 类型，该平台仅支持选择 image 或 video。"});h({type:"all",count:c,extension:f,success(m){a(o(m))},fail(m){d({errMsg:m.errMsg.replace("chooseFile:fail",r)})}})})}(u),u)}}}),Jm=Dg(Ym);const Gm="manual";function Fa(e){return{props:{localdata:{type:Array,default:()=>[]},options:{type:[Object,Array],default:()=>({})},spaceInfo:{type:Object,default:()=>({})},collection:{type:[String,Array],default:""},action:{type:String,default:""},field:{type:String,default:""},orderby:{type:String,default:""},where:{type:[String,Object],default:""},pageData:{type:String,default:"add"},pageCurrent:{type:Number,default:1},pageSize:{type:Number,default:20},getcount:{type:[Boolean,String],default:!1},gettree:{type:[Boolean,String],default:!1},gettreepath:{type:[Boolean,String],default:!1},startwith:{type:String,default:""},limitlevel:{type:Number,default:10},groupby:{type:String,default:""},groupField:{type:String,default:""},distinct:{type:[Boolean,String],default:!1},foreignKey:{type:String,default:""},loadtime:{type:String,default:"auto"},manual:{type:Boolean,default:!1}},data:()=>({mixinDatacomLoading:!1,mixinDatacomHasMore:!1,mixinDatacomResData:[],mixinDatacomErrorMessage:"",mixinDatacomPage:{}}),created(){this.mixinDatacomPage={current:this.pageCurrent,size:this.pageSize,count:0},this.$watch(()=>{var t=[];return["pageCurrent","pageSize","localdata","collection","action","field","orderby","where","getont","getcount","gettree","groupby","groupField","distinct"].forEach(n=>{t.push(this[n])}),t},(t,n)=>{if(this.loadtime===Gm)return;let r=!1;const o=[];for(let s=2;s<t.length;s++)t[s]!==n[s]&&(o.push(t[s]),r=!0);t[0]!==n[0]&&(this.mixinDatacomPage.current=this.pageCurrent),this.mixinDatacomPage.size=this.pageSize,this.onMixinDatacomPropsChange(r,o)})},methods:{onMixinDatacomPropsChange(t,n){},mixinDatacomEasyGet({getone:t=!1,success:n,fail:r}={}){this.mixinDatacomLoading||(this.mixinDatacomLoading=!0,this.mixinDatacomErrorMessage="",this.mixinDatacomGet().then(o=>{this.mixinDatacomLoading=!1;const{data:s,count:i}=o.result;this.getcount&&(this.mixinDatacomPage.count=i),this.mixinDatacomHasMore=s.length<this.pageSize;const u=t?s.length?s[0]:void 0:s;this.mixinDatacomResData=u,n&&n(u)}).catch(o=>{this.mixinDatacomLoading=!1,this.mixinDatacomErrorMessage=o,r&&r(o)}))},mixinDatacomGet(t={}){let n=e.database(this.spaceInfo);const r=t.action||this.action;r&&(n=n.action(r));const o=t.collection||this.collection;n=Array.isArray(o)?n.collection(...o):n.collection(o);const s=t.where||this.where;s&&Object.keys(s).length&&(n=n.where(s));const i=t.field||this.field;i&&(n=n.field(i));const u=t.foreignKey||this.foreignKey;u&&(n=n.foreignKey(u));const l=t.groupby||this.groupby;l&&(n=n.groupBy(l));const c=t.groupField||this.groupField;c&&(n=n.groupField(c)),(t.distinct!==void 0?t.distinct:this.distinct)===!0&&(n=n.distinct());const f=t.orderby||this.orderby;f&&(n=n.orderBy(f));const a=t.pageCurrent!==void 0?t.pageCurrent:this.mixinDatacomPage.current,d=t.pageSize!==void 0?t.pageSize:this.mixinDatacomPage.size,h=t.getcount!==void 0?t.getcount:this.getcount,m=t.gettree!==void 0?t.gettree:this.gettree,_=t.gettreepath!==void 0?t.gettreepath:this.gettreepath,w={getCount:h},v={limitLevel:t.limitlevel!==void 0?t.limitlevel:this.limitlevel,startWith:t.startwith!==void 0?t.startwith:this.startwith};return m&&(w.getTree=v),_&&(w.getTreePath=v),n=n.skip(d*(a-1)).limit(d).get(w),n}}}}function Xm(e){return function(t,n={}){n=function(l,c={}){return l.customUI=c.customUI||l.customUI,l.parseSystemError=c.parseSystemError||l.parseSystemError,Object.assign(l.loadingOptions,c.loadingOptions),Object.assign(l.errorOptions,c.errorOptions),typeof c.secretMethods=="object"&&(l.secretMethods=c.secretMethods),l}({customUI:!1,loadingOptions:{title:"加载中...",mask:!0},errorOptions:{type:"modal",retry:!1}},n);const{customUI:r,loadingOptions:o,errorOptions:s,parseSystemError:i}=n,u=!r;return new Proxy({},{get:(l,c)=>function({fn:f,interceptorName:a,getCallbackArgs:d}={}){return async function(...h){const m=d?d({params:h}):{};let _,w;try{return await de(ge(a,"invoke"),{...m}),_=await f(...h),await de(ge(a,"success"),{...m,result:_}),_}catch(v){throw w=v,await de(ge(a,"fail"),{...m,error:w}),w}finally{await de(ge(a,"complete"),w?{...m,error:w}:{...m,result:_})}}}({fn:async function f(...a){let d;u&&z.showLoading({title:o.title,mask:o.mask});const h={name:t,type:Fg,data:{method:c,params:a}};typeof n.secretMethods=="object"&&function(b,T){const x=T.data.method,k=b.secretMethods||{},N=k[x]||k["*"];N&&(T.secretType=N)}(n,h);let m=!1;try{d=await e.callFunction(h)}catch(b){m=!0,d={result:new F(b)}}const{errSubject:_,errCode:w,errMsg:v,newToken:P}=d.result||{};if(u&&z.hideLoading(),P&&P.token&&P.tokenExpired&&(_a(P),ve(Ln,{...P})),w){let b=v;if(m&&i&&(b=(await i({objectName:t,methodName:c,params:a,errSubject:_,errCode:w,errMsg:v})).errMsg||v),u)if(s.type==="toast")z.showToast({title:b,icon:"none"});else{if(s.type!=="modal")throw new Error(`Invalid errorOptions.type: ${s.type}`);{const{confirm:x}=await async function({title:k,content:N,showCancel:L,cancelText:q,confirmText:H}={}){return new Promise((J,_e)=>{z.showModal({title:k,content:N,showCancel:L,cancelText:q,confirmText:H,success(we){J(we)},fail(){J({confirm:!1,cancel:!0})}})})}({title:"提示",content:b,showCancel:s.retry,cancelText:"取消",confirmText:s.retry?"重试":"确定"});if(s.retry&&x)return f(...a)}}const T=new F({subject:_,code:w,message:v,requestId:d.requestId});throw T.detail=d.result,ve(Ce,{type:Rs,content:T}),T}return ve(Ce,{type:Rs,content:d.result}),d.result},interceptorName:"callObject",getCallbackArgs:function({params:f}={}){return{objectName:t,methodName:c,params:f}}})})}}function qa(e){return Pt("_globalUniCloudSecureNetworkCache__{spaceId}".replace("{spaceId}",e.config.spaceId))}async function Qm({openid:e,callLoginByWeixin:t=!1}={}){const n=qa(this);if(e&&t)throw new Error("[SecureNetwork] openid and callLoginByWeixin cannot be passed at the same time");if(e)return n.mpWeixinOpenid=e,{};const r=await new Promise((s,i)=>{z.login({success(u){s(u.code)},fail(u){i(new Error(u.errMsg))}})});return await this.importObject("uni-id-co",{customUI:!0}).secureNetworkHandshakeByWeixin({code:r,callLoginByWeixin:t}),n.mpWeixinCode=r,{code:r}}async function Zm(e){const t=qa(this);return t.initPromise||(t.initPromise=Qm.call(this,e)),t.initPromise}function ey(e){return function({openid:t,callLoginByWeixin:n=!1}={}){return Zm.call(e,{openid:t,callLoginByWeixin:n})}}async function ty(e,t){const n=`http://${e}:${t}/system/ping`;try{const o=await(r={url:n,timeout:500},new Promise((s,i)=>{pe.request({...r,success(u){s(u)},fail(u){i(u)}})}));return!(!o.data||o.data.code!==0)}catch{return!1}var r}async function ny(e){const t=e.__dev__;if(!t.debugInfo)return;const{address:n,servePort:r}=t.debugInfo,{address:o}=await async function(u,l){let c;for(let f=0;f<u.length;f++){const a=u[f];if(await ty(a,l)){c=a;break}}return{address:c,port:l}}(n,r);if(o)return t.localAddress=o,void(t.localPort=r);const s=console.warn;let i="";if(t.debugInfo.initialLaunchType==="remote"?(t.debugInfo.forceRemote=!0,i=`当前客户端和HBuilderX不在同一局域网下（或其他网络原因无法连接HBuilderX），uniCloud本地调试服务不对当前客户端生效。
- 如果不使用uniCloud本地调试服务，请直接忽略此信息。
- 如需使用uniCloud本地调试服务，请将客户端与主机连接到同一局域网下并重新运行到客户端。`):i=`无法连接uniCloud本地调试服务，请检查当前客户端是否与主机在同一局域网下。
- 如需使用uniCloud本地调试服务，请将客户端与主机连接到同一局域网下并重新运行到客户端。`,i+=`
- 如果在HBuilderX开启的状态下切换过网络环境，请重启HBuilderX后再试
- 检查系统防火墙是否拦截了HBuilderX自带的nodejs
- 检查是否错误的使用拦截器修改uni.request方法的参数`,Et.indexOf("mp-")===0&&(i+=`
- 小程序中如何使用uniCloud，请参考：https://uniapp.dcloud.net.cn/uniCloud/publish.html#useinmp`),!t.debugInfo.forceRemote)throw new Error(i);s(i)}function ry(e){e._initPromiseHub||(e._initPromiseHub=new Oo({createPromise:function(){let t=Promise.resolve();var n;n=1,t=new Promise(o=>{setTimeout(()=>{o()},n)});const r=e.auth();return t.then(()=>r.getLoginState()).then(o=>o?Promise.resolve():r.signInAnonymously())}}))}const oy={tcb:Vs,tencent:Vs,aliyun:em,private:Sm};let Se=new class{init(e){let t={};const n=oy[e.provider];if(!n)throw new Error("未提供正确的provider参数");return t=n.init(e),function(r){const o={};r.__dev__=o,o.debugLog=Et==="app";const s=Yg;s&&!s.code&&(o.debugInfo=s);const i=new Oo({createPromise:function(){return ny(r)}});o.initLocalNetwork=function(){return i.exec()}}(t),ry(t),Rm(t),function(r){const o=r.uploadFile;r.uploadFile=function(s){return o.call(this,s)}}(t),function(r){r.database=function(o){if(o&&Object.keys(o).length>0)return r.init(o).database();if(this._database)return this._database;const s=Qs(Zs,{uniClient:r});return this._database=s,s},r.databaseForJQL=function(o){if(o&&Object.keys(o).length>0)return r.init(o).databaseForJQL();if(this._databaseForJQL)return this._databaseForJQL;const s=Qs(Zs,{uniClient:r,isJQL:!0});return this._databaseForJQL=s,s}}(t),function(r){r.getCurrentUserInfo=zm,r.chooseAndUploadFile=Jm.initChooseAndUploadFile(r),Object.assign(r,{get mixinDatacom(){return Fa(r)}}),r.importObject=Xm(r),r.initSecureNetworkByWeixin=ey(r)}(t),["callFunction","uploadFile","deleteFile","getTempFileURL","downloadFile","chooseAndUploadFile"].forEach(r=>{if(!t[r])return;const o=t[r];t[r]=function(){return o.apply(t,Array.from(arguments))},t[r]=function(s,i){return function(u){let l=!1;i==="callFunction"&&(l=(u&&u.type||xs)!==xs);const c=i==="callFunction"&&!l,f=this._initPromiseHub.exec();u=u||{};const{success:a,fail:d,complete:h}=ma(u),m=f.then(()=>l?Promise.resolve():de(ge(i,"invoke"),u)).then(()=>s.call(this,u)).then(_=>l?Promise.resolve(_):de(ge(i,"success"),_).then(()=>de(ge(i,"complete"),_)).then(()=>(c&&ve(Ce,{type:mn,content:_}),Promise.resolve(_))),_=>l?Promise.reject(_):de(ge(i,"fail"),_).then(()=>de(ge(i,"complete"),_)).then(()=>(ve(Ce,{type:mn,content:_}),Promise.reject(_))));if(!(a||d||h))return m;m.then(_=>{a&&a(_),h&&h(_),c&&ve(Ce,{type:mn,content:_})},_=>{d&&d(_),h&&h(_),c&&ve(Ce,{type:mn,content:_})})}}(t[r],r).bind(t)}),t.init=this.init,t}};(()=>{const e=ha;let t={};if(e&&e.length===1)t=e[0],Se=Se.init(t),Se._isDefault=!0;else{const n=["auth","callFunction","uploadFile","deleteFile","getTempFileURL","downloadFile","database","getCurrentUSerInfo","importObject"];let r;r=e&&e.length>0?"应用有多个服务空间，请通过uniCloud.init方法指定要使用的服务空间":"应用未关联服务空间，请在uniCloud目录右键关联服务空间",n.forEach(o=>{Se[o]=function(){return console.error(r),Promise.reject(new F({code:"SYS_ERR",message:r}))}})}Object.assign(Se,{get mixinDatacom(){return Fa(Se)}}),Vm(Se),Se.addInterceptor=da,Se.removeInterceptor=Gg,Se.interceptObject=Xg})();var sy=Se;exports.Ls=sy;exports._export_sfc=Pf;exports.createSSRApp=Sd;exports.defineComponent=Ch;exports.e=yd;exports.f=gd;exports.index=z;exports.io=Cg;exports.n=_d;exports.o=dd;exports.onError=Eg;exports.onHide=Sg;exports.onLoad=Pg;exports.onPullDownRefresh=xg;exports.onReachBottom=Ag;exports.onShow=Tg;exports.p=bd;exports.reactive=Kn;exports.ref=dc;exports.resolveComponent=Hh;exports.s=md;exports.sr=vd;exports.t=wd;exports.unref=ho;exports.wx$1=mt;
