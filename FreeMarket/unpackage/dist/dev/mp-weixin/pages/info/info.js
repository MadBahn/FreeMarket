"use strict";const e=require("../../common/vendor.js"),n=require("../../cfg.js");if(!Array){const f=e.resolveComponent("uni-icons"),i=e.resolveComponent("uni-segmented-control");(f+i)()}const $=()=>"../../uni_modules/uni-icons/components/uni-icons/uni-icons.js",b=()=>"../../uni_modules/uni-segmented-control/components/uni-segmented-control/uni-segmented-control.js";Math||($+b+h+y)();const h=()=>"../../components/goods_unit/goods_unit.js",y=()=>"../../components/post_unit/post_unit.js",P=e.defineComponent({__name:"info",setup(f){getApp().globalData.login.userid;const i=e.ref(""),o=e.ref({}),l=e.ref([]),s=e.ref("goods"),p=e.ref(["商 品","帖 子"]),c=e.ref(0),d=e.ref(0),g=e.ref(!0);e.onLoad(t=>{i.value=t.id,m(),r(!0)}),e.onPullDownRefresh(()=>{r(!0)}),e.onReachBottom(()=>{g.value&&r(!1)});function _(t){c.value=t.currentIndex,c.value===0?s.value="goods":c.value===1&&(s.value="post"),r(!0)}function m(){e.index.request({url:`${n.cfg.server}:${n.cfg.port}${n.cfg.api.prefix}${n.cfg.api.user.prefix}${n.cfg.api.user.user_info}`,method:"POST",data:{userid:i.value},success(t){console.log(t),t.statusCode===200&&(o.value=t.data.data),console.log(o.value)}})}function r(t){t&&(d.value=0),e.index.request({url:`${n.cfg.server}:${n.cfg.port}${n.cfg.api.prefix}${n.cfg.api.user.prefix}${n.cfg.api.user.get_published}`,method:"POST",data:{userid:i.value,type:s.value,field:{start_at:d.value,amount:4}},success(a){console.log(a),a.statusCode===200&&(g.value=a.data.data.data.length===4,d.value=a.data.data.next_index,l.value=t?a.data.data.data:l.value.concat(a.data.data.data))}})}function x(t){let u;s.value==="goods"?u="browse_goods":s.value==="post"&&(u="browse_post"),console.log(u),e.index.navigateTo({url:`/pages/${u}/${u}?id=${t}&userid=${getApp().globalData.login.userid}`})}return(t,u)=>e.e({a:o.value!==void 0},o.value!==void 0?e.e({b:"url("+(o.value.headImg!==""?e.unref(n.cfg).server+":"+e.unref(n.cfg).port+"/"+o.value.headImg:e.unref(n.cfg).default_avatar)+")",c:e.t(o.value.username),d:o.value.gender==="male"},o.value.gender==="male"?{e:e.p({color:"blue",customPrefix:"iconfont",type:"icon-xingbienan"})}:o.value.gender==="female"?{g:e.p({color:"pink",customPrefix:"iconfont",type:"icon-xingbienv"})}:{h:e.p({customPrefix:"iconfont",type:"icon-xingbie"})},{f:o.value.gender==="female",i:e.t(o.value.desc),j:e.t(o.value.city),k:e.o(_),l:e.p({values:p.value,current:c.value,styleType:"text"}),m:e.f(l.value,(a,j,v)=>e.e(s.value==="goods"?{a:"f52d2d81-4-"+v,b:e.p({data:a})}:s.value==="post"?{c:"f52d2d81-5-"+v,d:e.p({data:a})}:{},{e:e.o(w=>x(s.value==="goods"?a.goods_id:a.post_id))})),n:s.value==="goods",o:s.value==="post"}):{})}}),q=e._export_sfc(P,[["__scopeId","data-v-f52d2d81"],["__file","F:/HBuilderProjects/FreeMarket/pages/info/info.vue"]]);wx.createPage(q);
