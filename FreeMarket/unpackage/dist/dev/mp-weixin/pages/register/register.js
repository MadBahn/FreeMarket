"use strict";const e=require("../../common/vendor.js"),s=require("../../cfg.js"),c=e.defineComponent({__name:"register",setup(n){getApp();const r=e.ref({username:"",email:"",password:"",password_confirm:""});function i(){e.index.request({url:s.cfg.server+":"+s.cfg.port+s.cfg.api.prefix+s.cfg.api.user.prefix+s.cfg.api.user.verify_email+r.value.email,success(a){console.log(a)}})}function t(){try{e.index.request({url:s.cfg.server+":"+s.cfg.port+s.cfg.api.prefix+s.cfg.api.user.prefix+s.cfg.api.user.register,method:"POST",data:{register_form:r.value},success(a){console.log("res",a),a.statusCode===200?(e.index.navigateTo({url:"/pages/login/login"}),e.index.showToast({title:"注册成功",icon:"success"})):e.index.showToast({title:"注册失败",icon:"error"})},fail(a){console.log("err",a),e.index.showToast({title:"服务器出了问题",icon:"error"})}})}catch(a){console.log(a)}}return(a,u)=>({a:r.value.username,b:e.o(o=>r.value.username=o.detail.value),c:e.o(i),d:r.value.email,e:e.o(o=>r.value.email=o.detail.value),f:r.value.password,g:e.o(o=>r.value.password=o.detail.value),h:r.value.password_confirm,i:e.o(o=>r.value.password_confirm=o.detail.value),j:e.o(t)})}}),l=e._export_sfc(c,[["__scopeId","data-v-bac4a35d"],["__file","F:/HBuilderProjects/FreeMarket/pages/register/register.vue"]]);wx.createPage(l);
