"use strict";const e=require("../../common/vendor.js"),r=require("../../cfg.js");if(!Array){const l=e.resolveComponent("uni-segmented-control"),o=e.resolveComponent("empty");(l+o)()}const g=()=>"../../uni_modules/uni-segmented-control/components/uni-segmented-control/uni-segmented-control.js",d=()=>"../../components/empty/empty.js";Math||(g+v+m+d)();const v=()=>"../../components/goods_unit/goods_unit.js",m=()=>"../../components/post_unit/post_unit.js",y=e.defineComponent({__name:"favorite",setup(l){const o=e.ref([]),a=e.ref([]),c=e.ref(0),s=e.ref("goods"),p=e.ref(["商 品","帖 子"]);e.onLoad(t=>{i()});function _(t){console.log(t),c.value=t.currentIndex,c.value===0?s.value="goods":c.value===1&&(s.value="post"),i()}function i(){e.index.request({url:r.cfg.server+":"+r.cfg.port+r.cfg.api.prefix+r.cfg.api.user.prefix+r.cfg.api.user.get_favorite,method:"POST",data:{userid:getApp().globalData.login.userid,type:s.value},success(t){if(console.log(t),t.statusCode===200){o.value=t.data;for(let n in o.value)console.log(o.value),console.log(o.value[n]),console.log(typeof o.value[n].refer_to);a.value=o.value.map(n=>(n.isDel=typeof n.refer_to=="string",n))}}})}return(t,n)=>e.e({a:e.o(_),b:e.p({current:c.value,styleType:"text",values:p.value}),c:a.value.length!==0},a.value.length!==0?{d:e.f(a.value,(u,h,f)=>e.e({a:!u.isDel},u.isDel?{}:e.e({b:s.value==="goods"},s.value==="goods"?{c:"8850f19c-1-"+f,d:e.p({data:u.refer_to})}:{e:"8850f19c-2-"+f,f:e.p({data:u.refer_to})})))}:{})}}),x=e._export_sfc(y,[["__scopeId","data-v-8850f19c"],["__file","F:/HBuilderProjects/FreeMarket/pages/favorite/favorite.vue"]]);wx.createPage(x);
